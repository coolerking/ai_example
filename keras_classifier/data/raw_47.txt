1	データベース と は 特定 の 目的 で 利用 者 が 共有 できる よう に 集約 し 登録 ・ 更新 し た データ を 検索 ・ 再 利用 できる よう に し た 仕組み の こと です 
1	企業 など で は データベース 管理 システム （ DBMS ： DataBase Management System ） を 使用 し て 業務 に 使用 する データ を 集中 管理 し て 一貫 性 を 保つ よう に し て い ます 
1	複数 の システム が 一つ の データベース 管理 システム を 使用 する こと で データ が 重複 し て 管理 さ れ た 状態 を 避ける こと が でき ます システム から データ を 独立 さ せ て 管理 する こと を データ 独立 と 呼び ます 
1	企業 など 一般 的 な 組織 における 情報 システム で は 定期 的 に 現状 の 評価 見直し そして 全体 計画 の 再 設定 を 繰り返し ます 全体 計画 の 中 に は システム 全体 の 運用 計画 新規 システム 開発 や 既存 システム の 更新 作業 移行 計画 など が 含ま れ て い ます 
1	データベース スペシャリスト は 情報 システム 全体 の ライフサイクル の 中 で 主 に データベース の 計画 要件 定義 設計 構築 運用 管理 に関する 業務 に 従事 し ます 最近 で は 人間 の 行動 履歴 や 音声 文章 など の 非 構造 化 データ の 取り扱い も 重視 さ れ て おり データベース 上 で 管理 さ れ ない 非 構造 化 データ も 扱い ます 
1	情報 システム に関して は ほぼ すべて の 局面 で データ を 取り扱っ て おり 多く の 場面 で データベース スペシャリスト が 活躍 し て い ます 
1	独立 行政 法人 情報処理 推進 機構 （ 以降 IPA と する ） が 定義 する データベース スペシャリスト の 役割 は 以下 の とおり です 
1	データ 管理 者 （ DA ） と は すべて の 情報 システム の データ 資源 を 管理 し システム 開発 で は 上流 の 分析 ・ 設計 を 担当 し ます 
1	データベース 管理 者 （ DBA ） は データベース の 構築 維持 を 担当 し システム 開発 で は 物理 設計 から 実装 運用 保守 といった 中流 以降 を 担当 し ます 
1	データベース スペシャリスト は データ 管理 者 および データベース 管理 者 の 両方 の 役割 を 担い ます 
1	IPA は 情報処理 試験 の シラバス （ 情報処理 試験 における 知識 ・ 技能 の 細目 ） を 公開 し て い ます 
1	シラバス の 大 項目 で 定義 する データベース の システム 開発 業務 プロセス です 
1	データベース の 全体 計画 および データベース の 運用 ・ 管理 は システム 開発 プロセス の 範囲 外 で の プロセス です 
1	ともに 個別 の システム 開発 で は なく 情報 システム 全体 を 対象 と し た 業務 プロセス です 個別 の システム 開発 プロジェクト 内 で の 業務 は データベース の 要件 定義 から データベース の 実装 ・ テスト まで です 
1	データベース スペシャリスト に 期待 さ れ て いる 技術 水準 は IPA で は 以下 の よう に 定義 さ れ て い ます 
1	データベース スペシャリスト 午前 II 試験 で は 主 に データベース や データベース 管理 システム に関する 広い 知識 が 問わ れ ます 過去 に 出題 さ れ た 問題 が 再 出題 さ れる こと も 少なく あり ませ ん 
1	この ため 複数 年 の 過去 問題 を 学習 し て おき ましょ う なお 25 問 中 5 問 は データベース 以外 の 範囲 から 出題 さ れ ます ので よく 確認 する こと が 必要 です 
1	また 試験 で は データベース 技術 や 製品 固有 の 知識 が 必要 な 問題 も 一部 出題 さ れ ます この よう な 場合 は 対象 製品 の 知識 が なく て も 回答 できる よう に 用語 について の 説明 が 書か れ て い ます 
1	特に 午後 II で は データ モデリング 技術 を 用い た 概念 データモデル を 作成 する 問題 が 必ず 出題 さ れ て い ます ので で よく 確認 する こと が 必要 です 
1	データベース スペシャリスト 試験 に 挑戦 する 受験 者 の 傾向 として データベース 管理 システム に関する 技術 に は 強い 一方 分析 ・ 設計 に関する 技術 が 不足 する 傾向 が あり ます 
1	長い 問題 文 から 漏れ なく 要件 を 洗い出し 概念 データモデル を 作成 する 練習 は 合格 の ため に は 必須 です 
1	データベース スペシャリスト は データ 管理 に関する 組織 全体 の 標準 化 を 担当 し 標準 化 文章 など を 管理 する リポジトリシステム の 企画 から 運用 まで を 担当 し ます 
1	頻度 は 高く あり ませ ん が 標準 化 や リポジトリ に関する 問題 も 過去 に 出題 さ れ て い ます 
1	情報 システム における リポジトリ 
1	情報 システム で 発生 する あらゆる 情報 （ 組織 人 データ 成果 物 メタデータ など ） を 一元 的 に 管理 する 仕組み の こと です 
1	リポジトリシステム と は リポジトリ を 実現 する ため の ソフトウェア の こと です 
1	リポジトリシステム に は 管理 対象 の データ に対する 更新 時 の 衝突 検知 機能 など も 備わっ て い ます 
1	情報 システム に 関与 する 人間 は 多数 な ので リポジトリシステム を 導入 する こと で 複数 人 で 同じ ファイル や データ を 更新 する 際 の 問題 を 防ぐ こと が でき ます 
1	なお リポジトリ という 用語 は 利用 する 場面 によって 意味 が 異なる こと が あり ます ので 注意 が 必要 です 
2	ライフサイクル プロセス 
2	システム ライフサイクル は システム の 構想 から 開発 運用 保守 最終 的 に 破棄 さ れる まで の 過程 全体 を 示す 概念 です 
2	国際 標準 ISO / IEC 15288 （ 日本工業規格 JIS X 0170 ） で は システム ライフサイクル に関する プロセス の 枠組み を 「 システムライフサイクルプロセス 」 として 定め て い ます 
2	また システム を 構成 する ソフトウェア に 着目 し た ソフトウェアライフサイクルプロセス （ SLCP ： Software Life Cycle Process ） という 枠組み も 標準 が 定め られ て い ます 
2	従来 ライフサイクル プロセス の 工程 の 名称 区切り 方 工程 ごと の 作業 内容 は 組織 によって 差異 が ある の が 実情 でし た 
2	そこで 共通 の 言葉 と 共通 の ものさし で 作業 範囲 や 作業 内容 を 明確 に する ため ソフトウェアライフサイクルプロセス の 共通 の 枠組み が 2008 年 に 国際 標準 ISO / IEC 12207 として 制定 さ れ まし た 
2	日本工業規格 JIS X 0160 ： 2012 は ISO / IEC 12207 を もと に 技術 的 内容 や 構成 を 変更 する こと なく 作成 さ れ まし た 
2	この ため JIS X 0160 ： 2012 は 日本 版 SLCP と も 呼ば れ て い ます 
2	日本 版 SLCP （ JIS X 0160 ） を もと に IPA ソフトウェア ・ エンジニアリング センタ が 産業 界 で 必要 と さ れる プロセス や 作業 項目 を 追加 し た もの が 共通 フレーム 2013 です 
2	ソフトウェア の 開発 と その 取引 において 「 プロセス の 可視 化 共通 の 言葉 共通 の ものさし 」 を 提供 する 目的 で 作成 さ れ まし た 
2	共通 フレーム の システム 開発 プロセス および ソフトウェア 実装 を 示し た もの です 
2	破線 は テスト の 要求 事項 が 書か れ て いる アクティビティティ 間 の 関係 を 示し て い ます 
2	共通 フレーム は 個別 の 組織 における 標準 を 作成 する ため の リファレンス として 使用 し ます 
2	たとえば 共通 フレーム を 参考 に 組織 標準 を 定め システム 開発 アプローチ や 問題 領域 固有 の 標準 を 組み入れ た プロジェクト 標準 を 作成 し ます 
2	システム 開発 アプローチ は おもに 三つ の 種類 が あり ます 
2	プロセス 中心 アプローチ （ 従来 型 の アプローチ ） 
2	プロセス 中心 アプローチ （ POA ： Process Oriented Approach ） と は 構造 化 分析 手法 で システム 化 対象 と なる 業務 の 流れ を 中心 に 詳細 化 する 進め方 の こと です 業務 の 流れ を プロセス という 単位 に 分割 し 段階 的 詳細 化 を 行い 細分 化 し て いき ます 
2	プロセス 中心 アプローチ で は 結果 として DFD と 機能 構造 図 （ プロセス 展開 図 ） が 作成 さ れ ます 
2	DFD （ Data Flow Diagram ） は 業務 の 流れ を プロセス と データ ストア に 分け プロセス 間 や プロセスデータストア 間 を データ フロー で 結び データ の 受け渡し を 表現 し ます 
2	機能 構造 図 と は 段階 的 詳細 化 し た プロセス を 階層 的 に 表現 し ます 
2	DFD の プロセス の 粒 度 を 段階 的 に 細分 化 し ながら 機能 構造 図 を 確認 し て 整合 性 が そこなわ れ て い ない こと を 確認 し て 仕様 を 確定 し ます 
2	データ 中心 アプローチ 
2	データ 中心 アプローチ （ DOA ： Data Oriented Approach ） と は システム 化 対象 と なる 業務 で 取り扱う データ （ 実体 エンティティ ） と 相互 の 関連 （ リレーションシップ ） を 中心 に 詳細 化 する 進め方 の こと です 
2	データ が 最も 安定 し た 共有 情報 資源 で ある こと に 着目 し て 考え ださ れ まし た 
2	エンティティ と リレーションシップ の 関係 を 図示 する 方法 として おもに E - R 図 （ ERD ： Entity - Relationship Diagram ） DFD を 使用 し ます 
2	E - R 図 の 表記 法 に は 様々 な 標準 が 存在 し ます 
2	この ため データベース スペシャリスト 試験 で は 問題 文 の 先頭 に 表記 法 の 解説 を 明記 し て い ます 
2	データ 中心 アプローチ で は E - R 図 を 中心 に 詳細 化 し ます が 図表 3 の よう に DFD は データ の 流れ を 明らか に する と 同時に 蓄積 データ つまり エンティティ （ データベース 候補 ） も 明らか に でき ます 
2	また プロセス と データ の 関係 も 表し ます ので 正規 化 が 浸透 し て き て から は 論理 設計 以降 も 使わ れる よう に なり DFD は データ 中心 アプローチ において 主要 な 道具 に なっ て い ます 
2	ほか に CRUD 図 といった 検証 文書 を 作成 し て E - R 図 や DFD を 検証 し ます 
2	オブジェクト 指向 アプローチ 
2	オブジェクト 指向 アプローチ （ OOA ： Object Oriented Approach ） と は プログラム や データ その 組み合わせ など を オブジェクト （ もの 部品 ） として 捉え オブジェクト を 組み合わせ て システム を 構築 する 進め方 です 
2	オブジェクト 指向 アプローチ で は おもに UML を 用い ます 
2	UML は クラス 図 や シーケンス 図 アクティビティ 図 ステート チャート など 様々 な 図示 の 表記 法 が 規定 さ れ て い ます 
2	特に クラス 図 は クラス と 関連 を 用い て 構造 を 表現 する ため E - R 図 と 同等 の 情報 を 織り込ん だ 図示 が 可能 です オブジェクト 指向 アプローチ で は クラス 図 以外 の 表記 法 も 平行 し て 使用 し て 詳細 化 を 進め 仕様 を 確定 し ます 
3	全体 計画 
3	企業 など の 組織 で は 一般 的 に ビジョン や 目標 に対して 活動 指針 と なる 全体 計画 を 作成 し ます 
3	全体 計画 は 定期 的 に 評価 し 結果 を もと に ビジネス 環境 など 組織 を 取り巻く 環境 の 変化 など を 踏まえ て ビジネス アナリシス を 行い 更新 または 作成 し なおし ます 
3	ビジネス アナリシス 
3	ビジネス アナリシス と は 利害 関係 者 （ ステークホルダ ） の ニーズ や 業務 上 の 課題 を 調査 整理 分析 書籍 化 検証 調整 し て 解決 策 が 満たす べき 要求 として 取りまとめる こと です 
3	ビジネス アナリシス 知識 体系 ガイド （ BABOK ： A Guide to the Business Analysis Body of Knowledge ） は IIBA （ International Institute of Business Analysis ） という 団体 が 発行 し て いる ビジネス アナリシス の ベストプラクティス を 体系 化 し た 書籍 の 名称 です BABOK は 七つ の 知識 エリア を 定義 し て い ます 
3	さらに 各 知識 エリア の タスク ごと に 目的 内容 インプット アウトプット 要素 テクニックステークホルダ を 定義 し て い ます 
3	2009 年 に は BABOK 日本語 版 が 発行 さ れ まし た この ため 日本 国内 で も ビジネス アナリシス を 取り入れる 企業 が 増え つつ あり ます 
3	ビジネス アナリシス の 中 で 現状 から 問題 把握 分析 を 行う ため に エンタープライズ アーキテクチャ を 用いる こと が あり ます 
3	エンタープライズ アーキテクチャ 
3	エンタープライズ アーキテクチャ （ EA ） は 分析 の ため の 枠組み です 組織 が 投資 や 人的 資源 の 配置 など の 全体 最適 を 実現 する ため の 分析 に EA を 適用 し ます EA の 基本 的 な 思想 は 1987 年 に ザック マン が 提唱 し た ザックマンフレームワーク に ある と さ れ て い ます 日本 で は 1990 年代 に EA を 採用 する 企業 が 増え 始め まし た 2003 年 に は 経済 産業 省 が EA 策定 ガイドライン を 公開 し て い ます 
3	EA の アーキテクチャ モデル は 政策 や 業務 体系 を あらわす ビジネス アーキテクチャ （ BA ） データ 体系 を あらわす データ アーキテクチャ （ DA ） 適用 処理 体系 を あらわす アプリケーション アーキテクチャ （ AA ） そして 技術 体系 を あらわす テクノロジー アーキテクチャ （ TA ） の 四つ に 分類 さ れ ます DAAATA を あわせ て 情報 システム アーキテクチャ （ ISA ） と よび ます 
3	EA における 四つ の 体系 を 図示 し た もの で 上位 の 層 から 順番 に 下位 の 層 を 規定 し て いる こと を 示し て い ます 政策 業務 体系 （ BA ） の 下 の 層 は データ 体系 （ DA 業務 に 必要 と なる 情報 ） で あり 適用 処理 体系 （ AA ） で は あり ませ ん これ は EA で は 組織 における データ 体系 を 処理 体系 より も 重視 し て いる こと を 示し て い ます 
3	データベース の 全体 計画 
3	組織 全体 を 統括 する アーキテクト は ビジネス アナリシス の 結果 を もと に 全体 計画 作成 作業 に 参加 し ます 
3	データベース スペシャリスト は アーキテクト を 支援 し て データベース の 中長期 的 な 運用 移行 計画 （ データベース の 全体 計画 ） を 立案 し ます 
3	この ため データベース スペシャリスト に は 情報 システム の 評価 手法 に関する 知識 や 問題 分析 手法 に関する 知識 も 必要 に なり ます 
3	概念 CDM 
3	データベース スペシャリスト は 経営 戦略 に 基づい た ビジネス モデル や 目指 す べき ビジネス 構造 など （ ビジネス アナリシス 実施 組織 の 場合 は その 結果 も 含む ） を もと に トップダウン で データ を 抽出 し 概念 コーポレート データモデル （ 概念 CDM ） を 作成 ・ 維持 し ます 
3	概念 CDM は いわば 概念 データモデル の 組織 全体 版 です 全 業務 を 対象 と する 概念 データモデル を 作る 場合 や 組織 の 目的 達成 の ため に 重要 な 業務 について 作る 場合 も あり ます 
3	企業 など の 場合 は 自社 内 だけ で なく 取引 先 や 関連 企業 まで を 考慮 に 入れ た モデル に なり ます 
3	概念 CDM は 情報 戦略 ドキュメント の 一つ です この ため 経営 者 など 利害 関係 者 が 参照 し て 理解 できる 図表 で なく て は なり ませ ん 
3	一般 的 に E - R 図 や クラス 図 で 作成 し ます が 組織 によって は 独自 の 表記 法 を 用い て いる 場合 も あり ます 
3	概念 CDM を 作成 する 際 は かならず 組織 内 で 統一 し た 用語 集 を 維持 管理 し て おく 必要 が あり ます 
3	概念 CDM 上 の データ や 関連 の 名称 は 共通 の 用語 を 用い て 定義 し ます 
3	新た な システム 開発 プロジェクト を 開始 する 場合 概念 CDM を 参照 し て 概念 プロジェクト データモデル （ 概念 PDM ） を 作成 し ます 
3	PDM と は プロジェクト 内 で 作成 する データモデル の こと です 概念 データモデル について は 後続 の テーマ で 学習 し ます 
3	システム 開発 が 完了 し たら 概念 CDM へ 反映 し 可能 な 限り 最新 の 状態 に 保ち ます （ 図表 3 ） 
3	データ 定義 の 標準 化 
3	組織 で は 統一 し た ルール に 基づい て 業務 を 進める ため に 様々 な 標準 化 を 行っ て い ます 
3	データベース スペシャリスト は 非 構造 化 データ を 含む データ 定義 に関する 標準 化 作業 を 担当 し ます 
3	標準 化 対象 は 図表 4 に 挙げ た 以外 に も 標準 化 文書 や 用語 集 概念 CDM を 管理 する リポジトリシステム の 運用 管理 ルール の 策定 など が あり ます 
3	組織 内 で 活動 し て いる システム 開発 プロジェクト が ない 場合 でも 様々 な 重要 な 役割 を 担っ て い ます 
3	また プロジェクト 内 の 標準 の 作成 支援 も 担当 する こと が あり ます 
3	プロジェクト 標準 の 中 でも データベース 設計 に関する 部分 の 作成 および 維持 について は 主導 し て 作業 を 行い ます 
3	例えば データ 中心 アプローチ の 場合 概念 データモデル 論理 データモデル 物理 データモデル を 作成 し ます が その 際 に 用いる ツール や 作成 する 成果 物 項目 など の ネーミング ルール 成果 物 を 作成 する ため の 入力 情報 および 出力 情報 作業 上 必要 と する スキル など を 規定 し ます 
4	要件 定義 （ データベース ） 
4	現状 調査 と 課題 分析 
4	現状 調査 
4	業務 プロセス や データ に関する 調査 を おこない ます 現状 を 把握 する ため に は 関係 者 へ の アンケート や ヒアリング 業務 の 履歴 や 障害 報告 を 始め と し た 各種 業務 レポート 現行 システム の 設計 書 や マニュアル 現行 システム の 画面 や 帳票 システム ログ など から 情報 を 得 ます 
4	課題 分析 
4	得 られ た 情報 を もと に 問題 分析 手法 を 活用 し て 分析 を おこない ます 
4	例えば KJ 法 を 用い 取得 し た 情報 を 分類 し 特性 要因 図 を 作成 し て 問題 抽出 を おこない ます 
4	要因 特定 でき ない 場合 は ブレインストーミング を 実施 し て 未 発見 の 要因 を 列挙 し ます 
4	また 何 が 問題 か わから ない 場合 は ソフト システムズ 方法 論 （ SSM ） を 活用 し て 基本 課題 の 洗い出し から 開始 する 方法 も あり ます 
4	問題 分析 手法 を 知ら ない メンバ で 課題 分析 を おこなう 場合 は 知見 の ある ファシリテータ の 支援 の もと ワークショップ 形式 で 実施 する 方法 も あり ます 
4	課題 分析 で の 作業 は 対象 と なる 範囲 や 利害 関係 者 の 経験 など さまざま な 条件 により 手順 が 異なり ます 
4	手法 によって は 課題 が 発散 し て しまう こと も 少なく あり ませ ん その よう な 場合 より 多く の 問題 分析 手法 を 習得 し て いる と 対応 策 が 取り やすく なり ます 
4	一般 的 に 現状 調査 と 課題 分析 で は データベース スペシャリスト として の 枠組み を 超え た 範囲 の 作業 も 担当 し ます 
4	作業 範囲 の 確定 
4	システム 構築 の 目的 を 明確 に し て 作業 範囲 の 確定 を し ます 作業 範囲 確定 後 プロジェクト マネージャ は プロジェクト マネジメント 計画 書 を 作成 し ます 
4	また アーキテクト は システム アーキテクチャ 設計 書 （ システム 方式 設計 書 ） を 作成 し ます 
4	データベース スペシャリスト は プロジェクト マネジメント 計画 書 や システム アーキテクチャ 設計 書 の データベース に関する 範囲 を 担当 し ます 
4	プロジェクト マネジメント 計画 書 
4	プロジェクト マネジメント 計画 書 は 以下 の 目的 で 作成 し ます 
4	初期 段階 で プロジェクト の 実現 可能 性 を 判断 する 材料 の ため 
4	利害 関係 者 間 で の 共通 理解 の ため 
4	プロジェクト の 予実 差分 を 把握 し 是正 措置 を 取る 際 の 判断 材料 の ため 
4	プロジェクト マネジメント 計画 書 に 記載 する 内容 を 記述 し た もの です 
4	プロジェクト マネジメント 計画 書 の 作業 計画 品質 保証 計画 や データ 管理 や データベース に関する 部分 について は データベース スペシャリスト の 支援 が 必要 と なり ます 
4	また 人員 計画 について も 支援 を 求め られる こと が あり ます 
4	この ため データベース スペシャリスト は 作業 工数 見積 手法 について も 学習 し て おく 必要 が あり ます 
4	システム アーキテクチャ 説明 書 
4	システム 方式 設計 プロセス で は 確定 し た システム の 境界 に対して ハードウェア を 含め た システム 全体 の アーキテクチャ を 決定 し システム アーキテクチャ 設計 書 を 作成 し ます 
4	システム アーキテクチャ 設計 書 で は システム 構成 要素 に 分割 し 構成 要素 の 責務 役割 それら の 相互 作用 を 明確 化 し ます 
4	また 設計 上 の 主要 な 課題 を 特定 し 実現 方式 処理 方式 を 決定 し ます データベース スペシャリスト は 非 構造 化 データ まで 含め た データ 管理 の 実現 方式 を 決定 する 作業 を おこない ます 
4	実現 方式 を 確定 する ため に は データベース の 要件 定義 を 実施 し ます 
4	非 機能 要件 を 中心 に システム アーキテクチャ を 決定 し 機能 要件 へ の 影響 を 検証 し て ソフトウェア アーキテクチャ に 反映 し ます 
4	データベース の 要件 定義 
4	データベース の 要件 定義 で は データベース の 実現 方式 （ データベース の 種類 や 具体 的 な データベース 管理 システム 製品 名 ） の 決定 の ため に 必要 な 要件 を 収集 し ます 
4	主要 な データベース 要件 です データベース スペシャリスト は データベース 要件 を もと に 実現 方式 を 決め ます 
4	非 機能 要件 の 範囲 は 広範 で ある ため 要件 漏れ を 発生 する 可能 性 が 高く なり ます 
4	この よう な 問題 を 解決 する ため に 非 機能 要求 グレード を 用い て 要件 漏れ を 確認 し ます 非 機能 要求 グレード 
4	非 機能 要求 グレード は 非 機能 要求 について 発注 者 と 受注 者 と の 認識 の 行き 違い や 互い の 意図 と は 異なる 理解 を し た こと に 気づか ない まま 開発 が 進ん で しまう こと を 防ぐ 目的 で 作成 さ れ まし た 
4	非 機能 要求 グレード に は システム 基盤 の 非 機能 要求 に関する グレード 表 システム 基盤 の 非 機能 要求 に関する 項目 一覧 システム 基盤 の 非 機能 要求 に関する 樹 形 図 非 機能 グレード 活用 シート および 利用 ガイド で 構成 さ れ て い ます 
4	IPA サイト から 自由 に ダウンロード 可能 です が 使用 条件 が 定め られ て い ます 必ず 確認 の 上 使用 し て 下さい 
5	データベース の 種類 
5	データベース は どの よう な 構造 で データ を 管理 する か により 分類 し ます 
5	階層 型 データベース （ HDB ： Hierarchical DataBase ） 
5	ネットワーク データベース （ NDB ： Network DataBase ） 
5	関係 データベース （ RDB ： Relational DataBase ） 
5	オブジェクト 指向 データベース （ OODB ： Object Oriented DataBase ） 
5	階層 型 データベース 
5	データ 集合 の 関連 を 階層 構造 で 表現 管理 する データベース です 
5	階層 構造 において 相対 的 に 上位 に 位置 する 集合 を 親 親 に 属する 集合 を 子 と 表現 し ます 親子 の 関連 は 1 対 1 もしくは 1 対 多 の 木 構造 で 表現 し ます 
5	ネットワーク データベース 
5	データ 集合 の 関連 を 網 構造 で 表現 管理 し ます 多 対 多 構造 で 構成 する こと が でき ます 階層 型 と は 異なり 子 は 複数 の 親 を もつ こと が 可能 です 
5	関係 データベース 
5	データ 集合 を テーブル 構造 （ 表 形式 ） で あらわし テーブル 間 の 関連 を 外部 キー として 設ける こと で 1 対 11 対 多 （ 多 対 1 ） の 関係 で あらわす こと が でき ます 
5	現在 最も 普及 し て いる データベース です 
5	DB 試験 で は 関係 データベース を 前提 と し た 問題 が 出題 さ れ ます 
5	オブジェクト 指向 データベース 
5	オブジェクト 指向 プログラミング 言語 における オブジェクト を データベース に 導入 し た もの です オブジェクト 自体 を 格納 する こと が でき オブジェクト 指向 プログラミング 言語 で 扱い やすい という 利点 が あり ます 
5	また 上記 の よう な 分類 の ほか に ハイ パテキストデータベースマルチメディアデータベース XML データベース といった もの も あり ます 
5	それぞれ 格納 対象 が ハイパテキストマルチメディアデータ （ テキスト 画像 映像 音声 など ） XML データ を 格納 する こと の できる データベース です 
5	データモデル 
5	データモデル と は 組織 内 で の 意思 疎通 を 改善 し て 柔軟 で 安定 し た アプリケーション 環境 に 導く ため に 使用 する データ を 図表 や テキスト 等 で 表現 し た もの を さし ます 
5	また データモデル を 作成 する こと を データ モデリング と よび ます 
5	システム 開発 で は システム 化 対象 と なる データ 構造 を 図表 化 し 業務 上 の ルール を 反映 し て 利害 関係 者 や 開発 者 の 間 で 同じ 理解 を 得 ながら 仕様 化 する ため に 用い ます 
5	DB 試験 で 出題 頻度 の 高い データ 中心 アプローチ で は データモデル を 三つ の 段階 に わけ て 設計 を すすめ ます 
5	概念 データモデル 
5	システム 化 対象 範囲 で 使用 する データ を 集約 し システム が 使用 する データ 構造 を 図表 など で 表現 し て 概念 データモデル を 作成 し ます 概念 CDM が 存在 する 場合 は システム 化 対象 部分 を 切り出し て 作成 し ます システム 化 対象 範囲 全体 から 段階 的 に 詳細 化 を すすめる トップダウン アプローチ 具体 的 な 画面 や 帳票 など 個々 の 詳細 設計 から システム の 全体 像 を 構成 する ボトムアップ アプローチ の 二つ の 方法 が あり ます 
5	概念 データモデル は 利害 関係 者 と 設計 者 開発 者 と の 業務 上 の 共通 認識 を あわせる 目的 で 作成 し ます この ため 詳細 な 項目 を すべて 洗い出す こと より 取り扱う データ の 名称 や データ 間 の 関連 に 重点 を 置き ます 
5	論理 データモデル 
5	概念 データモデル を もと に 確定 し た ソフトウェア アーキテクチャ を 組み入れ 詳細 化 を おこない 論理 データモデル を 作成 し ます 論理 データモデル で は 内部 コード を 含む すべて の データ 項目 や データ 間 の 関連 を 洗い出し 正規 化 など を 用い て 整合 性 の とれ た 構造 に 整理 し ます また データ の 配置 データベース の 種類 他 システム と の 接続 方法 アプリケーション から の アクセス 方法 を 前提 と し た 論理 的 な データ モデリング を おこない ます 
5	利用 者 または 連携 する プログラム の 視点 が 変更 に なっ た 場合 論理 データモデル 以降 を 変更 する だけ で 概念 データモデル に は 影響 が 及び ませ ん 
5	この よう な 影響 範囲 を 意識 し た 設計 を 論理 データ 独立 と よび ます 
5	物理 データモデル 
5	論理 データモデル を もと に 物理 的 な データベース の 配置 データベース を 実現 する ため の ハードウェアソフトウェアデータベース 固有 の 機能 を 用い た 索引 や 制約 など を 意識 し た 物理 データモデル を 作成 し ます 
5	ハードウェア や データベース 製品 が 変更 に なっ た 場合 物理 データモデル を 変更 する だけ で 上位 の データモデル に は 影響 が 及び ませ ん この よう な 設計 を 物理 データ 独立 と よび ます 
5	3 層 スキーマ アーキテクチャ 
5	概念 データモデル から 論理 データモデル を 作成 する 際 ソフトウェア アーキテクチャ を 組み入れる ため モデル が 複雑 に なり ます 
5	この ため 論理 データモデル を 設計 する 際 に いくつ か の スキーマ に 分類 し て 設計 し ます 
5	ここ で の スキーマ は 「 データ の 構造 型式 関連 各種 制約 など を 記述 し た もの 」 です 
5	一般 的 に 良く 用い られる の が アメリカ 規格 協会 標準 化 委員 会 ANSI / SPARC の 3 層 スキーマ アーキテクチャ です 
5	外部 スキーマ 
5	利用 者 または 連携 する プログラム の 視点 から 見 た データベース を あらわし ます 一つ の データベース は 複数 の 外部 スキーマ を もつ こと が でき ます 代表 的 な もの に ビュー が あり ます サブスキーマ と よぶ こと も あり ます 
5	概念 スキーマ 
5	項目 間 や データ 間 の 関連 を あらわす データベース の 論理 的 な 構造 を あらわし ます 
5	一つ の データベース につき 概念 スキーマ は 一つ だけ 存在 し ます 表 定義 は 概念 スキーマ に 該当 し ます 
5	内部 スキーマ 
5	データベース の 物理 的 な 構造 を あらわし ます 一つ の データベース につき 内部 スキーマ は 一つ だけ 存在 し ます 
5	データベース 管理 システム を 使用 し た データベース 実装 に 該当 し ます 
6	分析 ・ 設計 （ データベース ） 
6	関係 データモデル 
6	関係 データモデル と は 関係 データベース を 前提 として 作成 する データモデル の こと です 
6	データベース スペシャリスト 試験 で は 概念 設計 論理 設計 を 題材 と する 場合 関係 データモデル が 用い られ て い ます 
6	関係 と テーブル 
6	関係 データモデル の 「 関係 （ リレーション ） 」 と は 2 次元 の 表 （ テーブル ） で 構成 さ れ ます 
6	のちほど 関係 データモデル を 図 で 表現 する 学習 を おこない ます が E - R 図 の 「 エンティティ 」 が 関係 表 テーブル に 相当 し ます 
6	属性 と列 
6	関係 は 一つ 以上 の 属性 （ アトリビュート ） から 構成 さ れ ます 例えば 関係 「 顧客 」 は 「 顧客 番号 」 「 顧客 名 」 「 住所 」 「 年齢 」 という 属性 で 構成 さ れ て い ます 
6	属性 は 表 の 列 （ カラム ） に 相当 し ます 
6	行 と タプル 
6	表 の 行 に 当たる 部分 を タプル （ 組 ） と いい ます 
6	ドメイン 
6	属性 など の 集合 の 取り うる 値 の 範囲 を ドメイン （ 定義 域 ） と いい ます 
6	「 顧客 」 表 の 属性 「 顧客 名 」 の ドメイン は 「 田中 一郎 」 「 鈴木 太郎 」 「 佐藤 花子 」 「 小林 次郎 」 の 4 要素 の 集合 を さし ます 
6	データベース 管理 システム の 中 に は ドメイン を 制約 として 設定 可能 な もの も あり ます 
6	なお オブジェクト 指向 アプローチ を 用いる 場合 「 ドメイン 」 は 問題 領域 という 特別 な 意味 づけ し た 用語 として 使用 し ます 
6	3 値 理論 
6	データベース は 3 値 論理 に 従っ て い ます 
6	3 値 論理 と は 真 ( true ) 偽 ( false ) の ほか に NULL という 第 3 の 論理 値 を 持つ 論理 こと です 
6	データベース で は NULL という 論理 値 が 用意 さ れ て い ます 
6	対象 値 が 不明 未知 もしくは 適用 不能 で ある 場合 に 使用 し ます 
6	真偽 値 型 以外 の 型 で も NULL を 使用 する こと が でき ます 
6	また 表 に対して NULL を 格納 でき ない 制約 を 適用 する こと が でき ます 
6	概念 データモデル の 作成 ・ 検証 
6	概念 データモデル の 作成 
6	データベース スペシャリスト は 整理 さ れ た 要件 を もと に 概念 データモデル を 作成 し ます 
6	一般 的 に 「 整理 さ れ た 要件 」 と は 表 や 図 帳票 や 画面 など の 場合 も あり ます が その 多く は 業務 記述 書 の よう な 業務 上 の 仕組み や ルール を 記述 し た 通常 の 文章 です 
6	文章 から 関係 や 属性 を 発見 し その 相互 の 関係 を 整理 する 作業 を おこない ます 
6	その 際 に 名詞 抽出 法 や モノ ・ コト 分析 など を 用い て 関係 や 属性 の 候補 を 切り出し ます 
6	概念 データモデル は データベース の 種類 に 依存 し ない 表現 で 記述 表記 し ます 
6	一般 的 に は E - R 図 を 使っ て 表記 し ます が 最近 で は UML の クラス 図 を 用いる 場合 も あり ます 
6	ただし 経営 者 など 利害 関係 者 が 参照 する 場合 は ほか の 表現 方法 で 記述 する 場合 も あり ます 
6	なお データベース スペシャリスト 試験 で は E - R 図 クラス 図 以外 の 表記 方法 で は 出題 さ れ ませ ん 
6	概念 CDM を 管理 し て いる 組織 で は システム 化 対象 部分 を 切り出し て 概念 データモデル の ベース として 使用 する こと が あり ます 
6	概念 データモデル の 検証 
6	データベース スペシャリスト は 作成 し た 概念 データモデル が 正しい か ほか の プロジェクト 成果 物 を 用い て 検証 を おこない ます 
6	プロジェクト 成果 物 は 適用 さ れる プロジェクト 方針 により 異なり ます 
6	検証 対象 と なる 成果 物 の 例 です 
6	業務 フロー や DFD 画面 遷移 図 ユース ケース 記述 シナリオ 記述 といった プロセス 分析 系 成果 物 システム アーキテクチャ 設計 書 や ビジネス ルール など の ゴール 分析 系 成果 物 用語 集 や 各種 標準 ポリシー など の 参照 系 成果 物 が あり ます 
6	それら の 成果 物 と 概念 データモデル と の 間 の 整合 性 を 確認 し ます 
6	整合 性 検証 は 用語 が 統一 さ れ て いる か 想定 し て いる 要件 や プロセス が 実現 可能 で ある か を 確認 し ます 
6	プロセス の 検証 は 単純 な 成果 物 間 の 比較 だけ で は なく データ の ライフサイクル について も 確認 し ます 
6	データ の ライフサイクル 検証 に は CRUD 分析 や ロバストネス 分析 を 用い ます 
6	論理 データモデル の 作成 ・ 検証 
6	論理 データモデル の 作成 
6	データベース スペシャリスト は 論理 データモデル 作成 を 担当 し ます 
6	論理 データモデル 作成 は 適用 する プロジェクト 標準 によって 異なり ます が 一般 的 に ソフトウェア 方式 設計 フェーズ で おこない ます 
6	論理 データモデル は ソフトウェア アーキテクチャ の 論理 レベル の 設計 方針 を 組み入れ 必要 と する 属性 を すべて 洗い出し データ 間 の 関連 を 論理 的 に 表現 し て 作成 し ます 
6	一般 的 に は 概念 データモデル を もと に 論理 データモデル を 作成 し ます 
6	その 際 に は 仕様 を 満たす ため の すべて の 属性 を 表記 し データ 間 の 関連 を 明記 し 仕様 を 満たす キー など の 制約 を 記載 し ます 
6	また 可能 な 限り 更新 時 など データ 整合 性 を 保つ こと が できる よう に 正規 化 を おこない ます 
6	論理 データモデル は 対象 と なる データベース の 種類 に あわせ て 表記 法 を 決定 し ます 
6	データベース スペシャリスト 試験 で は 関係 データモデル を 前提 と し て いる ため E - R 図 や クラス 図 を 使用 し ます 
6	そして 完成 し た 論理 データモデル は データベース 上 で 実現 可能 な モデル と なり ます 
6	論理 データモデル の 検証 
6	データベース スペシャリスト は 作成 し た 論理 データモデル が 要件 を 満たす モデル で ある か 検証 を おこない ます 論理 データモデル の 検証 は 2 段階 あり ます 
6	同 一 フェーズ の 成果 物 と の 整合 性 を 検証 
6	前 フェーズ まで の 成果 物 と の 整合 性 を 検証 
6	検証 対象 成果 物 の 一 例 です 
6	同 一 フェーズ の 成果 物 が ソフトウェア アーキテクチャ 設計 書 論理 コンポーネント 設計 書 で ある 場合 は 論理 コンポーネント 間 の シーケンス 図 を 記述 し て 整合 性 を 確認 し ます 
6	そして 関係 データベース の 場合 関係 代数 を 用い て 論理 データモデル 上 の データ 項目 から 目的 の データ へ 加工 可能 で ある か どう か を 確認 し ます 
6	その後 前 フェーズ まで の 成果 物 に 記述 さ れ た 要件 を 満たす か どう か 整合 性 検証 を 実施 し ます 
6	こちら の 作業 は 概念 データモデル で 実施 し た 作業 と ほぼ 同じ です 
7	スーパー キー 
7	キー （ 識別子 ） と は 
7	関係 データベース における キー と は 表 の 検索 や 並び 替え など を おこなう 際 に 比較 の 対象 と なる 一つ 以上 の 属性 の こと です 
7	キー に は 様々 な 種類 が 存在 し ます 
7	スーパー キー 
7	行 を 一意 に 識別 できる 属性 もしくは 属性 の 組 を スーパー キー （ super key ） と よび ます 
7	「 行 を 一意 に 識別 できる 」 と は 存在 する すべて の 行 の 中 から 1 行 を 特定 できる こと を さし ます 
7	候補 キー 
7	行 を 一意 に 識別 できる 属性 もしくは 属性 の 組 の うち 極小 の もの を 候補 キー （ candidate key ） と よび ます 
7	「 極小 の もの 」 と は 評価 中 の 属性 の 組 から どれ か 一つ の 属性 を 削除 し て しまう と 行 を 一意 に 識別 でき なく なる もの を さし ます 
7	主 キー と 代理 キー 
7	主 キー 
7	主 キー （ primary key ） は 候補 キー の 中 から 一つ 選ん だ もの で 属性 値 が NULL と なら ない もの です 
7	どれ を 選択 する か は データベース を 設計 する 担当 者 が どの よう に 属性 に対して 意味 づけ する か によります 
7	代理 キー 
7	主 キー 以外 の 候補 キー を 代理 キー （ alternate key ） または 2 次 キー （ secondary key ） と よび ます 
7	「 学生 」 表 の 候補 キー は 一つ のみ で 主 キー として 選択 し て しまっ た ため 代理 キー は あり ませ ん 
7	平成 20 年 より 前 の データベース スペシャリスト 午前 問題 で は 代理 キー で は なく 代替 キー という 名称 で 出題 さ れ て い まし た 
7	今後 再度 代替 キー という 名称 で 出題 さ れる 可能 性 は 低い です が 念 の ため こちら の 名称 も 学習 し て おい て ください 
7	外部 キー 
7	同じ ドメイン を もつ 他 の 表 の 主 キー を 参照 する 属性 もしくは 属性 の 組 を 外部 キー （ foreign key ） と よび ます 
7	外部 キー を 定義 し た 表 を 参照 表 外部 キー によって 参照 表 から 参照 さ れる 表 を 被参照 表 と よび ます 
7	参照 表 へ 行 を 追加 変更 する 場合 は 注意 が 必要 です 
7	この よう に 外部 キー を 指定 し た 場合 に は 特別 な 制約 が 発生 し ます 
7	複合 キー と 代用 キー 
7	複合 キー 
7	複数 の 属性 で 構成 し て いる キー を 複合 キー （ composite key ） と よび ます 
7	代用 キー 
7	複数 の 属性 で 構成 さ れる 複合 キー は 扱い が 複雑 に なる こと が あり ます この ため 新規 に 一意 な 属性 を 一つ 作成 し これ を 複合 キー の 代わり に キー として 代用 し ます 
7	この よう な キー を 代用 キー （ surrogate key ） と よび ます 
7	代用 キー で 置き換え られ た 後 の 元 の キー は 代理 キー と なり ます 
8	関数 従属 性 
8	関係 スキーマ 
8	概念 データモデル や 論理 データモデル など を 設計 する 際 に 関係 スキーマ を 活用 し て 設計 し ます 
8	関係 スキーマ と は 関係 を 関係 名 と それ を 構成 する 属性 名 で あらわし た もの です 
8	データベース スペシャリスト 試験 で 用いる 表記 法 です 
8	関係 名 と その 右 の 小 括弧 「 （ ） 」 内 に 属性 名 を カンマ で 「 」 区切り 列挙 し ます 
8	対象 の 属性 が 主 キー の 場合 は 実線 で 外部 キー の 場合 は 破線 で 属性 名 の 下 に 線 を 引き ます 
8	午後 試験 で は 問題 文 から 不足 する 属性 を 埋め させる 主 キー や 外部 キー を 特定 さ せる など の 関係 スキーマ 表記 を 用い た 問題 が 必ず 出題 さ れ ます ので 確実 に 理解 し ましょ う 
8	関数 従属 性 
8	ある 関係 R の 属性 集合 X の 値 が 決まる と かならず 属性 集合 Y の 値 が 一つ 決まる 場合 「 関係 R において 属性 集合 Y は 属性 集合 X に 関数 従属 する 」 と いい ます 
8	この とき の R X Y など の アルファベット は 集合 を あらわす 一般 の 表記 です 
8	属性 集合 X や 属性 集合 Y は 単一 の 属性 でも かまい ませ ん 
8	なお この とき の 属性 集合 X の こと を 決定 項 属性 集合 Y を 従属 項 と よび ます 
8	関数 従属 性 を 表現 する 場合 データベース スペシャリスト 試験 で は 表記 法 を 用い ます 
8	関数 従属 性 の 公理 
8	関数 従属 性 に は 以下 の 三つ の 公理 が 存在 し ます 
8	これら の 公理 は 関数 従属 性 という 理論 の 前提 です 
8	反射 律 
8	「 属性 集合 Y が X の 部分 集合 で ある なら ば X → Y が 成立 する （ 反射 律 ） 」 
8	添加 律 
8	「 X → Y が 成立 する なら ば { X Z } → { Y Z } が 成立 する （ 添加 律 ） 」 
8	推移 律 
8	「 X → Y かつ Y → Z が 成立 する なら ば X → Z が 成立 する （ 推移 律 ） 」 
8	これら の 導き出さ れ た 規則 について は 活用 し て かまい ませ ん 
8	関数 従属 性 の 図示 する 場合 公理 決定 項 や 従属 項 を できるだけ まとめ 関数 従属 性 の 矢印 を できるだけ 減らす と より 整理 さ れ た 図 に なり ます 
9	正規 化 非 正規 形 第 1 正規 形 
9	正規 化 
9	無秩序 に 表 （ 関係 ） を 作成 する と データ の 重複 や 整合 性 が 正しく 保つ こと の でき ない 構造 に なる 可能 性 が あり ます 
9	この ため 一般 的 に は 正規 化 （ normalization ） という 定め られ た ルール に従って 表 を 設計 する こと で データ の 一貫 性 と 整合 性 を 維持 可能 な 構造 に 変換 し ます 
9	正規 化 に は 段階 的 な 状態 と 変換 作業 が あり ます 
9	一般 的 な データベース 設計 で は 第 3 正規 形 まで 行え ば 十分 で ある と いわ れ て い ます 
9	一 事実 一 箇所 
9	一つ の データ は 一 箇所 のみ に 存在 する こと を 一 事実 一 箇所 と いい ます 
9	正規 化 は 一 事実 一 箇所 を 実現 する ため に 実施 し ます 
9	更新 時 異状 
9	新規 の 行 を 挿入 し たり 既存 行 の 一部 の 値 を 変更 し たり 行 を 削除 し たり する 際 に データ の 整合 性 を 損なう こと を 総称 し て 更新 時 異状 と よび ます 
9	正規 化 を 進める こと で 更新 時 異状 が 発生 する 可能 性 を 下げる こと が でき ます 
9	正規 化 し ない ケース 
9	設計 対象 と なる 表 の 用途 によって あえて 正規 化 を 行わ ない 場合 も あり ます 
9	データ の 追加 のみ で 更新 を 行わ ない 
9	参照 が 中心 の 表 を 正規 化 する こと で 表 分解 を 進め て しまう と 参照 の たび に 表 データ を 連結 する 処理 が 必要 と なり 処理 速度 が 遅く なる こと が あり ます 
9	古い 商品 の 単価 表 など 過去 の 履歴 を 参照 する 業務 が ある 場合 は 業務 上 データ は 追加 さ れ ます が 更新 や 削除 を 実施 し ませ ん 
9	この 様 な 場合 は 正規 化 を あえて 実施 せ ず に 検索 結果 データ に 近い 構造 で 設計 する こと が あり ます 
9	処理 速度 を 向上 さ せる 必要 が ある 
9	更新 時 異状 の 可能 性 を 上げ て も 業務 上 など の 理由 により アプリケーション の 処理 速度 を 向上 さ せる 必要 が ある 場合 正規 化 を 実施 し ない こと が あり ます 
9	一般 的 な システム 開発 で は データベース の 分析 ・ 設計 の 上流 で 正規 化 作業 を 実施 し 中流 以降 の 作業 で 実装 環境 を 考慮 し て 非 正規 化 を 検討 ・ 実施 し ます 
9	非 正規 化 
9	非 正規 形 の 定義 
9	「 繰り返し 属性 など の ある 正規 化 さ れ て い ない 表 （ 関係 ） を 非 正規 形 という 」 
9	三つ の 属性 に 複数 の 値 が 入っ て い ます 
9	これら を 繰り返し グループ と よび ます 
9	式 型式 の 関係 スキーマ で 表現 する 際 に 以下 の 様 に 記述 する こと が あり ます 
9	繰り返し グループ について は 中 括弧 「 {}」（ べき 集合 ） の 中 に 列挙 し ます 
9	非 正規 化 は 特に 帳票 や 画面 イメージ を もと に 表 を 設計 する 際 （ ボトムアップ アプローチ ） の 初期 に 現れ ます 
9	非 正規 形 における 問題 
9	正規 化 を 実施 し て い ない 非 正規 形 の 表 に は 以下 の 様 な 問題 が あり ます 
9	データ の 重複 
9	アプリケーション が 複雑 
9	更新 時 異状 の 可能 性 が 高い 
9	非 正規 形 の 表 に対する データ 操作 は アプリケーション 側 で 複数 の 手順 で 実装 さ れる 場合 が 多く なり ます 
9	この ため 複数 の アプリケーション が 並行 し て 動作 する 場合 更新 時 異状 を 発生 さ せる 可能 性 が あり ます 
9	「 注文 」 表 は 繰り返し グループ と それ 以外 の 固定 部分 両方 とも 更新 時 異状 を 発生 さ せる 可能 性 が あり ます 
9	正規 化 を 実施 する こと で これら の 問題 が 発生 する 可能 性 を 下げる こと が でき ます 
9	第 1 正規 形 
9	第 1 正規 形 の 定義 
9	「 繰り返し 属性 の ない 表 を 第 1 正規 形 という 」 
9	第 1 正規 化 
9	非 正規 形 の 表 に対して 第 1 正規 形 へ 変換 する こと を 第 1 正規 化 と いい ます 
9	第 1 正規 化 の 一般 的 な 手順 は 以下 の とおり です 
9	繰り返し グループ を 抽出 し 属性 を 固定 部分 と 繰り返し 部分 に 分ける 
9	繰り返し 属性 で ある か どう か 表 の すべて の 属性 を 調べ ます 
9	固定 部分 のみ の 表 と 繰り返し 部分 のみ の 表 に 分割 する 
9	キー を 付加 する 
9	固定 部分 のみ の 表 は 「 注文 番号 」 が 決定 すれ ば 残り の 属性 の 値 が すべて 決まる ので 「 注文 番号 」 を 主 キー に 指定 し ます 
9	繰り返し 属性 のみ の 表 の うち 「 数量 」 は ほか の 属性 により 値 を 一つ に 決める こと が でき ず 単独 で 主 キー を 設定 でき ませ ん 
9	そこで 新た に 属性 を 付加 し て 主 キー を 設定 し ます 
9	表 を 構成 する 属性 によって は 外部 キー を 指定 する 場合 も あり ます 
9	表 の 名称 を つける 
9	表 の 内容 を 総称 する 名称 を つけ ます 
9	正規 化 を 実施 し た 際 に は 分解 後 の 表 を 結合 し て もと の 表 に もどる こと を 確認 し て 下さい 
10	第 2 正規 形 
10	第 2 正規 形 
10	第 2 正規 形 の 定義 
10	「 部分 関数 従属 性 が 存在 し ない 第 1 正規 形 で ある 表 を 第 2 正規 形 という 」 
10	部分 関数 従属 性 
10	候補 キー の 一部 に 関数 従属 する 非 キー 属性 が 存在 する 場合 その 表 は 部分 関数 従属 し て いる と いい ます 
10	「 候補 キー の 一部 」 と は 候補 キー から 一つ 以上 の 属性 を とりのぞい た もの を さし ます 
10	非 キー 属性 と は 候補 キー の 要素 と なっ て い ない 残り の 属性 の こと を さし ます 
10	完全 関数 従属 性 
10	候補 キー の 一部 に 関数 従属 する 非 キー 属性 が 存在 し ない 場合 その 表 は 完全 関数 従属 し て いる と いい ます 
10	第 2 正規 形 の 判別 
10	第 1 正規 形 で ある 表 に対して 第 2 正規 形 で ある か どう か を 判別 する に は 部分 関数 従属 性 の 有無 を 調べ ます 
10	一般 的 に 第 2 正規 形 で ある か どう か を 判別 する 際 に テーマ 008 で 学習 し た 関数 従属 性 の 表記 法 を 使用 し て 部分 関数 従属 性 の 有無 を 調べ ます 
10	DB 試験 で は まず 関数 従属 性 の 図示 を 完成 さ せ その後 第 2 正規 形 か どう か を 問う 問題 が よく 出題 さ れ ます 
10	第 2 正規 化 の 手順 
10	第 1 正規 形 を 第 2 正規 形 へ 変換 する 作業 を 第 2 正規 化 と いい ます 
10	第 2 正規 化 を おこなう に は 表 から 部分 関数 従属 性 を 排除 し ます 
10	一般 的 な 第 2 正規 化 の 手順 は 以下 の とおり です 
10	関数 従属 性 を 図示 する 
10	すべて の 関数 従属 性 を 洗い出す こと が 目的 な ので 必ずしも 図示 し なく て も 良い の です が 複雑 な 表 の 場合 は 図示 する こと で 構造 が 明確 に なり ます 
10	候補 キー を すべて 洗い出す 
10	図 から 候補 キー を 洗い出し ます 基本 的 に 図 の 矢印 の 根元 を 追う こと で 候補 キー を 見つける こと が でき ます 
10	非 キー 属性 を すべて 洗い出し 自動的 に 非 キー 属性 の 洗い出し も 完了 し て い ます 
10	候補 キー の 一部 に 関数 従属 する 非 キー 属性 を すべて 特定 する 
10	洗い出さ れ た 属性 の 組み合わせ を 総 当たり で 調べる こと と なり ます 
10	もちろん ここ で 総 当たり の 関数 従属 性 を 個々 に 調べ て も 構い ませ ん が 関数 従属 性 の 図示 を 用い て 特定 する こと の ほう が 比較的 簡単 に 発見 でき ます 
10	まず 候補 キー の 一部 が 矢印 の 根元 に なる 関数 従属 性 を 調べる ため 候補 キー 要素 すべて に 網 掛け し ます 
10	次に 網 掛け し た 属性 から 網 掛け し て い ない 非 キー 属性 へ 向かう 矢印 を 調べ ます 
10	表 を 分解 し て 部分 関数 従属 性 を 満たす 関数 従属 を 排除 する 
10	洗い出し た 関数 従属 性 を 別 の 表 に 分解 し ます 
10	この ため 非 キー 属性 の ない 表 として 切り出し 部分 関数 従属 性 を 避ける など で 回避 し ます 
10	キー を 付加 する 
10	分解 後 の 各 表 の 関数 従属 性 を もと に キー を 配置 し ます 
10	表 の 名称 を つける 
10	次に 内容 に あっ た 名称 を つけ ます 名称 について は 業務 内容 や 各 属性 の 詳しい 内容 に より ます が ここ で は 図表 6 の よう に 名称 を つけ まし た 
10	第 1 正規 化 で も 説明 し まし た が 第 2 正規 化 の ため に 表 分解 を 実施 し た 際 に も 表 を 連結 し て 情報 の 損失 の 有無 を 必ず 確認 し て 下さい 
11	第 3 正規 形 
11	第 3 正規 形 
11	第 3 正規 形 の 定義 
11	「 第 2 正規 形 で あり すべて の 非 キー 属性 が いかなる 候補 キー に も 推移 的 に 関数 従属 し ない 表 を 第 3 正規 形 という 」 
11	『 推移 的 関数 従属 性 』 
11	以下 の 三つ の 条件 を 満たす 属性 X Y Z が 存在 する 時 「 Z は X に 推移 的 に 関数 従属 し て いる 」 と いい ます 
11	X → Y 
11	Y → Z ただし Z は Y の 一部 で は ない 
11	Y → X を 満たさ ない 
11	第 3 正規 形 の 判別 
11	第 2 正規 形 で ある 表 に対して 第 3 正規 形 で ある か どう か を 判別 する に は 推移 的 関数 従属 性 の 有無 を 調べる こと で 判別 可能 です 
11	推移 的 関数 従属 性 の 有無 を 調べる 際 に も 関数 従属 性 の 図示 は 有効 です 
11	こう する こと で 第 3 正規 形 の 条件 で ある 「 すべて の 非 キー 属性 が いかなる 候補 キー に も 推移 的 に 関数 従属 し ない 」 か を 視覚 的 に 調べる こと が でき ます 
11	第 3 正規 化 の 手順 
11	第 2 正規 形 を 第 3 正規 形 へ 変換 する 作業 を 第 3 正規 化 と いい ます 第 3 正規 化 を おこなう に は 表 から 推移 的 関数 従属 性 を 排除 し ます 
11	関数 従属 性 を 図示 する 
11	第 2 正規 化 同様 すべて の 推移 的 関数 従属 性 を 洗い出す 目的 で ある ため 必ずしも 図示 し なく て も 構い ませ ん が 図示 により 構造 が 明確 と なり 作業 ミス を 低減 する こと が でき ます 
11	候補 キー を すべて 洗い出す 
11	図 から 候補 キー を 洗い出し ます 
11	関数 従属 性 の 図示 から 矢印 の 根元 側 へ と たどる こと で 候補 キー を 比較的 容易 に 発見 する こと が でき ます 
11	非 キー 属性 を すべて 洗い出す 
11	発見 し た すべて の 候補 キー の 要素 以外 が 非 キー 属性 です 
11	第 2 正規 化 の 場合 同様 関数 従属 性 の 図示 の 候補 キー 要素 のみ 網 掛け など の マーク を つけ て おく と この 後 の 作業 が 容易 です 
11	候補 キー に 推移 的 に 関数 従属 する 非 キー 属性 を 洗い出す 
11	推移 的 関数 従属 性 を 発見 する に は まず 非 キー 属性 間 の 関数 従属 性 を 洗い出し ます 
11	第 2 正規 化 同様 第 3 正規 化 も 表 分解 により 推移 的 関数 従属 する 要因 と なる 関数 従属 を 切り出し ます 
11	キー を 付加 する 
11	分解 後 の 各 表 に対して キー を 指定 し ます 
11	第 3 正規 化 で は 非 キー 属性 間 の 関数 従属 性 を 切り出す ため 外部 キー を 指定 する 場合 が 多く 見受け られ ます 
11	表 の 名称 を つける 
11	各 表 に対して 名称 を つけ ます 
12	高次 の 正規 形 
12	ボイス・コッド 正規 形 
12	ボイス・コッド 正規 形 の 定義 
12	「 関数 従属 性 が 以下 の どちら か のみ の 表 は ボイス・コッド 正規 形 で ある 」 
12	自明 な 関数 従属 性 で ある 
12	決定 項 が スーパー キー で ある 
12	自明 な 関数 従属 性 
12	Y が X の 部分 集合 で ある 関数 従属 X → Y を 自明 な 関数 従属 性 と いい ます 
12	反射 律 により 自ずと 明らか に なる 関数 従属 性 の こと です 
12	ボイス・コッド 正規 形 の 適用 例 
12	正規 化 によって 表 の 中 の 関数 従属 性 を 表 分解 により 分離 し て より データ 重複 の 少ない 構造 へ 変換 し て き まし た が 候補 キー 間 の 関数 従属 性 を 含む 表 について は 第 3 正規 化 まで で は 整理 する こと は でき ませ ん 
12	この よう な 場合 第 3 正規 形 を ボイス・コッド 正規 形 へ 変換 する ボイス・コッド 正規 化 を 実施 し て 自明 で は ない 関数 従属 性 を 排除 し ます 
12	ボイス・コッド 正規 化 は 情報 損失 を 発生 さ せる こと が あり ます 
12	第 4 正規 形 
12	第 4 正規 形 の 定義 
12	「 多値 従属 性 が 以下 の うち どちら か のみ の 表 は 第 4 正規 形 で ある 」 
12	自明 な 多値 従属 性 で ある 
12	決定 項 が スーパー キー で ある 
12	多値 従属 性 
12	X の 値 が 一つ 決まる と Y の 値 が 一つ 以上 決定 する とき 「 Y は X に 多値 従属 する 」 と いい ます 
12	なお 関数 従属 性 は Y の 値 が 一つ 決まる 場合 の こと です 
12	「 Y は X に 多値 従属 する 」 こと を 「 X → → Y 」 と 式 で 表記 し ます 
12	自明 で は ない 多値 従属 性 
12	互いに 独立 な 意味 を もつ 二つ の 多値 従属 性 X → → Y と X → → Z が 表 の 中 に 存在 する こと を 自明 で は ない 多値 従属 性 と いい 「 X → → Y | Z 」 と 式 で 表記 し ます 
12	第 4 正規 形 の 適用 例 
12	自明 で は ない 多値 従属 性 を もつ 表 に対して は データ 重複 を さらに 削減 する に は ボイス・コッド 正規 化 まで で は 整理 する こと は でき ませ ん 
12	この よう な 場合 ボイス・コッド 正規 形 を 第 4 正規 形 へ 変換 する 第 4 正規 化 を 実施 し て 自明 で は ない 多値 従属 性 を 排除 し ます 
12	第 4 正規 化 も 情報 損失 を 発生 さ せる こと が あり ます 
13	関係 代数 
13	関係 代数 と は 複数 の 表 （ 関係 ） から 必要 な データ のみ を 抽出 する など の 関係 データベース の 表 を 扱う 演算 の 体系 の こと です 
13	関係 代数 は 集合 演算 と 関係 演算 の 二つ に 分類 する こと が でき ます 
13	データベース に対する 主要 な データ 操作 は 関係 代数 の 演算 を 組み合わせ て 実現 する こと が でき 結果 として データモデル の 正し さ を 確認 でき ます 
13	集合 演算 
13	集合 演算 は 数学 的 な 集合 演算 を 表 に 取り入れ た もの です 
13	演算 子 として は 和 差 積 （ 共通 ） 直積 が あり ます 和 差 積 （ 共通 ） を おこなう ため に は 演算 対象 と なる 二つ の 表 が 和 集合 互換 （ 和 両立 ） で ある 必要 が あり ます 
13	和 集合 互換 と は 演算 対象 の 二つ の 表 が 以下 の 条件 を 満たす 場合 を さし ます 
13	同じ 数 の 属性 数 を 持つ こと 
13	属性 の 名前 が 同じ で ある こと 
13	同じ 名前 の 属性 の ドメイン が 同じ で ある こと 
13	関係 演算 
13	関係 演算 は 集合 演算 で は 実現 でき ない 表 から 一部 抽出 や 複数 の 表 を 結合 する といった 関係 代数 独自 の 演算 です 
13	関係 演算 として 射影 選択 結合 （ θ ( シータ ) 結合 等 結合 自然 結合 外部 結合 ） 商 が あり ます 
13	差 
13	差 （ difference ） は 一方 の 表 から 他方 の 表 に ある 同じ 行 を 取り除く 演算 です 
13	演算 記号 として 「 －」 を 使用 し 取り除か れる 側 の 表 を 左辺 に 指定 し ます 
13	差 演算 の 手順 は 以下 の とおり です 
13	左辺 表 から 1 行 取り出す 
13	取り出し た 行 と 右辺 表 の 各行 と 比較 し 属性 値 が 一致 し ない 行 を 結果 として 残す 
13	取得 し た 行 と 「 顧客 ②」 表 の すべて の 行 と を 比較 し て すべて の 属性 の 値 を 比較 し ます 
13	左辺 行 が なくなる まで 繰り返す 
13	結果 に 重複 行 が あれ ば 1 行 に まとめる 
13	結果 の 各行 を 比較 し て すべて の 属性 値 が 同じ で ある 行 が 2 件 以上 存在 する 場合 は 1 件 に まとめ ます 
13	差 演算 結果 は 演算 対象 の 表 と 同じ 構造 と なり ます 和 演算 と 異なり 差 演算 で は 左辺 と 右辺 が かわる と 結果 が 異なる 可能 性 が あり ます 
13	和 
13	和 （ union ） は 二つ の 表 の いずれ か に 含ま れる もの を すべて まとめる 演算 です 
13	演算 記号 として 「 +」 や 「 ∪」 を 用い ます 和 演算 の 手順 は 以下 の とおり です 
13	二つ の 表 を 縦 に 連結 する 
13	演算 対象 と なる 二つ の 表 を 縦 に 連結 し ます 
13	結果 に対して 重複 する 行 を 1 行 に する 
13	重複 行 が 存在 する 場合 演算 結果 として は 1 行 に し ます 
13	和 演算 結果 は 演算 対象 の 表 と 同じ 構造 と なり ます 
13	和 演算 の 場合 左辺 と 右辺 が 入れ替わっ て も 結果 は 同じ に なり ます 
13	和 演算 は OR 演算 とも いい ます 
13	積 （ 共通 ） 
13	積 （ 共通 intersection ） は 両方 の 表 に 存在 する 行 を 取り出す 演算 です 
13	演算 記号 として 「 ∩」 を 用い ます 積 演算 の 手順 は 以下 の とおり です 
13	左辺 表 から 1 行 取り出す 
13	取り出し た 行 と 右辺 表 の 各行 と 比較 し すべて の 属性 値 が 一致 する 行 を 結果 として 残す 
13	左辺 行 が なくなる まで 繰り返す 
13	結果 に 重複 行 が あれ ば 1 行 に まとめる 
13	差 演算 と 手順 が 異なる の は 「 すべて の 属性 値 が 一致 する 行 を 結果 として 残す 」 ところ だけ です 
13	積 演算 の 結果 は 演算 対象 の 表 と 同じ 構造 と なり ます 
13	積 演算 の 場合 左辺 と 右辺 が 入れ替わっ て も 結果 は 同じ に なり ます 
13	なお 積 演算 は AND 演算 とも いい 和 演算 と 差 演算 で 代替 可能 です 
13	直積 
13	直積 （ direct product ） は 二つ の 表 に 含ま れる 要素 の すべて の 組み合わせ を 取り出す 演算 です 
13	演算 記号 として 「 × 」 を 用い ます 
13	直積 演算 の 手順 は 以下 の とおり です 
13	左辺 表 から 1 行 取り出す 
13	右辺 表 から 1 行 取り出す 
13	取得 し た 行 と で 取得 し た 行 を つなぎ 結果 として 残す 
13	右辺 行 が なくなる まで 繰り返す 
13	左辺 行 が なくなる まで 繰り返す 
13	直積 演算 を おこなう ため の 演算 対象 へ の 前提 は あり ませ ん 
13	直積 演算 の 結果 は 左辺 の すべて の 属性 と 右辺 の すべて の 属性 を 連結 し た 構造 に なり ます 
13	この ため 直積 演算 の 場合 左辺 と 右辺 が 入れ替わる と 結果 の 構造 が 異なり ます 
13	直積 演算 は デカルト 積 （ Cartesian product ） と 呼ぶ こと も あり ます 
14	射影 
14	射影 （ projection ） は 一つ の 表 の 中 から 指定 し た 列 を 取り出す 演算 です 
14	これ まで 二つ の 表 に対して の 演算 を 扱っ て き まし た が 射影 と 次に 学習 する 選択 は 一つ の 表 に対する 演算 です 
14	射影 演算 は 表 の 中 に 存在 する 属性 を 一つ 以上 選ん で 列 すべて を 取り出す 演算 です 
14	この ため どの 属性 を 取り出す か を 指定 する 必要 が あり ます 
14	演算 記号 は あり ませ ん が 表 の 名称 と 右側 の カギ 括弧 「 []」 内 に 選択 対象 の 属性 を カンマ 区切り で 列挙 する など の 表記 法 が あり ます 
14	射影 演算 の 手順 は 簡単 です 
14	指定 さ れ た 属性 の 列 を 順番 に 取り出し 連結 する 
14	結果 に対し 重複 行 を 1 行 に まとめる 
14	この よう に 射影 演算 の 結果 は 演算 対象 の 指定 し た 属性 で 構成 する こと に なり ます 
14	選択 
14	選択 （ selection ） は 一つ の 表 の 中 から 指定 し た 比較 条件 を 満たす 行 を 取り出す 演算 です 
14	射影 演算 と 異なり 選択 演算 で は 「 比較 条件 」 を 指定 し ます 
14	比較 条件 は 属性 と 演算 子 で 表現 し ます 
14	演算 子 として 等号 不等号 等号 否定 など が 使用 可能 です 
14	射影 演算 同様 演算 を あらわす 記号 は あり ませ ん が 表 の 名称 と 右側 の カギ 括弧 「 []」 内 に 比較 条件 を 記述 する 型式 で 表記 する こと が あり ます 
14	演算 対象 の 表 から 1 行 取り出す 
14	取り出し た 行 に対して 比較 条件 に 合致 する もの を 結果 として 残す 
14	取り出し た 行 の 属性 値 に対して 比較 条件 を 適用 し ます 
14	評価 結果 が 真 （ True ） と なる 場合 は 取り出し た 行 を 結果 として 残し ます 
14	演算 対象 の 表 から 取り出す 行 が なくなる まで 繰り返す 
14	選択 演算 の 結果 は 演算 対象 の 表 と 同じ 構造 と なり ます 
14	ここ で 演算 対象 の 表 の 中 に 比較 条件 に 合致 する 行 が ない 場合 演算 結果 は 0 件 と なり ます 
14	比較 条件 の 演算 子 を θ で 総称 する こと から θ 選択 と よぶ こと も あり ます 
14	商 
14	商 （ division ） は 二つ の 表 に対して 割り算 にあたる 演算 で 演算 記号 として 「 ÷ 」 を 用い ます 
14	ある 二つ の 表 に対して 直積 演算 を 実行 し た 後 商 演算 を 実行 する と もと の 左辺 表 に なり ます 
14	商 演算 の 手順 は 以下 の とおり です 
14	左辺 表 から 右辺 表 に ある 属性 の 列 を すべて 取り除く （ 射影 ） 
14	結果 × 右辺 表 を 実行 する （ 直積 ） 
14	結果 － 左辺 表 を 実行 する （ 差 ） 
14	結果 から 右辺 表 に ある 属性 の 列 を すべて 取り除く （ 射影 ） 
14	結果 － 結果 を 実行 する （ 差 ） 
14	商 演算 の 手順 は 非常 に 複雑 です 
14	商 演算 は 午前 Ⅱ 試験 における 出題 頻度 の 高い 演算 です 
14	しかし 上記 の 手順 に したがっ て 問題 を 解く と 時間 が かかっ て し まし ます 
14	そこで 出題 さ れる 演算 対象 の 表 は 右辺 表 の データ を ブロック として 発見 し やすい 構造 と なっ て おり 左辺 表 が 昇順 と なっ て い て 比較 し やすい よう に 並べ られ て いる 場合 が 多い です 
14	この よう な 場合 に 限っ て 以下 の 簡易 的 な 手順 を 使う こと が でき ます 
14	簡易 的 な 商 演算 手順 
14	右辺 表 データ と 同じ 値 の ブロック を 見つける 
14	右辺 表 を 行 で は なく ブロック で とらえ 左辺 表 に 該当 する ブロック を 探し ます 
14	発見 し たら 該当 箇所 に マーク を 付け て おき ましょ う 
14	各 ブロック に対して 右辺 表 に ない 属性 値 が 等しい もの だけ 残す 
14	次に 左辺 表 に マーク を 付け た ブロック の 行 全体 に 注目 し ます 右辺 側 に ない 左辺 の 属性 列 の 値 が ブロック 内 で 等しい ブロック を 候補 として 残し ます 
14	左辺 だけ に ある 属性 列 だけ を 残し 重複 行 を 1 行 に する 
14	残っ た 各 ブロック の 左辺 だけ に ある 属性 列 を 残し ます 
14	上記 の 手順 は 試験 対策 の ため の もの で 正確 な 商 演算 手順 は 最初 に 紹介 し た 手順 で ある こと に 注意 し て ください 
15	θ 結合 
15	θ ( シータ ) 結合 （ theta join ） と は 二つ の 表 を 一つ に 結びつけ 指定 し た 比較 条件 を 満たす 行 を 取り出す 演算 の こと です 
15	選択 演算 で も 述べ まし た が θ は 等号 「=」 不等号 「< > <= >= 」 等号 否定 「 <> ≠」 といった 比較 条件 に 使用 する 演算 子 の 総称 記号 の こと です 
15	θ 結合 演算 の 手順 は 以下 の とおり です 
15	左辺 表 × 右辺 表 を 実行 する （ 直積 ） 
15	まず 左辺 表 と 右辺 表 の 直積 演算 を 実行 し ます 
15	結果 の 各行 に対して 比較 条件 を 満たす 行 を 残す 
15	直積 結果 の 各行 に対して 比較 条件 を 適用 し 合致 する 行 だけ 結果 として 残し ます 
15	θ 結合 自身 を あらわす 演算 記号 は あり ませ ん が 数式 として 左辺 側 関係 名 と 右辺 側 関係 名 の 間 の 角 括弧 「 []」 内 に 比較 条件 を 記述 する 形式 で 表記 さ れる こと が あり ます 
15	θ 結合 の 演算 結果 は 左辺 側 の 関係 と 右辺 側 の 関係 を 直積 し た 結果 と 同じ 構造 に なり ます 
15	なお θ 結合 を 単に 結合 （ join ） や 内部 結合 （ 内 結合 inner join ） と よぶ こと も あり ます 
15	等 結合 
15	等 結合 （ equijoin ） と は 比較 条件 の 演算 子 に 等号 「=」 を 使用 し た θ 結合 演算 の こと を さし ます 
15	この ため 演算 の 手順 も θ 結合 の 場合 と 同じ です 
15	等 結合 の 演算 結果 は θ 結合 と 左辺 側 の 関係 と 右辺 側 の 関係 を 直積 し た 結果 と 同じ 構造 に なり ます 
15	なお 等 結合 演算 で 比較 条件 を 明記 し て い ない 場合 共通 の 属性 同士 を 等号 比較 し ます 
15	自然 結合 
15	自然 結合 （ natural join ） と は 等 結合 実行 結果 に対して 更に 重複 する 属性 を 整理 する 演算 の こと です 
15	等 結合 演算 の 実行 結果 は 必ず 同じ 値 と なる 属性 が 複数 存在 し ます 
15	左辺 表 と 右辺 表 に対して 等 結合 を 実行 する 
15	結果 に対して 重複 する 列 を 整理 する （ 射影 ） 
15	自然 結合 の 結果 は 左辺 側 の 関係 と 右辺 側 の 関係 を 直積 演算 結果 から 重複 する 属性 を 排除 し た 構造 に なり ます 
15	なお 自然 結合 演算 で 比較 条件 を 明記 し て い ない 場合 共通 の 属性 同士 を 等号 比較 し ます 
15	外部 結合 
15	外部 結合 （ 外 結合 outer join ） と は 二つ の 表 を 比較 条件 に したがっ て 一つ に 結びつける 結合 演算 です が 比較 条件 を 満たさ ない 場合 の 操作 が θ 結合 と 異なり ます 
15	θ 結合 で は 比較 条件 を 満たさ ない 行 は 結果 として 残し ませ ん が 外部 結合 で は 比較 条件 を 満たさ ない 行 も 結果 として 残し ます 
15	残し 方 について 左辺 表 を 基準 と する か 右辺 表 を 基準 と する か 両方 の 表 を 基準 と する か の 三 種類 が 存在 し それぞれ 左 外部 結合 右 外部 結合 完全 外部 結合 と よび ます 
15	外部 結合 演算 で 比較 条件 を 指定 し て い ない 場合 共通 の 属性 同士 を 等号 比較 し ます 
15	外部 結合 演算 の 結果 は 左辺 側 の 表 と 右辺 側 の 表 を 直積 し た 構造 に なり ます 
15	左 外部 結合 
15	左辺 表 を 基準 に し て 外部 結合 を 実行 し ます 左 外部 結合 の 手順 は 以下 の とおり です 
15	左辺 表 から 1 行 取り出す 
15	取り出し た 行 と 右辺 表 の 各行 に対して 比較 条件 を 満たす か どう か を 判別 する 
15	比較 条件 を 満たす 場合 取り出し た 左辺 行 と 取り出し た 右辺 行 を 連結 し 結果 として 残す 
15	比較 条件 を 満たさ ない 場合 取り出し た 左辺 行 に 右辺 の 属性 を 連結 し NULL を 埋め 結果 として 残す 
15	左辺 行 が なくなる まで 繰り返す 
15	右 外部 結合 
15	右辺 表 を 基準 に し て 外部 結合 を 実行 し ます 右 外部 結合 の 手順 は 左 外部 結合 の 左右 を 逆 に し ます 
15	完全 外部 結合 
15	左辺 表 右辺 表 どちら か に しか ない 場合 両方 とも 結果 として 残し ます 
15	完全 外部 結合 の 操作 は 左 外部 結合 の 結果 と 右 外部 結合 の 結果 の 和 集合 を とり ます 
16	データモデル 設計 の 流れ 
16	データモデル 設計 は 概念 設計 論理 設計 物理 設計 の 三 段階 に 分類 する こと が でき ます 
16	概念 設計 
16	概念 設計 で は 対象 と なる システム が 管理 す べき 対象 を 明確 に する 概念 データモデル を 作成 し ます 
16	組織 として 用語 集 や 概念 CDM といった 文書 が 存在 する 場合 は 整合 性 を 合わせ た 構造 で 設計 し ます 
16	適用 する プロジェクト 標準 によって 分析 ・ 設計 状況 が 異なり ます が 一般 的 に は 具体 的 な データベース 製品 や データ 量 など の 非 機能 要件 が 完全 に 確定 し て い ない 要件 定義 フェーズ で 概念 設計 を 実施 し ます 
16	この ため 概念 設計 で は 実装 対象 製品 に 依存 する オブジェクト （ 表 や ビュー など ） や 検索 や 更新 など の データ 操作 高速 化 を 踏まえ た 設計 を おこない ませ ん 
16	概念 データモデル は 対象 業務 で 取り扱う データ の 種類 や 項目 など の 漏れ が ない か を 確認 する ため に 作成 さ れ ます 
16	共通 の 用語 で 関係 代数 を 用いる こと で 導出 可能 な データ 項目 について は 整理 し て 正規 化 さ れ た 構造 の データモデル を 作成 し 概念 スキーマ を 設計 し ます 
16	論理 設計 
16	論理 設計 で は データベース の 論理 的 構造 を 明確 に し た 論理 データモデル を 作成 し ます 
16	データ 中心 アプローチ による システム 開発 の 場合 は 概念 データモデル を そのまま 引き継ぎ 洗練 化 する 方向 で 論理 データモデル を 作成 し ます 
16	概念 設計 と は 異なり アプリケーション から の アクセス 方法 や ソフトウェア の 内部 構造 と の 整合 性 の とれ た 論理 的 な データモデル と する ため ソフトウェア の 方式 に 依存 し た 用語 も 使用 する こと が あり ます 
16	一般 的 に 論理 設計 は ソフトウェア 方式 設計 が 決定 し た 外部 設計 フェーズ で 実施 し ます 
16	この ため 外部 システム や 利用 者 など の 接点 を 意識 し た 設計 および 性能 要件 など を 含む 非 機能 要件 も 織り込ん だ 外部 スキーマ の 設計 も あわせ て 実施 し ます 
16	物理 設計 
16	物理 設計 で は 論理 データモデル を もと に システム 要件 に 合わせる よう に 物理 データモデル を 設計 し ます 
16	物理 設計 の 段階 で は 使用 する データベース 製品 や 具体 的 な サーバ 配置 など が 確定 し て いる ので こう いっ た 物理 配置 に データモデル を 合わせる 作業 を おこない ます 
16	具体 的 に は データベース 管理 者 から み た オブジェクト の 集まり で ある 内部 スキーマ を 設計 し ます 
16	データ モデリング 
16	データモデル を 設計 する こと を データ モデリング と よび ます 
16	概念 データモデル の 作成 に は トップダウン アプローチ と ボトムアップ アプローチ の 二つ の 方法 が あり ます 
16	トップダウン アプローチ 
16	トップダウン アプローチ で は システム 化 対象 範囲 全体 の おおまか な データ 構造 を 検討 し 必要 な データ の まとまり （ エンティティ と なる ） へ と 細分 化 し 保持 する データ 項目 へ 更に 詳細 化 し て いき 対象 業務 の データモデル を 構築 し て いく 方法 です 
16	トップダウン アプローチ の インプット として は ステークホルダ と の ヒアリング 内容 や コンテキスト ダイヤグラム や 業務 フロー など の 要件 定義 フェーズ で の 成果 物 と なり ます 
16	例えば 学生 の 出席 を 管理 する システム の 場合 モノ ・ コト 分析 を 用い て おおまか な データ の まとまり （ エンティティ ） を 検討 し 業務 として 取り扱い やすい 単位 へ と 細分 化 し て 初期 の 概念 データモデル を 作成 する 
16	その後 どう いっ た データ 項目 が 必要 か を 洗い出し データモデル を 更に 詳細 化 し て いき 正規 化 を おこない データ 重複 を 排除 し ます 
16	ボトムアップ アプローチ 
16	ボトムアップ アプローチ で は 具体 的 な 画面 や 帳票 など から 個々 の 詳細 な データ 項目 を 洗い出し データ 項目 の まとまり を 検討 し て 段階 的 に 抽象 化 し て いく 方法 です 
16	ボトムアップ アプローチ の インプット として は 新規 システム や 既存 システム の 画面 イメージ や 帳票 イメージ または 具体 的 に 使用 し て いる 業務 マニュアル など ビジネス 文書 を 用い ます 
16	データ モデリング 作業 の 流れ 
16	通常 の システム 開発 で は 要件 定義 初期 に ステークホルダ と の ヒアリング が 集中 する ため 最初 は トップダウン アプローチ で 作業 を 進め ある程度 の 全体 構造 が 明確 に なる と ボトムアップ アプローチ を 用い て データ 項目 を 洗い出す という 作業 の 流れ が 一般 的 です 
16	データモデル の 検証 
16	ロバストネス 分析 CRUD 分析 など を 用い て 作成 し た データモデル が 要件 や 仕様 に 合致 する か どう か 検証 を おこない ます 
16	これら の 分析 手法 以外 に UML の シーケンス 図 や コラボレーション 図 を 用い た コンポーネント 間 の 矛盾 が ない か 確認 する など の 検証 作業 を おこない ます 
16	ロバストネス 分析 
16	ロバストネス 分析 と は 概念 データモデル や 業務 フロー から 分析 レベル の オブジェクト （ エンティティ ） を みつける 分析 手法 の こと です 
16	シナリオ 単位 で ロバストネス 分析 を 作成 する こと で プロセス が 必要 と する エンティティ を 洗い出す こと が でき ます 
16	もともと は オブジェクト 指向 開発 方法 論 OOSE （ Object Oriented Software Engineering ） で 提案 さ れ た オブジェクト 指向 分析 の ため の アプローチ です が データ 中心 アプローチ で も 活用 可能 です 
16	ロバストネス 分析 で は 業務 シナリオ ごと に ロバストネス 図 を 書き ながら 進め ます 
16	ロバストネス 図 に は 三つ の アイコ ン を 使用 し ます 
16	バウンダリコントロールエンティティ は それぞれ 入力 項目 ソフトウェアシステム の 処理 管理 する データ を あらわし 「 画面 」 から 入力 し た データ を 「 処理 」 し て どういう 「 データ 」 を 追加 参照 更新 削除 する か を シナリオ 単位 で 図 に 作成 し ます すべて の ロバストネス 図 を 作成 し て データモデル の 候補 として 洗い出し を おこない ます 
16	CRUD 分析 
16	CRUD 分析 と は システム の 機能 と データ 操作 を 対応付け データ の ライフサイクル に 矛盾 が ない か を 確認 する 分析 手法 です 
16	CRUD 分析 で は CRUD 図 を 使用 し ます 図表 3 は ある 金融 信託 商品 の 商品 設定 から 預入 償還 まで を 一連 の シナリオ と し た CRUD 図 です 
16	図表 3 の 例 で は 行 ごと に プロセス を あらわし 上 から 順番 に シナリオ が 流れる こと を 示し て い ます 
16	列 は システム が 提供 する データ を あらわし て い ます 
16	表 の 値 は 対象 の プロセス が 対象 の データ に対して どの よう な 操作 を 実行 し て いる か C （ Create 追加 ） R （ Read 参照 ） U （ Update 更新 ） D （ Delete 削除 ） の 記号 で あらわし て い ます 
16	CRUD 図 を 参照 し ながら 各 プロセス で 実行 する 処理 に 矛盾 が ない か を 確認 し ます 
16	プロセス が 上 から 順番 に 並ん で いる ため 最初 の 行 で 「 R 」 と なっ て いる データ に対して は その データ の 作成 （ 「 C 」 ） が 事前 に 行わ れ て いる か を 確認 し ます 
16	また プロセス の 最後 が 「 D 」 で は ない 場合 は アプリケーション 運用 プロセス など で データ 削除 を おこなっ て いる か どう か を 確認 する など 複数 の シナリオ 間 で 矛盾 が 発生 し て い ない か を 確認 し ます 
17	データモデル の 表記 法 
17	E - R 図 
17	E - R 図 （ ERD ： Entity - Relationship Diagram 実体 関連 図 ） と は データ 間 の 関連 を モデル 化 し た 図 もしくは その 手法 の 総称 を あらわし ます 
17	E - R 図 は エンティティタイプリレーションシップ 多 重度 スーパー タイプ と サブ タイプ 属性 など の 要素 で 構成 さ れ て い ます E - R 図 の 表記 法 として は 種々 ある ため データベース スペシャリスト 午後 試験 の 先頭 ページ で は 問題 や 回答 記述 の 際 に 使用 する 表記 法 を 掲載 し て い ます 
17	本 テキスト で は 試験 で 使用 する 記法 に したがっ て E - R 図 を 学習 し ます 
17	エンティティ タイプ 
17	エンティティ と は 組織 において 長期 的 に 管理 対象 と なり うる データ の 実体 の あ つまり を さし ます 
17	エンティティ タイプ は エンティティ を 表現 する 型 の こと を さし E - R 図 に 表記 する 要素 を さし ます 
17	エンティティ は 抽象 的 な 概念 です が 最終 的 な 実装 物 は 表 や ビュー に 相当 し ます ので データベース の 論理 設計 から 物理 設計 にかけて は 基本 的 に 「 エンティティ タイプ ＝ 表 」 と 理解 し て おい て 構い ませ ん 
17	E - R 図 において エンティティ タイプ は 長方形 で あらわし 長方形 の 中 に エンティティ タイプ 名 を 記入 し ます 
17	リレーションシップ 
17	リレーションシップ は エンティティ タイプ 間 に 存在 する 組織 上 の ルール や ビジネス ルール を あらわし ます 
17	例えば 注文 表 1 行 に 対応 する 注文 明細 表 の 行 が 存在 する とか 対応 する 注文 明細 表 の 行 が 存在 し ない 注文 表 の 行 は 存在 し て は なら ない など を リレーションシップ で 表現 する こと が でき ます 
17	リレーションシップ は 最終 的 な 実装 物 として 表 間 の 制約 や トリガ * に 相当 し ます 
17	E - R 図 において リレーションシップ は エンティティ タイプ の 間 に 引か れ た 実線 で あらわし ます 
17	データ 操作 を 起点 に あらかじめ 定め られ た 処理 を 実行 する DBMS 機能 の 一つ です が 実装 さ れ て い ない 製品 も あり ます 
17	多 重度 
17	エンティティ 間 の インスタンス （ 実現 値 ） の 種類 数 に関する 対応 関係 を 多 重度 （ カーディナリティ ） と いい ます 
17	リレーションシップ で は 矢印 で 多 重度 の 上限 を 指定 する こと が でき ます 下限 が 0 件 で ある こと を 許す か どう か について は ” ○ ” や ” ● ” を 用い て 表現 する こと が でき ます 
17	上記 の うち エンティティ タイプ を 表 インスタンス を 行 と 読み替える と 理解 し やすい と 思い ます 
17	スーパータイプサブタイプ 
17	オブジェクト 指向 の 継承 に 相当 する エンティティ 間 の 汎 化 特 化 の 関連 について も 識別子 で 表現 する こと が でき ます 
17	汎 化 側 の エンティティ を スーパー タイプ 特 化 側 を サブ タイプ と よび ます 
17	E - R 図 で は 識別子 ” △ ” を 用いる こと で スーパータイプサブタイプ を 表現 する こと が でき ます 
17	属性 
17	システム 開発 の 上流 で は 属性 が 決定 し て い ない こと が 多く 初期 の 概念 データモデル で は 属性 を 省略 し て 表記 し ます しかし 設計 が 進む と エンティティ タイプ に 定義 する 属性 が 決まる ため E - R 図上 に 属性 が 登場 し ます 
17	クラス 図 
17	UML の クラス 図 の 主要 な 表記 法 について 学習 し ます 
17	クラス 
17	E - R 図 における エンティティ は クラス 図 における ” クラス ” で 表現 し ます 
17	クラス 図 の クラス は 長方形 で あらわし 長方形 の 中 に クラス 名 を 記入 し ます 
17	属性 を 表記 する 場合 は クラス の 長方形 を 上下 二 段 に 分割 し 上段 に クラス 名 下段 に 属性 名 を 縦 に 表記 し ます 
17	関連 
17	リレーションシップ は クラス 図 における ” 関連 ” で 表現 し ます 
17	クラス 図 の 関連 は クラス の 間 に 引か れ た 実線 で 表現 し ます 
17	関連 によって あらわさ れる それぞれ の クラス の 役割 を あらわす ” ロール 名 ” を つける こと が でき ます 
17	ロール 名 は 関連 の 線 の 中央 に 記述 し ます 
17	多 重度 
17	E - R 図 で は 矢印 や ” ○ ” ” ● ” を 用い て 多 重度 を 表現 し て い まし た 
17	クラス 図 に も ” 多 重度 ” という 要素 が 存在 し て おり これ を 関連 端 に 付加 する こと で 表現 し ます 
17	クラス 図 の 多 重度 は 上限 数 下限 数 を あらわす こと も 可能 です 
17	例えば 2 個 以上 5 個 以下 を あらわす 場合 は 「 2 .. 5 」 と 表記 し ます 
17	汎 化 
17	スーパー タイプ ・ サブ タイプ を クラス 図 で 表現 する 場合 クラス 図 の ” 汎 化 ” を 使用 し ます 
17	汎 化 は スーパー タイプ 側 に ” △ ” を 付加 し サブ タイプ まで 実線 を 引い て 表現 し ます 
17	コメント 
17	クラス 図 に は ” コメント ” を 表記 する こと が でき ます 
17	コメント は 長方形 の 右 上端 を 折り返し た 形状 と コメント 対象 を 破線 で 結び ます 
18	多 重度 
18	1 対 1 
18	データ モデリング において 1 対 1 が 表れる ケース は まれ です 
18	1 対 1 は 特別 な ビジネス ルール が 存在 する 場合 に 表れ ます 
18	既存 の データモデル を 読む 際 に 1 対 1 の リレーションシップ が 表れ た 場合 は 特殊 な 規則 の 有無 を 確認 し ます 
18	1 対 1 の 関係 が 表れる 例 として は 予約 ・ 実績 や 見積 ・ 契約 ・ 出荷 といった 業務 プロセス の 状態 （ 同じ データ の 集まり で 値 が 変化 ） など を あらわす 場合 が あげ られ ます 
18	強 実体 と 弱 実体 
18	帳票 など から 概念 データモデル を 作成 する 場合 まず 1 枚 の 注 文書 の 内容 を 1 行 と し た 非 正規 形 の 表 を 作成 し 正規 化 を 実施 し ます 
18	正規 化 し た 状態 の E - R 図 です 
18	「 注文 」 と 「 注文 明細 」 は 1 対 多 の 関係 と なり ます 
18	なお 「 商品 」 と 「 顧客 」 の 二つ の エンティティ は 省略 し て い ます 
18	他 の 表 の 行 データ が どの よう な 値 で あっ て も 自身 の 行 データ が 存在 可能 な 表 （ エンティティ ） を 強 実体 （ strong entity ） もしくは 正 実体 （ regular entity 通常 実体 ） と いい ます 
18	また 「 注文 明細 」 表 の よう に 他 の 表 の 行 データ が ない と 自身 の 行 データ が 存在 でき ない よう な 表 （ エンティティ ） を 弱 実体 （ weak entity ） と いい ます 
18	帳票 や 画面 の 上 に “ 表 “ が 存在 する よう な 場合 切り ださ れ た エンティティ が 強 実体 弱 実体 と なる 可能 性 が 高く なり ます 
18	多 対 多 
18	1 対 多 と なる ケース と 異なる の は 「 場合 により 複数 の 部署 を 兼務 する こと が ある 」 という ビジネス ルール の 部分 です 
18	一般 的 な 会社 で も 社員 が 所属 する 部署 が 複数 ある こと が あり ます が この 例 で は 「 兼務 」 と 呼ん で い ます 
18	ある 社員 が 複数 の 部署 に 所属 する 可能 性 が ある ため E - R 図 は 図表 6 の よう に 多 対 多 の 構造 が 現れ ます 
18	多 対 多 の 構造 は トップダウン アプローチ による 概念 データ モデリング の 初期 に は 抽象 度 の 高い エンティティ が 中心 と なる ため よく 現れ ます 
18	しかし 最終 的 な 物理 データモデル 上 に は 多 対 多 構造 は 登場 し ませ ん 
18	関係 データベース 上 に 多 対 多 を 実現 する こと が でき ない ため データ モデリング 中 に 多 対 多 構造 を 排除 する （ 1 対 多 の 関係 を 導き 置き換える ） ため です 
18	1 対 多 
18	名詞 抽出 法 を 使用 し た 場合 
18	業務 要件 記述 の 名詞 に 着目 し 分類 する こと で エンティティ や 属性 を 見つける こと を 名詞 抽出 法 と いい ます 
18	大 規模 な システム で あり かつ システム 化 対象 業務 について の 知識 が それほど ない 場合 に しばしば 用い られ ます 
18	方法 は 簡単 で 業務 用件 記述 の 名詞 部分 を 切り出し KJ 法 など で グルーピング を おこない ます 
18	ある程度 グループ 分類 が 整理 でき た 段階 で 業務 に 知見 の ある 人 を 加え て エンティティ や 属性 ビジネス ルール に 分類 し て いき ます 
18	データモデル に 現れる リレーションシップ の 大半 は 1 対 多 の 関係 に なり ます 
18	午後 試験 で E - R 図 を 完成 さ せる 問題 の 多く は 1 対 多 で あり 次に スーパータイプサブタイプ そして 1 対 1 の リレーションシップ の 順 で 登場 し ます 
18	代表 的 な 例 として 以下 の ケース が あり ます 
18	大分 類 中 分類 小 分類 
18	顧客 と 顧客 を 分類 する 区分 
18	帳票 ・ 画面 の ヘッダ 部分 と 明細 部分 
19	連関 エンティティ スーパー タイプ と サブ タイプ 
19	連関 エンティティ 
19	データモデル 作成 中 に 多 対 多 の 構造 が あらわれ た 場合 連関 エンティティ を 作成 し て 1 対 多 対 1 の 構造 に 変換 し ます 
19	社員 が 複数 の 部署 に 所属 する こと が ある という ビジネス ルール を もと に 作成 し た E - R 図 です 
19	この 場合 は 1 対 多 と なる よう に 「 社員 」 と 「 部署 」 の 間 に 連関 エンティティ を 一つ 配置 し ます 
19	エンティティ 候補 として 業務 要件 記述 の 中 から 社員 と 部署 と の 間 の 関係 を あらわす 事象 を 調べ ます 
19	この 例 で は 「 所属 する 」 もしくは 「 兼務 する 」 が 候補 として 出 て き ます 
19	この うち 「 兼務 する 」 は 2 部署 目 以降 に 「 所属 する 」 こと の 言い換え です ので 「 所属 」 という 事象 を エンティティ として 選ん で い ます 
19	結果 として 多 対 多 が 1 対 多 対 1 の リレーションシップ と なっ て い ます 
19	なお 連関 エンティティ の 主 キー を 連関 を 構成 する 各 エンティティ の 主 キー を 合わせ た 複合 キー として 考える と わかり やすく なり ます 
19	多 対 多 構造 で は 社員 が 現在 所属 し て いる 部署 の リレーションシップ のみ 表現 し て い まし た 
19	ここ で 連関 エンティティ 「 所属 」 を 作成 し 属性 として 所属 開始 日 所属 終了 日 を 配置 する こと で 過去 に 所属 し て い た 部署 の データ も 管理 する こと が でき ます 
19	この よう に 連関 エンティティ を 作成 する こと で 様々 な ビジネス ルール を 取り込む こと も 可能 と なり ます 
19	三つ 以上 の エンティティ の 間 に も 連関 エンティティ を 配置 する こと が でき ます 
19	例えば 「 学生 は 学期 が 異なれ ば 同じ 授業 科目 を 何 度 でも 履修 できる 」 場合 「 履修 」 を 連関 エンティティ として 配置 し ます 
19	UML クラス 図 における 連関 エンティティ の 表現 
19	UML で 連関 エンティティ （ 関連 クラス と いい ます ） を 表記 する に は 二つ の 表記 法 が あり ます 
19	モノ ・ コト 分析 
19	モノ ・ コト 分析 と は オブジェクト 指向 設計 に 使用 さ れる 分析 手法 です 
19	ヒアリング 等 により 得 た 業務 要件 記述 から モノ と コト に 着目 し て クラス （ エンティティ ） 関連 （ リレーションシップ ） 属性 の 候補 を 見つけ ます 
19	モノ は 人 や 物 など 実体 の ある もの を さし ます コト は 事象 を あらわし ます 
19	業務 要件 記述 といった 文書 を モノ と コト に 着目 し て エンティティリレーションシップ 属性 など の 候補 として 検討 し ます 
19	名詞 抽出 法 と 違う 部分 は コト を 扱う ところ です 
19	この モノ ・ コト 分析 は 以下 の よう に 連関 エンティティ を 発見 する 際 に 効果 が あり ます 
19	顧客 が 社員 と 契約 する → （ 顧客 － 契約 － 社員 ） 
19	社員 が 商品 を 出荷 する → （ 社員 － 出荷 － 商品 ） 
19	学生 が 授業 を 履修 する → （ 学生 － 履修 － 授業 ） 
19	文章 中 の モノ を 太字 に コト に 下線 を 引き 「 （ モノ － コト － モノ ） 」 に 変換 し ます 
19	そして コト を 連関 エンティティ として モデル を 作成 し ます 
19	スーパー タイプ と サブ タイプ 
19	スーパータイプサブタイプ は 汎 化 ・ 特 化 の リレーションシップ を 表現 する こと が でき ます 
19	スーパー タイプ で ある ほど 抽象 的 な エンティティ と なり サブ タイプ に なる ほど 具体 的 な エンティティ と なり ます 
19	この ため サブ タイプ は スーパー タイプ の 一つ （ 一種 ） で ある という ビジネス ルール を 表現 する こと が 多い ため is - a 関連 （ is - a - relationship ） と 呼ぶ こと も あり ます 
19	スーパータイプサブタイプ の 多く は 顧客 や 商品 部品 など の マスタ 系 データ の 種類 分け に 使用 し ます 
19	この 記述 は 口座 に関する 業務 要件 記述 を 切り出し た もの で 口座 名 の 部分 を 太字 で あらわし て い ます 
19	口座 に は 個人 口座 法人 口座 の 二つ の 種類 が ある こと を 示し て い ます 
19	個人 顧客 と あり ます が 「 個人 顧客 が 開設 し た 個人 口座 」 と ある ので 個人 口座 と 読み替え ます 
19	個人 口座 に は 総合 口座 非 総合 口座 の 二つ の 種類 が ある こと が わかり ます 
19	総合 口座 は 総合 口座 代表 普通 預金 口座 と 総合 口座 組入れ 口座 の 二つ の 種類 が ある こと が わかり ます 
19	総合 口座 が 一つ の 総合 口座 代表 普通 預金 口座 と 一つ 以上 の 総合 口座 組入れ 口座 から なる と 1 対 多 の 関係 も 記述 から 読み取る こと が でき ます 
19	スーパータイプサブタイプ の 関係 スキーマ 
19	スーパータイプサブタイプ の リレーションシップ を 関係 スキーマ として 表現 する 場合 サブ タイプ を 分類 する 「 区分 」 という 属性 を スーパー タイプ 側 に 新た に 作成 する こと が 一般 的 です 
19	以下 の 関係 スキーマ は 個人 口座 と 法人 口座 の 部分 のみ を 口座 区分 で 分け た 場合 の 例 です 
19	口座 （ 口座 番号 … 口座 区分 ） 
19	個人 口座 （ 口座 番号 … ） 
19	法人 口座 （ 口座 番号 … ） 
19	ここ で は 口座 番号 は すべて の 口座 に対して 一意 に 割り当て られ た 番号 と し 口座 区分 は 属性 値 により 個人 口座 か 法人 口座 か を 振り分ける こと と し ます 
19	関係 「 口座 」 の 口座 番号 以外 の 属性 に は 個人 口座 法人 口座 両方 に ある 共通 の 属性 を 配置 し ます 
19	また 個人 口座 法人 口座 の 口座 番号 以外 の 属性 に は それぞれ の 口座 固有 の 属性 を 配置 し ます 
19	もし サブ タイプ 側 に 固有 の 属性 が ない 場合 は 論理 設計 の 段階 で スーパー タイプ に 「 区分 」 を 作成 する だけ に し て サブ タイプ を 削除 する か どう か を 検討 し ます 
19	排他 的 と 共存 的 
19	個人 口座 と 法人 口座 の よう に それぞれ が 重複 する こと が ない サブ タイプ を 排他 的 で ある と いい ます 
19	また 取引 先 に対して 仕 入 先 という 分類 と は 別に 重点 得意 先 という 分類 を 設け 仕 入 先 で も あり 重点 得意 先 で も ある 得意 先 が 存在 する と し ます 
19	この とき の 仕 入 先 と 重点 得意 先 の よう に 重複 する 可能 性 が ある サブ タイプ を 共存 的 で ある と いい ます 
19	排他 的 分類 と 共存 的 分類 を それぞれ E - R 図 で 表現 し た もの です 
19	排他 的 な 場合 は リレーションシップ を 分岐 さ せ て 表現 し ます が 共存 的 分類 の 場合 は 複数 の リレーションシップ で 表現 し ます 
19	完全 と 不完全 
19	個人 口座 法人 口座 に対して どちら で も ない 口座 が 存在 し ない と し ます 
19	この よう な 定義 さ れ た すべて の サブ タイプ 以外 の もの が ない こと を 完全 で ある と いい ます 
19	また 定義 さ れ た すべて の サブ タイプ 以外 の もの が 存在 する 場合 は 不完全 で ある と いい ます 
19	なお 共存 的 サブ タイプ に対して も 完全 ・ 不完全 な 状態 は あり ます 
20	データ モデリング 
20	部署 
20	一般 的 な データ モデリング の 流れ は 部署 や 顧客 商品 といった モノ を あらわす 部分 から 作成 し 次に 製造 や 調達 注文 といった コト を あらわす エンティティ を 作成 し その後 リレーションシップ を 張り ます 
20	一般 的 に 企業 は 部署 で 構成 さ れ ます が データモデル 上 で は これ を いくつ か の パターン で 表現 でき ます 
20	部署 構造 は 多く の システム の データモデル 上 に 頻出 し E - R 図上 で の 表現 方法 も 大体 決まっ て い ます 
20	親子 部署 の リレーションシップ 
20	部署 に は ○ ○ 事業 部 や ○ ○ 部 ○ ○ 課 など が あり ます 
20	多く の 組織 で は 部署 の 下 に 部署 が ある 親子 関係 と なっ て い ます 
20	この ため 部署 の 親子 関係 を 表現 する リレーションシップ を 自分 自身 に 張っ た 構造 が よく あらわれ ます 
20	厳密 に は 最 上位 の 部署 に は 親 部署 が ない ため リレーションシップ の 矢印 の 根元 に 「 ○ 」 を つけ ます 
20	サブ タイプ 
20	事業 部 本部 部課 係 の 順 に 親子 関係 と なっ て いる 場合 は スーパータイプサブタイプ を 用い て 表記 し ます 
20	部署 名 の 中 に 隠れ て い た 部署 構造 を モデル の エンティティ として 登場 さ せる こと で より 具体 的 な データモデル に なり ます 
20	ただし ○ ○ 係 の 子 部署 に 同 レベル の 別 の × × 係 や 上位 レベル の ○ ○ 本部 など も 許可 し て しまう データモデル と なり ます 
20	この よう な 場合 アプリケーション 上 で 「 同一 レベル の 部署 が 親 部署 と なる こと は ない 」 や 「 部署 は かならず 事業 部 本部 部課 係 の 順 に なる 」 という ビジネス ルール を 実装 する 必要 が あり ます 
20	顧客 
20	最も 簡単 な データモデル として は 顧客 エンティティ を 一つ 配置 し て その 属性 として 法人 区分 など の 「 区分 」 を 設ける 方法 です 
20	個人 顧客 と 法人 顧客 に関する データ が ほぼ 同じ 場合 は 有効 です が 一般 的 に は 個人 顧客 と 法人 顧客 で は 企業 が 保有 する 顧客 データ が 異なり ます 
20	この よう な 場合 に 対応 可能 な データモデル を 作成 する に は 顧客 の サブ タイプ として 個人 顧客 法人 顧客 を 定義 し ます 
20	この よう に 個人 顧客 法人 顧客 を 異なる エンティティ として 作成 すれ ば 個人 顧客 や 法人 顧客 固有 の データ は それぞれ の サブ タイプ の 周囲 に 配置 する こと により 将来 的 に 管理 する 顧客 データ が 増え た 場合 の 拡張 に も 対応 でき ます 
20	また 法人 顧客 で ある 組織 に 個人 顧客 が 勤務 し て いる 場合 は サブ タイプ 間 に 連関 エンティティ 「 勤務 」 を 配置 し ます 
20	商品 
20	データモデル 上 に 種類 や 分類 といった エンティティ を 表現 する 場合 通常 スーパータイプサブタイプ を 使用 し ます 
20	ここ で は まず 製造 商品 と 調達 商品 という 分類 と 個人 販売 商品 と 法人 販売 商品 という 分類 が それぞれ 個別 に 存在 し ます 
20	業務 要件 記述 で は それぞれ の 分類 が 完全 か 不完全 か 排他 的 か 共存 的 か が 明確 に なっ て い ませ ん 
20	ただし 製造 商品 で あり 調達 商品 で ある もの が 存在 し ない こと は 読み取れ ます 
20	この ため 分類 は 排他 的 で あり 不完全 分類 は 共存 的 で あり 不完全 と し ます 
20	分類 を モデル 上 に 表現 する 際 に は その 分類 が 排他 的 か 共存 的 か 完全 か 不完全 か を 把握 し なく て も モデル を 作成 する こと が でき ます 
20	しかし ほか の エンティティ と の リレーションシップ を 張る 際 に 商品 の どの エンティティ と 結べ ば よい の か 判断 する こと が でき ませ ん 
20	スーパータイプサブタイプ を 使用 する 場合 図表 5 右 の よう な ベン図 を 用い て 把握 し ます 
20	製造 と 調達 注文 と 注文 明細 
20	モノ を あらわす エンティティ の 作成 が 終わっ た 段階 で システム 化 対象 プロセス （ コト ） を モデル 上 に 作成 し て リレーションシップ を 張り ます 
20	製造 や 調達 は コト を あらわし て いる ので 連関 エンティティ として モデル 上 で 表現 し ます 
20	データ モデリング で は 過去 の 経験 習得 し た 知識 や パターン を 活用 する こと で より 早く 正確 な モデル を 作成 する こと が でき ます 
21	SQL 
21	SQL の 基本 を 学習 し ます 
21	はじめ に 当 テーマ で は SQL の 概要 と SELECT 文 の 基礎 について 学習 し ます 
21	SQL 概要 
21	SQL は リレーショナル データベース （ RDB ） を 操作 定義 する ため の 言語 です 
21	SQL は ANSI （ 米国 国家 規格 協会 ） ISO （ 国際 標準 化 機構 ） JIS （ 日本工業規格 ） など によって 標準 化 さ れ て い ます 
21	SQL の 大きな 特徴 の 一つ として どの よう な データ が 欲しい か だけ を 記述 する 非 手続き 型 言語 で ある 点 が 挙げ られ ます 
21	一方 C や COBOL 言語 など は どの よう に 処理 を 行う か を 記述 する 手続き 型 言語 に 分類 さ れ ます 
21	SQL の 種類 
21	各 SQL は JIS X 3005 の 定義 で は データ 操作 言語 （ DML ： Data Manipulation Language ） データ 定義 言語 （ DDL ： Data Definition Language ） に 分け られ ます 
21	また 分類 によって は GRANTREVOKEROLLBACKCOMMIT を データ 制御 言語 （ DCL ： Data Control Language ） と し て いる もの も あり ます 
21	主 な SQL 一覧 
21	SELECT 文 の 基礎 
21	表 や ビュー といった オブジェクト から データ を 取り出す に は SELECT 文 を 使用 し ます 
21	SELECT 文 の 基本 的 な 構文 は 図表 2 で 示す よう な 書式 で SELECT 句 FROM 句 WHERE 句 を 組み合わせ た もの です 
21	SELECT 文 を 実行 する 上 で 必要 最低限 な もの は SELECT 句 と FROM 句 です 
21	関係 演算 の 射影 選択 に 相当 する 操作 は 出力 列 の 指定 を 行う SELECT 句 出 力行 を 抽出 する WHERE 句 です 
21	FROM 句 で は 表 の 別名 を 定義 でき ます 
21	これ により 表 の 指定 を 別名 でも 行える よう に なり ます 
21	別名 は 主 に 表 同士 の 結合 や 相関 副 問合せ で 使用 し ます 結合 や 相関 副 問合せ の 詳細 は 後続 の テーマ で 説明 し ます 
21	次に SELECT 文 の 具体 的 な 実行 例 を 示し ます 
21	例 で は PRODUCTS 表 に対して SELECT 文 を SELECT 句 FROM 句 WHERE 句 を 指定 し た 形 で 実行 し て い ます 
21	この 時 の SELECT 文 の 実行 順序 は 以下 の よう に なり ます 
21	FROM 句 に 指定 さ れ た 「 PRODUCTS 」 より PRODUCTS 表 が 対象 と なる 
21	WHERE 句 に 指定 さ れ た 抽出 条件 「 PROD _ CAT = 筆記用具 」 により 出力 対象 の 行 は PROD _ CAT 列 の 値 が 筆記用具 の もの のみ と なる 
21	SELECT 句 に 指定 さ れ た 「 PROD _ ID PROD _ NAME 」 より 出力 する 列 は PROD _ IDPROD _ NAME と なる 
21	SQL で 文字 列 を 指定 する 場合 は シングルクオーテーション で 囲む 必要 が あり ます 
21	また 文字 列 や 数値 が 等しい か を 比較 する 記号 は 「 =」 です 
21	SELECT 句 で 指定 可能 な もの 
21	SELECT 文 内 の SELECT 句 に は 表 の 列 名 以外 に も 指定 でき ます 
21	これら を 使う こと により 単に 列 を 指定 し て 値 を 出力 する だけ で は なく 値 を 加工 し て 出力 する こと が でき ます 
21	表 中 集約 関数 について は 別途 後続 の テーマ で 詳細 を 記載 し ます 
21	また 算術 演算 で は NULL と の 演算 結果 は NULL に なる という 点 に 注意 が 必要 です 
21	記号 を 組み合わせ た SELECT 文 の 実行 例 を 図表 5 に 示し ます 
21	例 は PRODUCTS 表 に SELECT 文 を 実行 し た もの に なり ます 
21	SELECT 句 に 指定 し た 「 PROD _ NAME AS 商品 名 」 により PROD _ NAME 列 を 「 商品 名 」 として 出力 し て い ます 
21	また 「 PROD _ NAME || （ || PROD _ CAT || ） AS カテゴリ 付き 商品 名 」 で は PROD _ NAME の 文字 列 “ （ ” PROD _ CAT の 文字 列 と “ ） ” を 連結 し て 出力 し て い ます 
21	さらに 「 PRICE + 10 」 で は PRICE 列 の 数値 に 10 を 加算 し て 「 新 価格 」 という 列 名 で 出力 し て い ます 
21	この よう に SELECT 句 で は 同じ 列 を 出力 し たり 文字 列 の 連結 を 行っ たり する こと も でき ます 
22	関数 など 
22	この テーマ で は SELECT 句 内 で よく 使用 する 重要 機能 で ある DISTINCT 句 COALESCE 関数 CASE 式 と 集約 関数 について 学習 し ます 
22	SELECT 句 内 で よく 使用 する 重要 機能 
22	DISTINCT 句 
22	DISTINCT 句 を SELECT 句 の 中 で 使用 する と 列 の 重複 値 を 除い た ユニーク な 値 を 出力 でき ます 
22	指定 し た 列 が 複数 ある 場合 は 列 の 組み合わせ に対して ユニーク な 値 の 組 を 出力 し ます 
22	書式 を 示し 実行 例 を 示し ます 
22	DISTINCT 句 の 対象 に NULL が 含ま れる 場合 NULL に対して も 重複 の 排除 を 行い ます 
22	例 は PROD _ CAT 列 から ユニーク な 値 を 取得 し て いる SQL です 
22	この SQL の 実行 結果 は PROD _ CAT 列 から 重複 する 値 を 除い た 「 筆記用具 」 と 「 書籍 」 が 出力 さ れ ます 
22	次 の SQL は PROD _ CAT と COLOR 列 の 組 から ユニーク な 値 を 取得 し て い ます 
22	「 筆記用具 赤 」 「 筆記用具 茶 」 「 筆記用具 赤 」 … という 組 に対して 重複 する 値 を 削除 する ので 結果 は 「 筆記用具 赤 」 「 筆記用具 茶 」 「 書籍 青 」 「 書籍 黒 」 と なり ます 
22	COALESCE 関数 
22	COALESCE 関数 は 指定 さ れ た 引数 に対して 左 から 順に NULL か どう か 評価 を 行い NULL で ない 値 が あれ ば その 値 を 返し ます 
22	また NULL を 任意 の 数値 や 文字 列 に 置き換える こと が でき ます 
22	書式 を 示し 次に 実行 例 を 示し ます 
22	例 は COALESCE 関数 を 使い PRICE 列 の NULL に関して は 数値 「 0 」 に 置き換え て 出力 し た もの です 
22	CASE 式 
22	CASE 式 を 使う と 条件 に 応じ た 分岐 が でき ます CASE 式 は SELECT 句 内 に 記述 し て 条件 に 応じ て 出力 する 値 を 変える よう な 使い方 が でき ます 
22	書式 を 示し 次に 実行 例 を 示し ます 
22	例 は PROD _ CAT 列 の 文字 列 を 条件 に 応じ て 他 の 文字 に 置換 し て 出力 し た もの です 
22	「 筆記用具 」 は 「 筆 」 に 「 書籍 」 は 「 書 」 に 置き換え られ ます 「 筆記用具 」 「 書籍 」 の いずれ に も 一致 し ない 文字 列 は ELSE が 適用 さ れ 「 その他 」 に 置き換え られ ます 
22	また CASE 式 を カンマ で 区切っ た 後 の PROD _ NAME は 通常 の 列 として 扱わ れ ます 
22	COALESCE 関数 と CASE 式 は SELECT 句 に 限ら ず WHERE 句 など で も 使用 でき ます 
22	集約 関数 
22	集約 関数 を 使う と 指定 し た 列 の 値 に対して 集計 が でき ます 主 な 集約 関数 を 示し ます 
22	COUNT は 「 *」 を 指定 する か 列 を 指定 する か によって NULL に対する 扱い が 異なる こと に 注意 し て ください 
22	SUM や AVG など は NULL は 無視 し て 計算 結果 を 出力 し ます 
22	例 で は COUNT ( DISTINCT < 列 >) を 使い PROD _ CAT 列 の ユニーク な 値 の 件数 を 求め て い ます 
22	NULL は 無視 さ れる ため 結果 は 「 筆記用具 」 「 書籍 」 「 文房具 」 の ３つ に なり ます 
23	述語 
23	当 テーマ で は 比較 演算 子 や 述語 を 学習 し ます 
23	比較 演算 子 
23	文字 列 や 数値 の 比較 を 行う 演算 子 を 比較 演算 子 と 呼び ます 比較 演算 子 に は 次 の もの が あり ます 
23	比較 演算 子 で は NULL を 比較 対象 として 扱え ませ ん NULL を 比較 対象 として 扱う に は IS NULL 述語 を 使用 し ます 
23	比較 演算 子 を 用い た SELECT 文 の 実行 例 を 示し ます 
23	WHERE 句 内 で 比較 演算 子 「 <>」 を 使用 し た 例 です 
23	WHERE 句 の 条件 「 PROD _ ID <> 101 」 から 実行 結果 は PROD _ ID が 101 を 除く 「 鉛筆 」 と 「 消しゴム 」 が 出力 さ れ ます ② で は 比較 演算 子 「 =」 を 使い NULL と の 比較 を 行っ て い ます 
23	比較 演算 子 で は NULL を 比較 対象 として 扱え ない ため 結果 は 1 件 も 出力 さ れ ませ ん 
23	NULL と の 比較 を 行う に は IS NULL 述語 を 使用 し ます 
23	述語 
23	文字 列 や 数値 の 比較 に は 比較 演算 子 の 他 に も 図表 3 の よう な 述語 が 使用 でき ます 
23	述語 は NOT を 付ける こと により 否定 を とる こと も でき ます 
23	また INBETWEENLIKE は 比較 演算 子 同様 NULL を 比較 対象 として 扱い ませ ん EXISTS に関して は 相関 副 問合せ で 詳細 を 学習 し ます 
23	述語 の 使用 法 を いくつ か の 例 で 示し ます 
23	論理 演算 子 
23	論理 演算 子 を 使い 複数 の 条件 を 組み合わせる こと も でき ます 
23	論理 演算 子 に は 次 の もの が あり ます 
23	論理 演算 子 は NOTANDOR の 優先 順 で 評価 さ れ ます 
23	その ため AND より OR を 先 に 評価 さ せる に は 「 ( )」 を 使用 する 必要 が あり ます 
23	例 で は ANDOR ( ) を 組み合わせ た とき の 実行 結果 を 示し て い ます 
23	( ) 中 の 「 PROD ID = 104 OR PROD _ ID = 101 」 が 先 に 評価 さ れ その後 「 PROD _ CAT = 筆記用具 」 と の AND が 行わ れ ます 
23	その 結果 PROD _ ID が 101 の 行 が 出力 さ れ ます 
23	もし 「 ( )」 を 記述 し なかっ た 場合 は AND の 方 が 先 に 評価 さ れる ため 「 PROD _ ID = 101 AND PROD _ CAT = 筆記用具 」 が 先 に 評価 さ れ 次に 「 PROD _ ID = 104 」 と の OR が 実行 さ れ ます 
23	これ により PROD _ ID が 101 と 104 の 行 が 出力 さ れる こと に なり ます 
24	ORDER BY 句 
24	SELECT 文 内 で ORDER BY 句 を 使用 する と 実行 結果 行 の 並べ 替え が でき ます 
24	ORDER BY 句 を 使用 し ない 場合 SELECT 文 の 実行 結果 の 並び 順 は 不定 です 
24	ここ で の 不定 と は 並び 順 に 規則 は なく 実行 する 度 に 変わる 可能 性 が ある こと を いい ます 
24	その ため SELECT 文 の 実行 結果 を 一定 の 並び 順 で 取得 し たい 場合 は 必ず ORDER BY 句 を 指定 する 必要 が あり ます 
24	ORDER BY 句 は SELECT 文 の 最後 に 記述 し ます 
24	たとえば SELECT 句 ～ WHERE 句 まで の SELECT 文 の 場合 は WHERE 句 の 後 に SELECT 句 ～ HAVING 句 まで の SELECT 文 で あれ ば HAVING 句 の 後 に 記述 し ます 
24	なお GROUP BY 句 で 並び 順 で ある ASC （ 昇順 ） および DESC （ 降順 ） を 省略 し た 場合 は 昇順 に なり ます 
24	ORDER BY 句 の 実行 例 を 示し ます 
24	PRICE 列 で 昇順 ソート を 行っ た 例 です 
24	例 で は 昇順 を 示す ASC は 省略 時 の 値 の ため 明示 的 な 指定 は し て い ませ ん 
24	一方 PRICE 列 で 降順 ソート を 行っ た 例 です 
24	ORDER BY 句 の NULL に対する 並び 順 に関する 規定 は あり ませ ん 
24	ソート し た 際 NULL が 来る 位置 は 各 DBMS 製品 によって 異なり ます 
24	また ORDER BY 句 で 指定 する 列 は 必ずしも SELECT 句 で 指定 し た 列 で ある 必要 は あり ませ ん 
24	先 の 例 で いえ ば SELECT 句 内 に PRICE が なく て も SELECT 文 の 実行 は 可能 です 
24	GROUP BY 句 
24	GROUP BY 句 を 使用 する と 行 の グルーピング が 行え ます 
24	これ により 集約 関数 は 作成 し た グループ の 単位 で 実行 さ れる よう に なり ます 
24	GROUP BY 句 は WHERE 句 の 後 に 記述 し ます 
24	GROUP BY 句 に 複数 の 列 を 指定 し た 場合 指定 さ れ た 列 の 値 の 組み合わせ に対して グルーピング が 行わ れ ます 
24	GROUP BY 句 を 使用 時 SELECT 句 内 で 指定 する 列 は GROUP BY 句 で 指定 し た 列 を 除い た すべて の 列 に対して 集約 関数 を 用い なけれ ば なり ませ ん 
24	GROUP BY 句 の 実行 例 を 示し ます 
24	PRODUCTS 表 の PROD _ CAT 列 を GROUP BY 句 に 指定 し た 例 です 
24	実行 結果 は PROD _ CAT 列 の 値 で グルーピング 集約 さ れ て 「 筆記用具 」 と 「 書籍 」 の 2 件 に なっ て い ます 
24	また PRICE の 値 は AVG 関数 によって それぞれ グルーピング 単位 で 平均 値 が 算出 さ れ て い ます 
24	GROUP BY 句 に ORDER _ DATE 列 と PROD _ ID 列 を 指定 し た 例 です 
24	この 場合 は ORDER _ DATE 列 の 値 と PROD _ ID 列 の 値 と の 組み合わせ で グルーピング 集約 さ れ ます 
24	HAVING 句 
24	HAVING 句 を 使用 する と 集計 結果 に対して 条件 による 絞り込み が 行え ます 
24	HAVING 句 は GROUP BY 句 の 後 に 記述 し ます 
24	また HAVING 句 に 記述 する 条件 に は 必ず 集約 関数 を 使用 し ます また HAVING 句 は GROUP BY 句 を 指定 し て い なく て も 使用 する こと が でき ます 
24	その 場合 は 表 全体 を 1 つ の グループ と みなし て 処理 が 行わ れ ます 
24	HAVING 句 の 実行 例 を 示し ます 
24	例 は HAVING 句 で PRICE 列 の 平均 値 に対して 500 より 大きい 商品 だけ 出力 し た もの に なり ます 
24	HAVING 句 の 前 に GROUP BY 句 が ある ので まず GROUP BY 句 で 指定 さ れ た PROD _ CAT 列 の 値 毎 に グルーピング が 行わ れ ます 
24	その後 HAVING 句 に 指定 さ れ た 条件 が グループ 単位 で 評価 さ れ ます 
24	結果 PRICE 列 の 平均 値 が 500 より 大きい 「 書籍 」 グループ が 出力 さ れ ます 
25	内部 結合 
25	内部 結合 （ INNER JOIN ） は 2 表 に対して 結合 を 行い 結合 条件 に 一致 する 行 だけ を 取り出し ます 
25	内部 結合 は 内 結合 とも いい ます 
25	内部 結合 の 書式 を 示し ます 
25	内部 結合 の 書き方 に は INNER JOIN を 省略 する 方法 と 省略 し ない 方法 の 2 通り あり ます 
25	INNER JOIN を 省略 する 場合 は 結合 条件 は WHERE 句 で 指定 し ます 
25	INNER JOIN を 省略 し ない 場合 は 結合 条件 は ON の 後 に 記述 し ます 
25	また 結合 対象 と なる 表 が 同じ 列 名 を もつ 場合 どちら の 表 の 列 な の か を 区別 する ため に 列 名 は 「 表 名 もしくは 別名 . 列 名 」 の よう に 記述 し ます 
25	内部 結合 の 実行 例 を 示し ます 
25	例 は PROD _ ID 列 を 結合 条件 として PRODUCTS 表 と ORDERS 表 を 内部 結合 さ せ た もの です 
25	この 例 で は FROM 句 で 表 を 指定 し た 後 に 表 に 別名 を 付け 結合 条件 を 記述 し て い ます 
25	自然 結合 
25	自然 結合 （ NATURAL JOIN ） を 使用 する と 指定 さ れ た 表 の 列 名 が 一致 する もの を 結合 条件 に し て 結合 列 の 重複 を 除い た 形 で 結合 でき ます 
25	自然 結合 の 例 を 示し ます 
25	自然 結合 は 内部 結合 で 使用 する 場合 「 INNER JOIN 」 の 前 に 「 NATURAL 」 を 記述 し ます 
25	この とき 「 INNER 」 は 省略 可能 です 
25	また 結合 条件 は 記述 し ませ ん 
25	なお 「 NATURAL 」 は 外部 結合 で も 使用 でき ます 
25	外部 結合 
25	指定 し た 表 に対して 結合 条件 と 一致 し ない 行 も 残し て おく の が 外部 結合 （ OUTER JOIN 外 結合 ） です 
25	外部 結合 に は 左 外部 結合 右 外部 結合 完全 外部 結合 の 3 種類 が あり ます 
25	これ は 一致 し ない 行 を 残し て おく 表 を 左側 右側 両方 に する か の 違い です 
25	それぞれ の 外部 結合 の 実行 結果 の 違い を 示し ます 
25	外部 結合 の 結果 で は 結合 対象 が なく 値 が 存在 し ない 箇所 に は NULL が 入り ます 
25	例 で は ORDERS 表 を すべて の 行 を 残す 表 に 指定 し て PRODUCTS 表 と 外部 結合 （ 左 外部 結合 ） を 行っ て い ます 
25	ORDERS 表 の PROD _ ID 「 999 」 に 一致 する データ は PRDUCTS 表 に は あり ませ ん 
25	しかし 外部 結合 を 行っ て いる ため 「 999 」 の 値 を もつ 行 も 結果 として 残り ます 
25	自己 結合 
25	一つ の 表 を あたかも 複数 存在 する か の よう に 扱い 同じ 表 同士 を 結合 する こと を 自己 結合 と いい ます 
25	自己 結合 は 親子 関係 の 情報 を もつ 表 で よく 使用 さ れ ます 
25	内部 結合 や 外部 結合 と は 異なる 分類 の ため 内部 外部 どちら の 結合 に も 使用 でき ます 
25	自己 結合 で は 同一 の 表 を FROM 句 に 指定 する ため 表 の 別名 を それぞれ に 付け て 区別 できる よう に する 必要 が あり ます 
25	自己 結合 の 実行 例 を 示し ます 
25	例 で は 親 ID （ PARENT _ ID ） 列 を もつ 表 X に対して 自己 結合 を 実行 し て い ます 
25	一つ 目 の X 表 の PARENT _ ID と 二つ 目 の X 表 の ID を 結合 条件 に 自己 結合 し て い ます 
25	これ により 自身 の 名前 と 親 の 名前 を 含む 結合 結果 が 得 られ ます 
26	副 問合せ 
26	副 問合せ と 副 問合せ の 一 種 で ある 相関 副 問合せ について 学習 し ます 
26	副 問合せ 
26	SELECT 文 や INSERT 文 UPDATE 文 DELETE 文 内 に SELECT 文 を 書い た もの を 副 問合せ と いい ます 
26	SELECT 文 の WHERE 句 内 に もう 一つ SELECT 文 を 記述 し た 副 問合せ の 例 を 示し ます 
26	副 問合せ を 含む SQL で は はじめ に 副 問合せ 側 の SELECT 文 が 実行 さ れ ます 
26	その後 副 問合せ の 結果 を 基 に 主 問合せ の 側 SELECT 文 が 実行 さ れ ます 
26	上記 例 で は 比較 演算 子 に 「=」 を 使用 し て い ます が 「 <」 や 「 >」 など も 使用 でき ます また 副 問合せ の 箇所 は 「 ( )」 で 囲む 必要 が あり ます 
26	副 問合せ の 結果 が 複数 件 に なる 場合 の 比較 に は IN 述語 を 使い ます 
26	結果 が 複数 件 に なる に も 関わら ず 比較 演算 子 「 =」 や 「 <」 など を 使用 し た 場合 SQL の 実行 は 失敗 し ます 
26	副 問合せ の 具体 的 な 実行 例 を 示し ます 
26	比較 演算 子 「 <」 を 用い た 副 問合せ の 例 です 
26	PRODUCTS 表 から PROD _ ID が 107 の 商品 の 価格 （ PRICE ） より 安い 商品 を 出力 し て い ます 
26	内部 で は はじめ に 副 問合せ が 実行 さ れ PROD _ ID が 107 の 商品 の 価格 が 取り出さ れ ます 
26	その後 主 問合せ が 実行 さ れ 先 に 取得 し た 価格 より 安い 商品 を 出力 する という 動作 が 行わ れ ます 
26	IN 述語 を 用い た 副 問合せ の 例 です 
26	この 例 で は 受注 が あっ た 商品 の 情報 だけ を 抽出 し て い ます 
26	内部 で は 副 問合せ で ORDERS 表 から オーダ が あっ た 商品 の 番号 （ PROD _ ID ） が 取得 さ れ ます 
26	その後 主 問合せ で 副 問合せ で 取得 し た 商品 番号 を 抽出 条件 として PRODUCTS 表 から 情報 が 取得 さ れ ます 
26	なお 副 問合せ の DISTINCT 句 は 付け なく て も 結果 は 同じ です 
26	相関 副 問合せ 
26	相関 副 問合せ は 副 問合せ の 中 で 主 問合せ の 表 の 値 を 参照 する 副 問合せ の 一 種 です 
26	相関 副 問合せ の 書式 の 例 を 示し ます 
26	相関 副 問合せ は 単純 な 副 問合せ と は 動作 が 異なり ます 
26	相関 副 問合せ の 動作 は 以下 の とおり です 
26	主 問合せ の 表 から 1 件 取り出す 
26	取り出し た 1 件 の データ を 使用 し て 副 問合せ を 実行 する 
26	副 問合せ 結果 を 基 に 1 件 分 の 主 問合せ を 実行 する 
26	主 問合せ の 表 の データ が なくなる まで 作業 を 繰り返す 
26	相関 副 問合せ の 具体 的 な 実行 例 を 示し ます 
26	例 は 相関 副 問合せ を 使用 し て PRODUCTS 表 から 種別 毎 の 平均 価格 より 高い 商品 を 抽出 し て い ます 
26	1 件 PROD _ ID 「 101 」 の データ を 取り出し ます 
26	次に 副 問合せ で 取り出し た データ の 種別 （ PROD _ CAT の 値 ） を 基 に 種別 の 平均 価格 を 求め て い ます 
26	主 問合せ で PROD _ ID 「 101 」 の データ に対して 価格 が 種別 の 平均 価格 より 高い か を 判定 し て い ます 
26	この 処理 を 繰り返し 最終 的 に 抽出 さ れ た 結果 が 出力 さ れ ます 
26	EXISTS 述語 
26	相関 副 問合せ の 副 問合せ と 主 問合せ の 比較 部分 に EXISTS 述語 を 使用 でき ます 
26	EXISTS 述語 は 副 問合せ の 結果 が 1 件 でも あれ ば 真 を 返す 述語 です 
26	EXISTS 述語 を 使用 し た 副 問合せ の SELECT 句 に は 「 *」 を 記述 する の が 一般 的 です 
26	なお 「 *」 の 他 に も 主 キー 列 や X など の 文字 列 を 指定 し て も 同様 に 結果 が 得 られ ます 
26	EXISTS 述語 の 実行 例 を 示し ます 
26	図表 5 の 例 で は 相関 副 問合せ を 使用 し て 受注 が あっ た 商品 の 情報 を 抽出 し て い ます 
26	副 問合せ で 受注 表 に 対応 する 商品 を 取り出し EXISTS 句 で 取り出し た 件数 が 1 件 以上 で ある か を 判定 し て い ます 
26	EXISTS 述語 を 使用 し た 相関 副 問合せ は IN 句 を 使用 し た 副 問合せ に 書き換え られ ます 
26	SELECT 文 は 書き換え た もの です 
27	集合 演算 と その他 DML 
27	集合 演算 の 和 差 積 に 相当 する SQL で ある UNION 句 EXCEPT 句 INTERSECT 句 と 直積 を 行う クロス 結合 データ の 更新 処理 を 行う INSERT 文 UPDATE 文 DELETE 文 について 学習 し ます 
27	集合 演算 に 対応 する 句 
27	UNION 句 
27	UNION 句 は 関係 演算 の 和 に 相当 する SQL です UNION 句 を 使用 する と 表 同士 を 縦 方向 に 連結 でき ます 
27	期間 ごと に 分割 し て いる 表 の データ を 連結 し たり 異なる テーブル 間 の 共通 の 属性 を 集約 し たり する 場合 など で 使用 し ます 
27	後者 の 例 として は 「 教員 」 表 と 「 生徒 」 表 から それぞれ 名前 と 住所 を 取り出し て 名簿 を 作成 する こと が 挙げ られ ます 
27	UNION 句 の 書式 を 示し ます UNION 句 使用 時 ALL を 指定 し ない 場合 は 値 が 重複 する 行 は 排除 さ れ ます 
27	一方 UNION ALL 句 を 指定 する と 重複 行 を 残し た まま 連結 でき ます 
27	UNION 句 や 次 で 学習 する EXCEPT 句 INTERSECT 句 を 使用 する 場合 ORDER BY 句 は 最後 の SELECT 文 に 記述 し ます 
27	UNION 句 の 実行 例 を 示し ます 
27	例 は UNION ALL 句 を 使用 し て 期間 ごと に 分割 さ れ て いる 受注 表 を 連結 し た もの で 重複 する データ が ない ため UNION 句 で も UNION ALL 句 で も 結果 は 同じ です 
27	この よう な 場合 で は UNION ALL 句 を 使用 し た 方 が 重複 を 探さ せ ない 分 高速 に 処理 でき ます 
27	EXCEPT 句 
27	EXCEPT 句 は 関係 演算 の 差 に 相当 し ます 
27	EXCEPT 句 を 使用 する と 表 間 の 差分 を 求め られ ます 
27	表 同士 の データ の 違い や 複数 の SELECT 文 の 実行 結果 を それぞれ 表 に 保存 し て おい て 差異 を 見つけ たり する の に 使用 し ます 
27	EXCEPT 句 の 書式 を UNION 句 UNION ALL 句 EXCEPT 句 INTERSECT 句 それぞれ の 実行 結果 の 違い を 表し た 図 を 示し ます 
27	INTERSECT 句 
27	INTERSECT 句 は 表 間 で 共通 し て いる 行 を 取り出し ます 
27	関係 演算 の 積 に 相当 し ます 図表 5 に INTERSECT 句 の 書式 を 示し ます 
27	クロス 結合 
27	クロス 結合 （ CROSS JOIN ） を 使用 する と 集合 演算 の 直積 が 行え ます 
27	クロス 結合 の 実行 例 を 示し ます 
27	FROM 句 の CROSS JOIN は 省略 し て 表 を 「 」 で 区切る だけ に する こと も 可能 です 
27	なお 商 について は 相当 する 句 は ない ため 実装 時 個別 に 対応 する SQL 文 を 記述 する 必要 が あり ます 
27	その他 DML 
27	その他 DML として 更新 処理 を 行う SQL を 学習 し ます 
27	INSERT 文 は データ の 挿入 を 行い ます INSERT 文 で は 副 問合せ を 使用 し て 既存 の 表 データ を 挿入 する こと も でき ます 
27	INSERT 文 UPDATE 文 DELETE 文 の 書式 を まとめ て 使用 例 を 示し ます 
27	UPDATE 文 は データ の 変更 を 行い ます 
27	WHERE 句 で 条件 を 指定 し ない 場合 表 の すべて の 行 が 変更 対象 と なる ため 注意 が 必要 です 
27	UPDATE 文 で は 値 の 部分 に SELECT 文 を 使っ た 副 問合せ を 記述 する こと により 既存 の データ を 使用 し た 変更 も でき ます 
27	DELETE 文 は データ の 削除 を 行い ます 
27	WHERE 句 で 条件 を 指定 し ない 場合 表 の すべて の 行 が 削除 対象 と なる ため 注意 が 必要 です 
28	埋込み SQL カーソルストアドプロシージャ 
28	埋込み SQL と 埋込み SQL で 実行 結果 を 扱う ため の カーソル DBMS に対する 操作 を まとめる 機能 で ある ストアドプロシージャ について 学習 し ます 
28	埋込み SQL 
28	埋込み SQL は C や COBOL など の プログラミング 言語 に SQL を 組み込む ため の 仕組み です 
28	SQL を 埋め込ん だ とき C や COBOL など の こと を 親言語 と 呼び ます 
28	埋込み SQL を 実行 する 場合 は プリプロセッサ を 用い て 親言語 内 に 記述 し た SQL の 事前 処理 を し ます 
28	その後 親言語 の コンパイラ で コンパイル し て 実行 し ます 
28	埋込み SQL は 静的 SQL と 動的 SQL に 分類 さ れ ます 
28	静的 SQL ： プログラム 実行 前 に 親言語 内 に 記述 さ れ た SQL を 解析 し て おく 方式 
28	動的 SQL ： プログラム 実行 の つど 動的 に SQL を 解析 する 方式 
28	カーソル 
28	カーソル は C や COBOL など の 親言語 （ 手続き 型 ） において 複数 件 と なる SQL の 実行 結果 を 順番 に 処理 する ため の 仕組み です 
28	カーソル を 使用 する に は 以下 の 手続き を 踏む 必要 が あり ます 
28	カーソル の 宣言 
28	カーソル と 実行 する SQL を 定義 する 
28	カーソル の オープン 
28	SQL が 実行 さ れ 結果 行 が 確定 する 
28	データ の フェッチ 
28	結果 行 から 1 件 取り出し 結果 を 親言語 の 変数 に 格納 する 
28	カーソル の クローズ 
28	カーソル の 使用 を 終了 し リソース を 解放 する 
28	カーソル の 書式 を 示し ます 
28	データ の フェッチ で INTO 句 の 後 に 指定 する 変数 は ホスト 変数 と いい ます 
28	ホスト 変数 は SQL と 親言語 間 で 値 を やり取り する ため の 変数 です 
28	通常 の 列 名 など と 変数 を 区別 する ため SQL 内 で は 変数 の 最初 に 「:」 を 記述 し ます 
28	フェッチ で は 実行 する 度 に ポインタ を 次 の 行 へ 移動 し データ を 取り出し て 変数 へ 格納 する という 処理 が 行わ れ ます 
28	フェッチ の 動作 イメージ を 示し ます 
28	C 言語 で カーソル を 使っ た サンプル コード を 示し ます 
28	例 は 静的 SQL を 用い た 例 に なり ます 
28	なお 動的 SQL を 記述 する 場合 は 説明 欄 の よう に PREPARE で 前 処理 し て から 実行 する よう に 記述 し ます 
28	カーソル を 使用 し た 更新 
28	カーソル を 使用 し た フェッチ 中 ポインタ が 指し て いる 行 に対して 更新 削除 する こと が でき ます ポインタ が 指し て いる 行 に 更新 を 行う に は UPDATE 文 や DELETE 文 の WHERE 句 に CURRENT OF < カーソル 名 > を 記述 し ます 
28	書式 と サンプル コード を 示し ます 
28	ストアドプロシージャ 
28	ストアドプロシージャ は あらかじめ 表 や ビュー へ の 操作 を まとまっ た 手続き として DBMS に 登録 し て おく 機能 です 
28	ストアドプロシージャ は DBMS に コンパイル 済み の モジュール として 登録 さ れ ます 
28	クライアント は ストアドプロシージャ を 呼び出す こと で DBMS に対する 一連 の 操作 を 行う こと が でき ます 
28	ストアドプロシージャ を 使用 する 主 な 利点 を 示し ます 
28	・ クライアント と の ネットワーク 通信 量 の 削減 
28	1 回 の ストアドプロシージャ 呼び出し で 複数 の 操作 を 一括 し て DBMS 内 で 処理 できる ため クライアント と の 通信 量 が 減る 
28	セキュリティ の 向上 
28	データ へ の アクセス を ストアドプロシージャ 呼び出し に 限定 し 表 へ の 直接 の アクセス を 禁止 できる 
28	また SQL が ネットワーク 上 を 流れ ない ため セキュリティ が 向上 する 
28	データ 操作 の 標準 化 
28	データ アクセス を ストアドプロシージャ 呼び出し に 限定 する こと により 使用 する SQL を 共通 化 できる ため データ 操作 の 標準 化 に つながる 
29	表 と ビュー 
29	テーマ 029 ～ 033 で は 表 や ビュー 索引 など の データベース 内 の オブジェクト について 学習 し ます 
29	表 
29	DBMS において データ を 格納 する 役割 を 担う の が 表 です 
29	表 は 表 の 名前 列 の データ 型 や 名前 など を 指定 し て 作成 し ます 
29	標準 で 定義 さ れ て いる 代表 的 な データ 型 を 示し ます 
29	実際 に データ 型 を 決める 際 に は データ 型 が DBMS によって 使用 できる もの が 異なっ たり データ 型 の 名前 が 異なっ たり する ため 使用 する DBMS に 合わせ て 選択 し ます 
29	表 の 作成 
29	表 を 作成 する に は CREATE TABLE 文 を 使用 し ます CREATE TABLE 文 の 書式 を 示し ます 
29	CREATE TABLE 文 で は 作成 する 表 の 名前 と 表 内 の 列 の 名前 データ 型 を 指定 し ます 
29	また 列 の デフォルト 値 を 指定 する こと も でき ます 
29	さらに 主 キー 制約 や 参照 性 制約 など の 制約 について も CREATE TABLE 時 に 定義 を 行い ます 
29	CREATE TABLE 文 の 実行 例 を 示し ます 
29	例 で は PRODUCTS 表 を 作成 し て い ます PRODUCTS 表 の 中 の PROD _ CAT 列 に は デフォルト 値 として 「 なし 」 という 文字 列 を 定義 し て い ます 
29	この ため INSERT 文 による データ 挿入 時 PROD _ CAT 列 の 値 を 指定 し ない 場合 は 文字 列 「 なし 」 が 挿入 さ れ ます 
29	表 の 作成 で は あらかじめ ドメイン という データベース オブジェクト を 作成 し て おき ドメイン を 属性 の 代わり に 用いる こと も でき ます 
29	ドメイン を 作成 する に は CREATE DOMAIN 文 を 使い ます 
29	CREATE DOMAIN 文 の 書式 と 例 を 図表 4 に 示し ます 
29	表 の 変更 削除 
29	表 の 変更 に は ALTER TABLE 文 表 の 削除 は DROP TABLE 文 を 使用 し ます 
29	また この あと 説明 する データベース 上 に CREATE から 始まる SQL 文 で 作成 する オブジェクト に関して も 同様 に 変更 削除 は ALTER < オブジェクト 名 > DROP < オブジェクト 名 > 文 を 使用 し ます 
29	データベース スペシャリスト 試験 で は データベース オブジェクト の 変更 削除 について は 出題 さ れ ない ため 詳細 な 説明 は 割愛 し ます 
29	なお ALTER 文 の 書式 および 実行 時 の 動作 は DBMS 毎 に 異なる ため 実装 時 に は 注意 が 必要 です 
29	ビュー 
29	ビュー は データ の 実体 を もた ない 仮想 の 表 で 一つ ないし 複数 の 表 を 基 に 作成 し ます 
29	この とき ビュー の 基 に なっ た 表 の こと を 基底 表 と 呼び ます 
29	また ビュー は 他 の ビュー を 基 に 作成 する こと も でき ます 
29	ビュー を 使用 する こと により 以下 の 2 点 が 実現 でき ます 
29	詳細 な アクセス 制御 の 実施 ： ユーザ に対して 表 内 の 特定 の 行 や 列 だけ に アクセス 範囲 を 限定 できる 
29	ユーザ の 操作 の 容易 化 ： 結合 や 副 問い合わせ など の 複雑 な 操作 を ビュー として 定義 し て おく こと により ユーザ が 簡単 な 操作 を 行う だけ で 済む よう に なる 
29	ビュー を 作成 する に は CREATE VIEW 文 を 実行 し ます 
29	CREATE VIEW 文 の 書式 と 例 を 図表 5 に 示し ます 
29	例 は PRODUCTS 表 の PROD _ CAT 列 の データ が 「 書籍 」 の もの を 抽出 し た ビュー を 作成 し て い ます 
29	例 で は PRODUCTS 表 と ORDERS 表 と CUSTOMERS 表 を 内部 結合 し た 結果 を ビュー として 作成 し て い ます 
29	この ビュー により ユーザ は 結合 を 記述 する こと なく 結合 結果 に対する 操作 を 行う こと が でき ます 
29	マテリアライズドビュー （ Materialized View ） 
29	マテリアライズドビュー （ 体現 ビュー ） は データ （ 実体 ） を も 持っ た ビュー です 集計 処理 を 行う SQL を 使用 し て マテリアライズドビュー を 作成 する こと により 集計 結果 を ビュー に 保持 し 再 利用 でき ます 
29	通常 の ビュー に対して SQL 文 は 基底 表 の データ を 用い て 実行 さ れ ます 
29	一方 マテリアライズドビュー に対する SQL は マテリアライズドビュー が もつ 集計 済み データ を 使用 し て 実行 する ため 集計 処理 の 手間 が 省ける 分 高速 に 処理 さ れ ます 
29	作成 し た マテリアライズドビュー の データ は 基底 表 の データ に対して あらかじめ 指定 し た タイミング で 同期 さ れ ます 
29	同期 の タイミング を リアルタイム に 近く する ほど マテリアライズドビュー の データ は 基底 表 に対して 最新 の もの に 近く なり ます 
29	一方 基底 表 に対する 更新 操作 は マテリアライズドビュー へ の 反映 が 必要 に なる 分 遅く なり ます 
29	更新 可能 ビュー 
29	ビュー に対して 更新 が 行える もの を 更新 可能 ビュー と 呼ん で い ます 
29	更新 が 行える か どう か は UPDATE 文 や INSERT 文 など の 更新 処理 が 基底 表 に対して 整合 性 が とれ た 状態 で 行える か どう か によります 
30	権限 
30	権限 と は 
30	ユーザ が 表 や ビュー など データベース 内 の オブジェクト に対して 操作 を 行う に は 権限 が 必要 です 
30	権限 の イメージ を 図表 1 に 示し ます 
30	ユーザ X は A 表 に対して SELECTINSERTUPDATEDELETE が 実行 でき ます 
30	一方 ユーザ Y は A 表 に対して SELECT だけ 実行 でき INSERT や UPDATE は 実行 でき ませ ん 
30	また B 表 に対して は ユーザ XY いずれ も 権限 を もっ て い ない ため 操作 は でき ませ ん 
30	権限 の 付与 と 剥奪 
30	権限 を 付与 する に は GRANT 文 を 剥奪 ( はくだつ ) する に は REVOKE 文 を 使用 し ます 
30	GRANT 文 と REVOKE 文 の 書式 を 示し ます 
30	対象 と する データベース の オブジェクト によって 付与 できる 権限 が 異なり ます 
30	表 および ビュー の 権限 を 示し ます 
30	REFERENCES 権限 について は テーマ 032 参照 制約 で 詳細 を 説明 し ます 
30	再び GRANT 文 の 書式 に関する 説明 に 戻り ます 
30	GRANT 文 や REVOKE 文 で は 対象 と する ユーザ や ロール を 指定 し ます 
30	指定 する ユーザ に は すべて の ユーザ を 指す PUBLIC も 使用 でき ます 
30	PUBLIC に 付与 さ れ た 権限 は DBMS 内 に 定義 さ れ て いる すべて の ユーザ 共通 の 権限 と なり ます 
30	また WITH GRANT OPTION を 指定 する と 権限 を 付与 さ れ た ユーザ が 新た に 別 の ユーザ に対して 権限 を 付与 できる よう に なり ます 
30	権限 の 付与 と 剥奪 の 実行 例 を 示し ます 
30	DBMS 管理 者 が ユーザ に 権限 を 付与 し さらに 権限 を 付与 さ れ た ユーザ が 他 の ユーザ へ 権限 を 付与 し て いる 例 です 
30	GRANT 文 で DBMS 管理 者 は ユーザ sato に A 表 へ の SELECT と INSERT を 実行 する 権限 を WITH GRANT OPTION を 指定 し て 付与 し て い ます 
30	GRANT 文 で は ユーザ suzuki に B 表 へ の SELECTINSERTUPDATEDELETE 権限 を ALL PRIVILEGES を 指定 し 与え て い ます 
30	ユーザ sato が DBMS 管理 者 に 付与 さ れ た 権限 の 中 から SELECT 権限 を ユーザ suzuki に 付与 し て い ます 
30	これ により ユーザ suzuki も A 表 へ SELECT 文 の 実行 が でき ます 
30	DBMS 管理 者 が ユーザ suzuki に 付与 し た B 表 に対する DELETE 権限 を 剥奪 し て い ます 
30	その ため ユーザ suzuki は B 表 に対する DELETE 文 の 実行 が でき なく なり ます 
30	ビュー へ の 権限 
30	表 内 の 特定 の データ へ のみ アクセス を 許可 する 方法 として ビュー が 利用 でき ます 
30	表 へ の 権限 の 付与 は 表 もしくは 列 の 単位 で しか 行え ませ ん が ビュー を 使用 する こと により 行 の 単位 で の 制御 が 実施 でき ます 
30	なお DBMS によって は 列 単位 で の 権限 の 付与 が でき ない もの も あり ます 
30	その よう な DBMS で 列 の 単位 で の アクセス を 制御 する とき に も ビュー を 用い ます 
30	ビュー を 使い 表 データ へ の アクセス 範囲 を 限定 し た 例 を 示し ます 
30	EMPLOYEES 表 の 特定 の データ に 限定 し て ユーザ が 操作 できる よう に し た 例 です 
30	ビュー EMP _ 5 を 作成 し て その ビュー に対して のみ ユーザ takahashi へ SELECT 権限 を 付与 し て い ます 
30	ロール 
30	ロール を 使用 する と 権限 を まとめ られ 同じ 権限 を もたせ たい ユーザ の 追加 や 権限 の 剥奪 手順 を 簡単 に でき ます 
30	ロール の 作成 は CREATE ROLE 文 で 行い GRANT 文 で ロール に 権限 を 付与 し ます 
30	さらに ユーザ と ロール を 紐 付ける に は GRANT 文 で 行い ます 
30	次に ロール の 作成 例 を 図表 7 に 示し ます 
30	ロール を 使用 し て ユーザ XY に 権限 を 与え た 例 です 
30	ロール ABC を 作成 し て A 表 へ の SELECTINSERTUPDATE 権限 と B 表 C 表 へ の SELECT 権限 を ロール ABC に 付与 し て い ます 
30	その後 ロール ABC と ユーザ XY を 紐 付け て い ます 
30	この よう に ロール を 使い 権限 を まとめる こと により ユーザ の 変更 も 簡単 に なり ます 
30	例えば 人事 異動 など で ユーザ Y の 代わり に ユーザ Z に 同様 の 権限 を 与え たい よう な 場合 を 考え て み ます 
30	この 場合 ロール が ある こと によって ユーザ Y から ロール ABC を 剥奪 （ REVOKE ABC FROM Y ） し ユーザ Z に ロール ABC を 付与 （ GRANT ABC TO Z ） する だけ で 済ませる こと が でき ます 
31	制約 1 
31	主 キー 制約 
31	主 キー 制約 は 指定 し た 列 の 値 が 既存 の 値 と 重複 する または NULL で ある データ の 格納 を 禁止 し ます 
31	主 キー 制約 は 一つ の 表 に対して 一つ だけ 定義 でき ます 
31	制約 は 表 の データ に対して 規則 を 定義 し ます 
31	制約 を 表 に 設定 する こと により 格納 する データ が 制約 に 違反 し て い ない か DBMS に 確認 さ せる こと が でき ます 
31	主 キー 制約 は CREATE TABLE 文 で 表 作成 時 に 設定 し ます 図表 1 に 主 キー 制約 の 書式 を 示し ます 
31	主 キー 制約 や 形式 制約 など 制約 を 複数 定義 する とき は 上段 の 記述 方式 で は 「 」 を 使い 下段 の 記述 方式 で は 「 （ スペース ） 」 を 使い 複数 の 制約 を 記述 し ます 
31	なお 制約 は ALTER TABLE 文 によって 表 の 作成 後 に 制約 を 追加 削除 する こと も でき ます 
31	主 キー 制約 の 例 を 示し ます 
31	例 は 主 キー 制約 を 設定 し て いる 表 へ の INSERT 文 と UPDATE 文 の 実行 可否 を 示し た もの です 
31	対象 は PRODUCTS 表 で PROD _ ID 列 に 主 キー 制約 を 設定 し て い ます 
31	PRODUCTS 表 に は データ が 3 件 格納 済み です 
31	この とき SQL 文 について 実行 可能 か どう か を 見 て いき ます 
31	INSERT 文 は PROD _ ID が 104 と 既存 の 値 と 重複 し て い ない ため 実行 でき ます 
31	同様 に PROD _ ID を 101 から 201 に 変更 する UPDATE 文 も 重複 し た 値 で は ない ので 実行 でき ます 
31	INSERT 文 は PROD _ ID が 102 と 既存 の データ と 重複 し て いる ため 実行 は 失敗 し ます 
31	また INSERT 文 も PROD _ ID が NULL の データ を 格納 しよ う と し て いる ので 失敗 し ます 
31	UPDATE 文 も PROD _ ID を 102 から 103 へ と 重複 し て いる 値 へ 変更 しよ う と し て いる ので 失敗 し ます 
31	一意 性 制約 
31	一意 性 （ ユニーク ） 制約 は 指定 し た 列 の 値 が 既存 の 値 と 重複 する データ の 格納 を 禁止 し ます 
31	主 キー 制約 と は 異なり NULL の 格納 について は 禁止 し ませ ん 
31	すでに NULL の データ が 格納 さ れ て おり そこ へ NULL を もつ データ を 追加 する 場合 も 制約 の 違反 に は なり ませ ん 
31	また 一意 性 制約 は 一つ の 表 に 複数 定義 する こと も でき ます 
31	一意 性 制約 の 書式 を 図表 3 に 例 を 図表 4 に 示し ます 
31	例 は CUST _ ID 列 と PROD _ ID 列 の 組 に対して 一意 性 制約 を 設定 し て いる ORDERS 表 へ の データ 格納 の 可否 を 示し て い ます 
31	この 例 で は 二つ の 列 に対して 一つ の 制約 を 付与 し て いる ため 値 が 重複 し て いる か どう か は 列 と 列 の 値 の 組み合わせ に対して 確認 さ れ ます 
31	INSERT 文 は CUST _ ID と PROD _ ID 列 の 値 の 組 が （ 13 104 ） と すでに 格納 さ れ て いる データ と は 重複 し て い ない ため 実行 可能 です 
31	INSERT 文 は NULL が 入っ て いる ため 成功 し ます 
31	一意 性 制約 で は NULL の 重複 も 許可 さ れる ため 格納 する データ に NULL が 入っ て いる 時点 で 制約 の 違反 で は なくなり ます 
31	一方 INSERT 文 の 実行 は 値 の 組み合わせ が （ 13 102 ） と 表 に すでに 格納 さ れ て いる データ と 重複 する ため 失敗 し ます 
31	UPDATE 文 も 更新 後 の 値 の 組 が （ 11 102 ） と なり 重複 する ため 失敗 し ます 
31	非 NULL 制約 
31	非 NULL 制約 は 設定 し た 列 に NULL が 格納 さ れる の を 禁止 し ます 
31	非 NULL 制約 の 書式 と 例 を 示し ます 
31	非 NULL 制約 は 単一 の 列 に対して だけ 定義 でき ます 
31	その ため 上段 の よう な 記述 の 仕方 は でき ませ ん 
31	形式 制約 
31	指定 し た 条件 に 合わ ない データ の 格納 を 禁止 する 制約 が 形式 （ チェック ） 制約 です 
32	制約 2 
32	参照 制約 
32	参照 制約 は リレーショナル モデル の 関連 の 実装 で 格納 する 値 が 関連 の ある 列 に も 存在 する こと を 保証 し ます 
32	参照 制約 の イメージ を 示し ます 本 テキスト で は 参照 制約 を 設定 する 表 の こと を 子 表 参照 先 の 表 を 親 表 と 呼び ます 
32	ORDERS 表 （ 子 表 ） の CUST _ ID 列 から CUSTOMERS 表 （ 親 表 ） の CUST _ ID 列 に 参照 制約 を 設定 し た もの です 
32	これ により ORDERS 表 （ 子 表 ） の CUST _ ID 列 に 格納 できる 値 を CUSTOMERS 表 （ 親 表 ） の CUST _ ID 列 登録 済み の 111213 に 限定 する こと が でき ます 
32	なお 参照 制約 を 設定 し て いる 子 表 の 列 に NULL を 格納 する 場合 親 表 の 列 に NULL が なく て も 格納 する こと が でき ます 
32	NULL の 格納 を 防ぐ に は NOT NULL 制約 もしくは 主 キー 制約 を 設定 し ます 
32	また 親 表 と 子 表 に 新規 の データ を 挿入 する 際 は 親 表 へ 先 に データ を 格納 し その後 子 表 に 関連 する データ を 挿入 する 必要 が あり ます 
32	参照 制約 の 設定 は 子 表 を 作成 する とき に 行い ます 
32	参照 制約 の 書式 を 示し ます 
32	参照 制約 は 同じ 表 内 の 列 間 で 設定 する こと も でき ます 
32	なお 親 表 の 対象 列 に は あらかじめ 主 キー 制約 か 一意 性 制約 が 設定 さ れ て いる こと が 必要 です 
32	また 子 表 作成 時 親 表 の 対象 列 に対する REFERENCES 権限 が 必要 に なり ます 
32	参照 制約 の 例 を 示し ます 
32	例 は CUSTOMERS 表 を 親 表 と する ORDERS 表 （ 子 表 ） へ の データ の 格納 可否 を 示し て い ます 
32	親 表 と 子 表 に は データ が 格納 さ れ て い ます 
32	この とき INSERT 文 の 実行 可否 を 見 て いき ます 
32	子 表 の CUST _ ID に 11 を 挿入 する INSERT 文 です 
32	親 表 で の CUST _ ID に 11 という 値 が ある ため INSERT 文 の 実行 は 成功 し ます 
32	INSERT 文 は 子 表 の CUST _ ID に NULL を 挿入 しよ う と し て い ます 
32	参照 制約 で は 親 表 に NULL が なく て も 子 表 へ の NULL の 格納 は 許可 する ため INSERT 文 の 実行 も 成功 し ます 
32	一方 INSERT 文 は CUST _ ID に 14 を 挿入 しよ う と し て い ます 
32	親 表 の CUST _ ID 列 に は 14 という 値 は 格納 さ れ て い ない ため INSERT 文 の 実行 は 失敗 し ます 
32	削除 規則 と 更新 規則 
32	参照 制約 で は 子 表 が 参照 し て いる 親 表 の データ が 削除 または 更新 さ れ た 場合 の 動作 を 選択 でき この 動作 を 削除 規則 更新 規則 で 指定 し ます 
32	削除 規則 と 更新 規則 の 書式 を 図表 4 に 動作 イメージ を 示し ます 
32	表明 
32	表明 を 使う と SELECT 文 を 使用 し た 複雑 な 制限 を 設定 でき ます 
32	表明 は CREATE ASSERTION 文 で 作成 し ます 表明 の 書式 と 例 を 示し ます 
33	索引 
33	B + TREE 索引 
33	B + TREE 索引 は ツリー 状 の 構造 です 通常 単に 索引 と いう と この B + TREE 索引 を 指し ます 
33	索引 （ インデックス ） は 検索 性能 を 向上 さ せる ため の もの です 
33	DBMS によって は 主 キー 制約 や 一意 性 制約 作成 時 に 暗黙 的 に 索引 （ B + TREE 索引 ） を 作成 する もの も あり ます 
33	索引 に は B + TREE 索引 や ビット マップ 索引 など が あり ます 
33	VEGETABLES 表 の ID 列 に対する B + TREE 索引 の イメージ を 示し ます 
33	B + TREE 索引 の 構造 は 一つ の ルート ノード から 二つ 以上 の 分岐 を 行い ルート ノード から リーフ ノード 真 深 さ は すべて 同一 と なり ます 
33	また リーフ ノード から 次 の リーフ ノード へ の ポインタ を もち ます 
33	リーフ ノード は 表 の 行 データ へ の ポインタ を もち ます 
33	B + TREE 索引 を 使用 し た データ の 読み取り 方法 
33	次に 同じく 図表 1 で ID が 160 の データ を 取得 する まで の 表 データ を 直接 読み込ん だ 場合 と B + TREE 索引 を 使用 し た 場合 の 違い を 見 て いき ます 
33	ここ で ID 160 は VEGETABLES 表 内 に 一つ だけ 格納 さ れ て いる と し ます 
33	表 の データ を 直接 読み込ん で VEGETABLES 表 の ID 列 が 160 の データ に アクセス する に は 表 の データ 内 の どこ に 160 が 格納 さ れ て いる か 分から ない ため すべ の ブロック を 読み取る 必要 が あり ます 
33	したがって 読み取る データ 量 は 200 ブロック と なり ます 
33	一方 索引 を 使用 する 場合 は 索引 の ルートノードインターナルノードリーフノード の 各 1 ブロック を 読み込み ます 
33	その後 リーフ ノード の ポインタ を 使い 表 の データ 中 ID 列 が 160 の 行 データ が 格納 さ れ て いる 1 ブロック だけ を 読み取り ます 
33	この ため 索引 を 使用 し た 場合 読み取る データ 量 は 4 ブロック だけ で 済み ます 
33	ブロック は DBMS における データ の 格納 単位 で 詳細 は テーマ 039 で 学習 し ます 
33	B + TREE 索引 の 検索 性能 
33	この よう に B + TREE 索引 を 使用 する と 対象 の データ を 取得 する の に 必要 な 読み取り 量 を 削減 でき 検索 を 高速 に でき ます 
33	なお B + TREE 索引 は WHERE ID = 3 の よう な 検索 （ 完全 一致 検索 ） だけ で なく WHERE ID > 100 の よう な 範囲 を 指定 し た 検索 （ 範囲 検索 ） で も 使用 する こと が でき ます 
33	ただし データ を 集計 する よう な 処理 で は すべて の 表 の ブロック を 読み込む 必要 が ある ため B + TREE 索引 による 検索 速度 の 向上 は 見込め ませ ん 
33	VEGETABLES 表 から ID 160 を 取り出す よう な 特定 の データ 取得 時 の データ 量 と 検索 に 必要 な 平均 時間 （ 読み取り ブロック 平均 数 ） の 関連 を グラフ に 示し ます 
33	グラフ 中表 の データ を 直接 読み込む 場合 は データ 量 と 検索 に 必要 な 時間 は 正比例 し ます 
33	一方 B + TREE 索引 を 使用 し た 場合 は データ 量 に対して 必要 な 時間 は 表 の とき と 比べ 緩やか に 増加 し ます 
33	また データ 量 が 同じ とき B + TREE 索引 を 作成 する データ が 以下 の 条件 を 満たす ほど 検索 性能 は 向上 し ます 
33	データ の 種類 が 多い 
33	データ の 種類 が 多い と は 列 に 格納 さ れる 値 の 種類 が 多い もの を いい ます 
33	例えば 社員 番号 は 社員 の 数 だけ 一意 な 値 を もち ます この よう な もの を データ の 種類 が 多い と いい ます 
33	一方 性別 は とり うる 値 が 男女 その他 の よう に 数種類 しか ない ため データ の 種類 が 少ない と いい ます 
33	データ の 偏り が 小さい 
33	例えば 値 1 2 3 が 出現 する 回数 が それぞれ 1 が 50 回 2 が 150 回 3 が 1000 回 より 1 が 400 回 2 が 400 回 3 が 400 回 の 方 が データ の 偏り が 小さい と いい ます 
33	索引 の 考慮 事項 
33	索引 に は 以下 の 考慮 事項 が あり ます 
33	データ の 更新 性能 の 低下 ： 索引 を 付け た 列 の データ を 更新 する とき は 表 の データ と 一緒 に 索引 も 更新 する 必要 が ある ため 
33	索引 用 の 領域 が 追加 で 必要 ： 索引 も 列 の データ と ポインタ を 保存 する ため 
33	この ため 実行 する 検索 に 合わせ て 適切 な 索引 だけ を 作成 する こと が 重要 です 
33	なお 索引 を 作成 する SQL は 標準 化 さ れ て い ない ため DBMS に 依存 し ます 
33	ビット マップ 索引 
33	ビット マップ 索引 は 対象 と する 列 の 値 ごと の ビット マップ を もっ た 索引 です 
33	ビット マップ 索引 は 以下 の 特徴 が あり ます 
33	データ 量 が 多く データ の 種類 が 少ない 表 の 列 に 有効 
33	検索 条件 に 複数 の 列 を AND や OR で 組み合わせ た 検索 が 高速 
33	ビット マップ 索引 の 構造 を 示し ます 
33	CLOTHES 表 の 「 COLOR 」 列 と 「 SIZE 」 列 に ビット マップ 索引 を 作成 し て い ます 
33	ビット マップ 索引 は 列 の 値 ごと に ビット マップ を 作成 し ます 
33	具体 的 に は 「 COLOR 」 列 の 「 赤 」 「 青 」 と 「 SIZE 」 列 の 値 「 S 」 「 L 」 「 M 」 の ビット マップ が 作成 さ れ ます 
33	また SELECT 文 の よう に 検索 条件 の AND は ビット マップ の 値 で AND ビット 演算 を 行い 取得 対象 行 を 特定 し ます 
33	図表 3 で は 検索 条件 に COLOR = ‘ 青 ’ AND SIZE = ‘ L ’ と し て いる ので 「 青 」 の ビット マップ と 「 L 」 の ビット マップ で AND ビット 演算 を 行い ます 
33	その 結果 ビット が 1 と なっ て いる （ ビット が 立っ て いる ） 行 が 検索 条件 に 一致 する もの と なり ます 
33	ビット マップ 索引 は AND や OR を 使用 し た 検索 を ビット 演算 によって 高速 に 行え ます 
33	その他 の 索引 
33	索引 に は 索引 作成 列 の 値 を ハッシュ 値 として 保持 し て おく ハッシュ 索引 も あり ます 
33	ハッシュ 索引 に は 以下 の 特徴 が あり ます 
33	一般 的 に B + TREE 索引 と 比べ た 場合 性能 が よい 
33	検索 条件 を 特定 の 値 と する 完全 一致 検索 で だけ 使用 でき 範囲 を 指定 し た 範囲 検索 で は 使用 でき ない 
33	また 通常 B + TREE 索引 で は 索引 を 作成 する 表 の データ の 並び 順 は 索引 に対して ランダム です 
33	これ に対して 表 データ を 索引 と 同じ 並び 順 に する クラスタ 索引 も 存在 し ます 
33	通常 の 索引 （ 非 クラスタ 索引 ） で は 範囲 検索 の 結果 など 一連 の 表 データ を 読み込む 際 ランダム に ブロック を 取得 する 必要 が あり ます 
33	一方 クラスタ 索引 で は 一連 の 表 データ を 連続 し て （ シーケンシャル に ） 読み取る こと が できる ため 検索 性能 を 通常 の 索引 より も 向上 さ せる こと が でき ます 
34	トランザクション の 概念 
34	「 太郎 が 自分 の 預金 口座 から 花子 の 口座 に 1 万 円 入金 する 」 こと を 簡略 化 し て 図表 1 に 示す 手順 で 考え て み ましょ う 
34	太郎 の 口座 を 照会 し 残高 を 読み取り 
34	読み取っ た 残高 から 1 万 円 減算 し た 金額 を 太郎 の 口座 に 書き込み 
34	花子 の 口座 を 照会 し 残高 を 読み取り 
34	読み取っ た 残高 に 1 万 円 加算 し て 花子 の 口座 に 書き込み 
34	これら の 操作 は 一連 の 処理 として 扱っ て はじめて 意味 が あり ます 
34	途中 で いずれ か の 操作 が 失敗 し たら 処理 全体 を 取り消す 必要 が あり ます 
34	トランザクション と は これら 一連 の 操作 を ひとつ の 処理 として 扱う ため の 概念 です 
34	すべて が 成功 し て はじめて 意味 を もつ 一連 の 処理 の こと を トランザクション と 呼び ます 
34	また 一連 の 処理 つまり トランザクション を 確定 する 操作 の こと を コミット 処理 取り消す 処理 の こと を ロール バック 処理 と 呼び ます 
34	ACID 
34	トランザクション は ACID と 呼ば れる 四つ の 特性 を 満足 し なけれ ば なり ませ ん 
34	原子 性 （ Atomicity ） 
34	一連 の 処理 は すべて 行わ れる か まったく 行わ れ ない か いずれ か の 観点 から 実行 さ れ なけれ ば なり ませ ん 
34	つまり 中途半端 な 状態 で 実行 を 終了 さ せ て は なら ない という こと です 
34	システム に なんらかの 障害 が 発生 し た 場合 に も 障害 から の 復旧 時 に は 太郎 の 口座 は 1 万 円 が 減額 さ れる 前 の 状態 に 戻す 必要 が あり ます 
34	一貫 性 （ Consistency ） 
34	どの よう な 場合 において も データ の 整合 性 （ 一貫 性 ） を 保た なけれ ば なら ない という こと です 
34	あらかじめ 定め た 制約 に 違反 する データ が 発生 する こと を 許し て は なり ませ ん 
34	口座 残高 が 0 円 以下 に なる 場合 に は 口座 から の 引き出し を 許さ ない という 業務 上 の 制約 を 設定 し た 場合 処理 そのもの を 異常 終了 さ せ なけれ ば なり ませ ん 
34	独立 性 （ Isolation ） 
34	複数 同時に 実行 さ せ た 場合 に も 互い の 処理 が 影響 を 与え ず あたかも 逐次 実行 さ れ た か の よう な 結果 を 得 なけれ ば なら ない という こと です 
34	母親 が 太郎 の 口座 に 入金 する 処理 を 先 に 実行 し て しまっ たら どう なる でしょ う か 
34	太郎 の 預金 データ は 実体 と 矛盾 し た もの に なる かも しれ ませ ん 
34	独立 性 を 満足 する に は この よう な 処理 を 許し て は なり ませ ん 
34	耐久 性 （ Durability ） 
34	実行 完了 後 に なんらかの 障害 が 発生 し た として も いったん コミット し た データ は 失っ て は なら ない という こと です 
34	一連 の 処理 を 正常 終了 し た が その後 システム に 障害 が 発生 し た 
34	障害 発生 時点 で は 太郎 の 更新 さ れ た 口座 残高 は まだ メモリー 上 に あり まだ ディスク に 書き込ま れ て い なかっ た ため 更新 データ を 損失 し た 
34	耐久 性 を 満足 する に は この よう な 状況 を 発生 さ せ て は なり ませ ん 
34	ACID 特性 を アプリケーション で 実現 する こと も 可能 です が その 実装 は 気 の 遠く なる ほど 煩雑 な もの と なり ます 
34	また ACID 特性 を 厳密 に 実装 する と 実用 上 特に 性能 面 で の 劣化 が 懸念 さ れ ます 
34	したがって 通常 トランザクション 制御 は データ を 管理 する DBMS に 任せ ます が データベース スペシャリスト は DBMS が どの よう に また どの よう な レベル で ACID を 実現 し て いる か を 理解 し て おく 必要 が あり ます 
34	トランザクション 制御 
34	DBMS で は トランザクション の 開始 は 暗黙 的 に 行わ れ ます 
34	そして SQL の COMMIT 文 または ROLLBACK 文 まで が トランザクション の 単位 と なり ます 
34	処理 で は 太郎 の 預金 口座 から 10000 円 を 減算 し 花子 の 預金 口座 に 10000 円 加算 する こと を SQL で 実行 し て い ます 
34	なお コミット 時点 で の 太郎 の 口座 番号 は 1112 預金 額 は 40000 円 花子 の 口座 番号 は 1129 預金 額 は 20000 円 と し て い ます 
34	SQL 処理 内容 
34	SELECT 太郎 の 口座 番号 1112 を 指定 し て 太郎 の 預金 額 が 40000 円 で ある こと を 確認 
34	UPDATE 太郎 の 口座 番号 1112 を 指定 し て 太郎 の 預金 額 を 10000 円 減算 
34	SELECT 花子 の 口座 番号 1129 を 指定 し て 花子 の 預金 額 が 20000 円 で ある こと を 確認 
34	UPDATE 花子 の 口座 番号 1129 を 指定 し て 花子 の 預金 額 を 10000 円 加算 
34	COMMIT SQL 処理 を コミット 
34	処理 で は COMMIT 文 発行 により 一連 の SQL 実行 内容 は 確定 し 太郎 の 預金 額 は 30000 円 花子 の 預金 額 も 30000 円 に 更新 さ れ ます 
34	また COMMIT 文 の かわり に ROLLBACK 文 を 発行 すれ ば 処理 を 取り消す こと が でき ます 
34	この 場合 ロール バック 処理 を 完了 する と 太郎 の 預金 額 は 元 の 40000 円 花子 の 預金 額 も 元 の 20000 円 の まま と なり ます 
34	なお この 例 で は 明示 的 に COMMIT 文 を 発行 し て い ます が 1 SQL ＝ 1 トランザクション で 実行 する こと を 既定 （ デフォルト ） の 動作 と し て いる DBMS も あり ます 
34	この 場合 トランザクション は SQL 発行 ごと に 暗黙 的 に 開始 し 処理 が 成功 する と 暗黙 的 に コミット 処理 が 行わ れ ます 
34	処理 に 失敗 する と 暗黙 的 な ロール バック 処理 が 行わ れ ます 
34	当然 この デフォルト の 暗黙 動作 を 解除 し て ユーザー が COMMIT 文 ROLLBACK 文 を 発行 する モード に 移行 する オプション も 提供 さ れ て い ます 
34	また 明示 的 に ユーザー が 開始 を 宣言 する ため に START TRANSACTION 文 や BEGIN TRANSACION 文 を 使用 できる もの も あり ます 
34	なかには DDL 実行 は 暗黙 コミット が かかり DML 実行 について は 明示 的 な COMMIT 文 の 入力 を 必要 と する もの も あり ます 
34	この よう に 実装 は DBMS ごと に 特徴 が ある ので 注意 が 必要 です 
35	同時 実行 制御 
35	直列 化 可能 性 
35	ACID の 独立 性 ( Isolation ) を 実現 する ため に は 複数 の トランザクション を 同時に 並列 実行 さ せ た 場合 に も それぞれ を 個々 に 実行 し た 場合 と 同じ 結果 を 得る こと が 必要 です 
35	トランザクション 1 トランザクション 2 が ともに データ A データ B に対して なんらかの 処理 を 行う と し ます 
35	この 二つ の トランザクション を 示す よう に 並列 実行 さ せ た 場合 の 結果 は 示す よう に トランザクション 1 → トランザクション 2 の 順 に 直列 に 実行 さ せ た 場合 または トランザクション 2 → トランザクション 1 の 順 に 直列 に 実行 さ せ た 場合 と 同じ で なけれ ば なり ませ ん 
35	並列 実行 し た 結果 が 直列 実行 し た 結果 と 等しく なる よう な トランザクション 実行 スケジュール の こと を 直列 化 可能 スケジュール （ Serializable Schedule ） と いい ます 
35	DBMS は 直列 化 の ため に なんらかの 同時 実行 制御 の 仕組み を 実装 する 必要 が あり ます 
35	同時 実行 制御 の 方式 
35	同時 実行 制御 方式 の 代表 的 な もの として 時刻 印 方式 楽観 的 方式 ロック 方式 が あり ます 
35	時刻 印 方式 
35	データ 参照 時刻 更新 時刻 を 競合 判定 の ため の データ として 記録 し 直列 化 を 妨げる よう な 競合 が 発生 し た か どう か を トランザクション 開始 時刻 と 比較 し て 判定 する 方式 です 
35	データ へ の アクセス が 競合 し た と 判定 し た 場合 に は 処理 を ロール バック し ます 
35	楽観 的 方式 
35	時刻 印 方式 の 考え方 を さらに 発展 さ せ た もの です 
35	トランザクション 間 に 直列 化 を 妨げる よう な 競合 は ない もの と 楽観 的 に とらえ て 実行 し 実際 に 競合 が 発生 し た か どう か は データ 書き込み 時 に 確認 する 方式 です 
35	更新 予定 の データ を いったん 読み取っ て おき 更新 作業 の 直前 に 変更 さ れ て い ない か どう か を 確認 変更 さ れ て い たら 処理 を ロール バック し ます 
35	ロック 方式 
35	DBMS で 一般 的 に 採用 さ れ て いる 方式 です 
35	同じ データ へ の アクセス が 複数 の トランザクション から 行わ れる 場合 先 に データ を ロック し た トランザクション が 後 から 来 た トランザクション を 待た せる という 考え方 に 基づい て い ます 
35	この 方式 を 用いれ ば 直列 化 を 比較的 容易 に 実現 可能 です 
35	また この 方式 は 楽観 的 方式 と 対比 し て 悲観 的 方式 と も 呼ば れ ます 
35	以後 ロック 方式 について 以下 の シナリオ を 基 に 学習 を 進め ます 
35	最初 に 同時 実行 制御 が 行わ れ ない 環境 で この 二つ の トランザクション が 次 の 図表 3 の よう に 処理 さ れる と どう なる か を 考え ましょ う 
35	まず 太郎 の トランザクション が 太郎 の 預金 額 を 読み取り ます 
35	この 時点 で の 読み取り 額 は 30000 円 です 
35	次に 母親 の トランザクション が 太郎 の 預金 額 を 読み取り ます 
35	この 時点 で の 読み取り 額 も 同じく 30000 円 です 
35	続け て 母親 の トランザクション が 太郎 の トランザクション より 先 に 読み取り 額 30000 円 に 入金 額 10000 円 を 加え た 40000 円 を 太郎 の 預金 額 として 書き込み ます 
35	その後 太郎 の トランザクション が 読み取り 額 30000 円 から 引出 額 10000 円 を 引い た 20000 円 を 書き込み ます 
35	この 時点 で 母親 の トランザクション による 更新 データ は 太郎 の トランザクション により 上書き さ れ て しまい ます 
35	結局 太郎 の 預金 残高 は 本来 は 自分 の 引出 額 \ 10000 を 減算 母親 から の 入金 \ 10000 を 加算 し て もと の 30000 円 で ある べき ところ が 20000 円 に なっ て しまい ます 
35	この よう に 正常 に 実行 さ れ た 最後 の データ 更新 が それ まで の 更新 を 上書き し て しまう 現象 を ロスト アップデート （ Lost Update ） または 更新 喪失 と いい ます この 現象 は 複数 の トランザクション が 同じ データ を 取り出し て 変更 書き込ん だ 場合 に 発生 し ます 
35	次に この 二つ の トランザクション 処理 を ロック により 排他 制御 する こと を 考え ます 
35	ロック による 排他 制御 は データ を アクセス する 際 に 対象 データ に ロック を かけ 処理 が 終了 し たら ロック を 解除 する 方式 です 
35	ロック が かかっ て いる 間 は 他 の トランザクション から の アクセス は 待ち （ ロック 待ち ） と なり ます 
35	データ を ロック する 操作 を LOCK 操作 ロック を 解除 する 操作 を UNLOCK 操作 と いい ます 
35	この 方式 に 従え ば ある トランザクション が データ を 読み取っ て 処理 を し て 書き込み を 完了 する まで データ へ の アクセス 権 は ロック を かけ て いる トランザクション だけ が もつ こと に なり ます 
35	太郎 の トランザクション が 預金 データ を 読み取る 前 に ロック し て しまえ ば 10000 円 を 減算 し て 残高 を 書き込み ロック 解除 する まで 母親 の トランザクション は ロック 待ち と なり 処理 を 進める こと は でき ませ ん 
35	したがって 太郎 の 更新 処理 が 母親 の 更新 処理 を 上書き し て データ が 不 整合 に なっ て しまう こと を 防止 する こと が でき ます 
36	ロック による 排他 制御 
36	ロック の モード 
36	ロック により 他 の トランザクション から の すべて の 操作 が ロック 待ち 状態 に なる と トランザクション 処理 全体 の 実行 性能 は 低下 し て しまい ます 
36	そこで 現実 活用 を 考慮 する と ロック に は 他 の トランザクション から の データ 読み取り アクセス を 許可 する 「 共有 ロック 」 と 読み取り アクセス も 許さ ない 「 占有 ロック 」 の 2 種類 の モード が 必要 と なり ます 
36	実際 の DBMS で 提供 し て いる ロック は これら 以外 に も 多数 の モード が 存在 し その 種類 も DBMS ごと に 異なり ます が これら 2 種類 に 大別 でき ます 
36	また 占有 ロック を 「 専有 ロック 」 「 排他 ロック 」 と 称する 場合 も あり ます が 意味 的 に は 同じ です 
36	読み込ん だ データ を 処理 中 に その データ が 他 の トランザクション から 更新 さ れる こと を 防止 する 場合 に は 共有 ロック を かけ て 処理 を 行い ます 
36	データ の 書き込み 操作 を 行う 場合 に は 占有 ロック を かけ て 処理 を 行い ます 
36	共有 ロック と 占有 ロック の 競合 関係 
36	共有 ロック と 占有 ロック に は 競合 関係 が あり ます 
36	「 先行 」 は ある データ に対して 他 の トランザクション に 先行 し て ロック を かけ て いる トランザクション を 意味 し ます 
36	「 要求 」 は 同じ データ に対して 後 から ロック を かけ に いく トランザクション を 意味 し ます 
36	○ 印 の もの は 「 先行 」 と 「 要求 」 に ロック の 共存 が 許さ れ × 印 の もの は 共存 が 許さ れ ない という こと を 意味 し ます 
36	さらに 以下 の ロック 操作 シナリオ で これら の 競合 関係 を 習得 し て おき ましょ う 
36	先行 トランザクション T 1 が データ D に 共有 ロック を かけ て いる 場合 
36	あと から T 2 が D に 共有 ロック を かけ に いっ て も 待ち に は なり ませ ん 
36	しかし 後 から T 2 が D に 占有 ロック を かけ に いく と T 1 が 共有 ロック を 解除 する まで T 2 は 待ち と なり ます 
36	先行 トランザクション T 1 が データ D に 占有 ロック を かけ て いる 場合 
36	あと から T 2 が D に 占有 ロック または 共有 ロック を かけ に いく と （ 要求 に いく と ） いずれ の 場合 も T 2 は T 1 が 占有 ロック を 解除 する まで ロック 待ち と なり ます T 1 が 占有 ロック を 解除 し た 時点 で T 2 は D に ロック を かける こと が でき ます 
36	ロック の 粒 度 
36	ロック の 対象 範囲 は 基本 的 に 行 表 の 単位 です が ブロック （ ページ ） という 記憶 単位 で かかる もの も あり ます 
36	なお ブロック ( ページ ） は 行 データ を 格納 する ため の 物理 記憶 単位 です 
36	ロック の 粒 度 と は ロック の 対象 範囲 の こと です 
36	表 → ブロック （ ページ ） → 行 の 順 に 粒 度 は 小さく なっ て いき ます 
36	一般 的 に トランザクション を 同時に 複数 実行 し た 場合 ロック の 粒 度 は 小さい ほど 並行 性能 は 向上 し ます 
36	これ は ロック 待ち や デッドロック の 発生 確率 が 少なく なる ため です 
36	しかし 一つ の トランザクション 内 で 大量 の データ 更新 を 行う 場合 ロック の 粒 度 が 小さい と DBMS の 処理 負荷 が 大きく なり CPU の 負荷 は 増し ます 
36	なお ロック の 操作 は DBMS が 行い ます が ユーザ が 意図 的 に 表 の 単位 で ロック 操作 する ため の LOCK TABLE 文行 の 単位 で ロック する ため の SELECT FOR UPDATE 文 を 提供 し て いる もの も あり ます 
36	また ロック 待ち が 発生 し た 場合 待た ず に エラー を 返す よう な オプション を 提供 し て いる もの も あり ます 
36	2 相 ロッキング プロトコル 
36	直列 化 可能 性 を 保証 する ため の 有名 な 規約 として 「 2 相 ロッキング プロトコル 」 が あり ます 
36	これ は トランザクション 内 で の ロック 操作 に関する 規約 です 
36	この 規約 に したがえ ば トランザクション 内 で の ロック の 操作 を ロック を かけ て いく 操作 で 構成 さ れる 成長 相 と ロック を 解除 し て いく 縮退 相 の 2 相 に 分離 する こと に なり ます 
36	この ため この 規約 に 従え ば ロック を 解除 し た 後 に 新た な ロック を かける 操作 は 許さ れ ませ ん 
36	したがって すべて の トランザクション が この 規約 に したがっ て ロック 操作 を 行え ば 直列 化 が 可能 と なり ます 
36	しかし この 規約 に したがっ た ロック 操作 を 行わ ない トランザクション が ひとつ でも 存在 する と 直列 化 は 保証 でき なく なり ます 
36	また ロック を 保持 する 期間 も 長く なる ので デッドロック を 引き起こし やすく なり ます 
37	デッドロック 
37	デッドロック と は 
37	ロック による 排他 制御 で は デッドロック という 現象 が 発生 する 場合 が あり ます 
37	デッドロック と は 複数 の トランザクション が ロック を かけあっ て その 解除 を 待ち あう 状態 です 
37	それでは デッドロック の 現象 を 学習 し て いき ましょ う 
37	トランザクション T 1 T 2 は データ D 1 D 2 に それぞれ 以下 の 順番 で ロック を かけ ます 
37	まず T 1 が D 1 に 占有 ロック を かけ ます 
37	次に T 2 が D 2 に 占有 ロック を かけ ます 
37	続け て T 2 は D 1 に 占有 ロック を かけ に いき ます 
37	しかし D 1 に は すでに T 1 が 占有 ロック を かけ て いる ため この 時点 で T 2 は ロック 待ち と なり T 2 は T 1 が D 1 の ロック を 解除 する まで 待ち 続け ます 
37	T 1 が D 2 に 占有 ロック を かけ に いき ます 
37	しかし D 2 に は T 2 が 占有 ロック を かけ て いる ため この 時点 で T 1 も ロック 待ち と なり T 1 は T 2 が D 2 の ロック を 解除 する まで 待ち 続け ます 
37	結局 T 1 も T 2 も お互い の ロック 解除 を 待ち合わせる こと に なり 双方 の 処理 は 何 も 進ま なく なり ます 
37	この 現象 を 「 デッドロック 」 と 呼び ます 
37	待ち グラフ 
37	デッドロック の 検出 に は 「 待ち グラフ 」 の 活用 が 有効 です 
37	デッドロック を 待ち グラフ で 表現 し た もの を 示し ます 
37	トランザクション T 1 T 2 を サークル （ 円 ) で 表現 し て い ます 
37	トランザクション が ロック 待ち に なっ た 時点 で 以下 の よう に サークル 間 に 矢印 を 引い て いき ます 
37	T 2 は T 1 の ロック 解除 を 待つ 
37	T 2 から T 2 を ロック 待ち に し た T 1 に対して 矢印 を 引き ます 
37	T 1 は T 2 の ロック 解除 を 待つ 
37	T 1 から T 1 を ロック 待ち に し た T 2 に対して 矢印 を 引き ます 
37	矢印 が 循環 し て サーキット （ 巡回 閉路 ） が 完成 し たら デッドロック が 発生 し た と 判定 し ます 
37	デッドロック は 二つ の トランザクション 間 のみ で 発生 する わけ で は あり ませ ん 
37	引き続き 三つ の トランザクション T 1 T 2 T 3 が データ D 1 D 2 D 3 に アクセス する 場合 デッドロック が 発生 する こと を 待ち グラフ を 利用 し て 確認 し て み ましょ う 
37	まず 示す よう に T 1 が D 1 に T 2 が D 2 に T 3 が D 3 に それぞれ 占有 ロック を かけ ます 
37	この 状態 で は どの トランザクション に も ロック 待ち は 発生 し ない ので 待ち グラフ に 矢印 は 引き ませ ん 
37	次に 示す よう に T 1 が D 2 に 占有 ロック を かけ に いく と D 2 は すでに T 2 により ロック さ れ て いる ため T 1 は ロック 待ち に なり ます 
37	ここ で 待ち グラフ で T 1 を ロック 待ち さ せ た T 2 へ T 1 から 矢印 を 引き ます 
37	続け て 示す よう に T 2 が D 3 に 占有 ロック を かけ に いく と D 3 は すでに T 3 により ロック さ れ て いる ため T 2 は ロック 待ち に なり ます 
37	ここ で 待ち グラフ で T 2 を ロック 待ち さ せ た T 3 へ T 2 から 矢印 を 引き ます 
37	最後 に 示す よう に T 3 が D 1 に 占有 ロック を かけ に いく と D 1 は すでに T 1 により ロック さ れ て いる ため T 3 は ロック 待ち に なり ます 
37	ここ で T 1 ～ T 3 は すべて ロック 待ち と なり デッドロック 状態 と なり ます 待ち グラフ で は T 3 を ロック 待ち さ せ た T 1 へ T 3 から 矢印 を 引き ます 
37	サーキット が できあがり デッドロック の 発生 を 判定 でき ます 
37	待ち グラフ は DBMS による デッドロック 検知 に 使用 さ れ ます 
37	デッドロック を 検知 し た DBMS は サーキット 内 の いずれ か の トランザクション 処理 を ロール バック し エラー 通知 を アプリケーション に 返し ます 
37	トランザクション 処理 の ロールバック 方法 は DBMS によって 実装 が 異なり ます 
37	デッドロック の 引き金 と なっ た いずれ か の トランザクション 全体 を ロール バック する もの も あれ ば ロールバック の 対象 は トランザクション 内 の 最後 の SQL 文 に 限定 さ れる もの も あり ます 
37	いずれ の 場合 も デッドロック による ロールバック を DBMS から 通知 さ れ た アプリケーション は 再 実行 など の エラー 処理 を 行う 必要 が あり ます 
37	デッドロック を 抑制 する 方法 
37	デッドロック を 抑制 する ため の 方法 として は 「 ロック の 粒 度 を 小さく する 」 など も 考え られ ます が 最も 効果 的 な 方法 は データ に ロック を かけ て いく 順番 つまり データ 更新 順 を 規則 だ て る こと です 
37	デッドロック 例 で は トランザクション T 1 は D 1 → D 2 の 順 トランザクション T 2 は D 2 → D 1 の 順 に 占有 ロック を かけ に いっ て デッドロック が 発生 し まし た 
37	ここ で データ 更新 は 必ず D 1 → D 2 の 順 に 行う という 規則 を 設け たら どう でしょ う か 
37	示す よう に ロック 待ち は 発生 し ます が デッドロック の 発生 は 抑制 でき ます 
37	なお 時刻 印 方式 楽観 的 方式 は そもそも ロック を 使用 し ない 同時 実行 制御 方式 で ある ため デッドロック は 発生 し ませ ん 
38	隔離 性 水準 
38	並列 実行 時 の 問題 点 
38	同時 実行 制御 が うまく 行わ れ ない 場合 に は すでに テーマ 035 で 学習 し た 「 ロスト アップデート （ Lost Update )」 の 他 に も 問題 が 発生 する 可能 性 が あり ます 
38	DBMS が トランザクション の 実行 を 完全 に 直列 スケジュール すれ ば この よう な 問題 は 発生 し ませ ん が 同時 実行 時 の スループット は 著しく 低下 し て しまい ます 
38	この ため 直列 性 を 犠牲 に し て どの 程度 まで これら の 問題 を 許容 できる か という 指標 が 「 隔離 性 水準 」 として 定め られ て い ます 
38	ファントムリード 
38	同 一 トランザクション 内 で 同じ 照会 を 繰り返し た 場合 新た な データ を 読み取る こと を ファントムリード ( Phantom Read ) と 呼び ます 
38	預金 データベース から 預金 額 が 30000 円 以上 の 預金 者 を 確認 する ため の 照会 を 同じ トランザクション 内 で 複数 回 実行 し ます 
38	初回 の 照会 実行 時点 で は 30000 円 以上 の 預金 者 は 太郎 と 花子 だけ でし た 
38	しかし 再度 同じ 照会 を 実行 する と 結果 に は 他 の トランザクション により 預金 額 を 40000 円 に 更新 コミット さ れ た もしくは 初期 入金 額 40000 円 で 新規 口座 登録 さ れ た 次郎 が 追加 さ れ て い ます 
38	結果 行 に 追加 で 返さ れる 次郎 の データ を ファン トム ( 幻 ： Phantom ） と 呼び ます 
38	ノンリピータブルリード 
38	同 一 トランザクション 内 で 同じ データ を 複数 回 読み取っ た 場合 異なる 結果 を 得る 現象 を ノンリピータブルリード ( Non - Repeatable Read ) と 呼び ます 
38	太郎 の 預金 額 は 30000 円 と し ます 太郎 の トランザクション は 処理 の 中 で 太郎 の 預金 額 の 読み取り を 2 回 行い ます 
38	まず 太郎 の トランザクション は 初回 読み取り を 行い 預金 額 30000 円 を 得 ます 次に 母親 の トランザクション が 太郎 の 預金 額 を 読み取り 同様 に 30000 円 を 得 10000 円 を 加算 し た 40000 円 に 書き換え て コミット し ます 
38	この 後 に 太郎 の トランザクション が 2 回 目 の 読み取り を 行う と 1 回 目 と は 異なる 金額 40000 円 を 得る こと に なり ます 
38	ダーティリード 
38	ある トランザクション が まだ コミット し て い ない 更新 データ を 他 の トランザクション から 読み取る こと を ダーティリード ( Dirty Read ) と 呼び ます 
38	太郎 の 預金 額 は 30000 円 と し ます 
38	母親 の トランザクション が 太郎 の 預金 額 を 30000 円 として 読み取り 10000 円 を 加算 し た 40000 円 に 書き換え ます が この 更新 は 未 コミット です 
38	ここ で 太郎 の トランザクション が 未 コミット の 40000 円 を 読み取り ます ( ダーティリード ) 
38	この まま 太郎 の 処理 を 継続 し た 場合 どう なる でしょ う か 
38	太郎 の トランザクション が 10000 円 の 引き出し に 対応 する 処理 を 行う もの で あれ ば 読み取っ た 40000 円 から 10000 円 を 減算 し た 30000 円 を 預金 額 として 書き 戻す こと に なり ます 
38	しかし もし 母親 の 処理 が ロール バック さ れ た 場合 に は 未 コミット の 40000 円 を もと に し た 太郎 の トランザクション 処理 は 預金 データ を 不 整合 な もの に し て しまい ます 
38	隔離 性 水準 
38	DBMS で 同時 実行 制御 を 行う 場合 トランザクション の 独立 性 ( Isolation ) の 度合い を 示す 指標 として 「 隔離 性 水準 ( ISOLATION LEVEL )」 が 制定 さ れ て い ます 
38	隔離 性 水準 は 分離 レベル と も 呼ば れ ます 
38	隔離 性 水準 で は 四つ の 各 水準 で 先ほど 学習 し た ファン トムリードノンリピータブルリードダーティリード を どこ まで 許容 する か という こと が 定め られ て い ます 
38	それぞれ の 水準 で の トランザクション 実行 時 の ふるまい を 以下 に 記載 し ます 
38	SERIALIZABLE 
38	トランザクション の 直列 実行 を 保証 する 実行 レベル です 
38	ファン トムリードノンリピータブルリードダーティリード の いずれ も 発生 し ませ ん 
38	しかし 直列 実行 制御 の ため の オーバー ヘッド により 複数 トランザクション を 同時に 実行 し た 場合 に は スループット は 四つ の 水準 の 中 で は 最も 低く なり ます 
38	REPEATABLE READ 
38	トランザクション 内 で 同じ 照会 を 繰り返し て も 照会 の 結果 行 が 他 の トランザクション によって 変更 さ れる こと は あり ませ ん 
38	しかし 新た な 結果 行 を 得る 場合 が あり ます （ ファントムリード が 発生 ） 
38	READ COMMITTED 
38	他 の トランザクション が 更新 中 の データ を 読み取る こと は あり ませ ん 
38	コミット さ れ た データ しか 読み取ら ない という こと です 
38	しかし ファントムリードノンリピータブルリード は 発生 する 可能 性 が あり ます 
38	READ UNCOMMITTED 
38	他 の トランザクション により コミット さ れる か ロール バック さ れる か わから ない 更新 中 の データ も 読み取り ます 
38	四つ の 水準 の 中 で は 同時 実行 時 の スループット は 最も 高く なり ます が ファン トムリードノンリピータブルリードダーティリード が いずれ も 発生 する 可能 性 が あり ます 
38	隔離 性 水準 の 設定 
38	ユーザ は 要件 に 応じ DBMS に対して トランザクション の 実行 を これら 四つ の 水準 の うち どれ で 行う か を 指定 し ます 複数 の トランザクション を 同時に 実行 さ せ た 時 の スループット は SERIALIZABLE → REPEATBLE READ → READ COMMITTED → READ UNCOMMITTED 
38	の 順 に 向上 し て いき ます 
38	しかし この 順に 並列 実行 時 の 問題 点 も 多く 発生 する こと に なり ます 
38	隔離 性 水準 の 実装 は DBMS に 任さ れ て おり 四つ の 隔離 性 水準 すべて を サポート し て い ない もの も あり ます 
38	また その 設定 方法 も DBMS ごと に 異なり ます が 既定 （ デフォルト ） の 水準 として は READ COMMITTED を 採用 し て いる もの が 多く を 占め て い ます 
38	標準 SQL ( SQL 92 ) で は 隔離 性 水準 の 設定 を 図表 6 で 示す よう に SET TRANSACTION 文 の ISOLATION LEVEL で 四つ の 隔離 性 水準 を 選択 指定 できる よう に なっ て い ます 
38	しかし SET TRANSACTION で は なく 各 DBMS 固有 の 拡張 SQL で 行う もの も あり ます 
38	なお DBMS で は 隔離 性 水準 を どの レベル に 設定 し て も ロスト アップデート は 発生 し ませ ん 
39	記憶 構造 
39	データブロック （ ページデータページ ） 
39	表 の 行 データ や 索引 データ は 図表 1 で 示す よう に データベース 内 に は ブロック （ ページデータページ ） という 物理 単位 で 格納 さ れ ます 
39	ブロック は データベース の 物理 的 な 入出力 の 最小 単位 です 
39	一つ の ブロック は ブロック 内 の データ を 管理 する ため の 情報 を 格納 する ヘッダ 部 更新 データ を 保管 する ため の 予備 領域 行 データ を 格納 する データ 部 で 構成 さ れ て い ます 
39	一つ の ブロック の 容量 （ サイズ ） を ブロック サイズ と 呼び ます 
39	ブロック は 入出力 の 単位 です から 一つ の 行 データ が 複数 ブロック に またがる よう な 状況 が 発生 する と アクセス の パフォーマンス は 低下 し ます 
39	なぜ なら ば ある 特定 の 行 データ を 取得 する ため に 複数 の ブロック を 物理 的 に 読み取る こと が 必要 に なる から です 
39	この ため DBMS によって は 一つ の 行 データ が 複数 の ブロック に またがる こと を 許し て い ない もの も あり ます 
39	したがって 表 の 物理 設計 を 行う 際 に は 格納 する 行 データ の サイズ は ブロック サイズ を 超え ない よう に 考慮 し ます 
39	使用 できる ブロック サイズ は DBMS により 様々 です 固定 サイズ の もの も あれ ば 4096 バイト 8192 バイト など から 選択 可能 な もの も あり ます 
39	データ バッファ 
39	SQL 実行 時 DBMS は ディスク 上 の データベース から データ を 1 ブロック ずつ 物理 メモリー 内 の データ バッファ 領域 に 読み込ん で 処理 を 行い ます 
39	DBMS が ブロック を データ バッファ に 読み込ん で くる 操作 の こと を 物理 読み取り 物理 読み取り が 発生 し た 回数 を 物理 読み取り 回数 と 呼び ます 
39	データ バッファ は データベース の キャッシュ 領域 です 
39	したがって その サイズ は データベース の 性能 に 大きな 影響 を 与え ます 
39	データベース の 全 データ を データ バッファ に キャッシュ し て おく こと が できれ ば アクセス パフォーマンス は 当然 向上 し ます 
39	したがって 物理 メモリー 内 に 大きく とれれ ば それ に 越し た こと は あり ませ ん が 大き すぎる と 他 の 処理 に 悪影響 を 与え ます 
39	場合 によって は DB サーバ が スラッシング 状態 に なっ て しまう こと も あり ます 
39	したがって 物理 設計 段階 で は 初期 サイズ を 決定 し テスト で 調整 し て いく という 方法 が 一般 的 に 行わ れ ます 
39	また サイズ の 自動 調整 機能 を もつ DBMS を 使用 する 場合 は システム テスト の 段階 で 自動 調整 を 活用 し 本番 移行 時 に は 自動 調整 の 結果 で サイズ を 固定 する という 方法 も 行わ れ て い ます 
39	ブロック サイズ を 選択 可能 な DBMS の 場合 どの サイズ に す べき か を 物理 設計 時 に 検討 し ます 
39	データ は ブロック の 単位 で データ バッファ に キャッシュ さ れる ため ブロック サイズ は 大きい ほど 入出力 の 効率 は 向上 し ます 
39	したがって 最も 大きな サイズ の もの を 選択 し がち に なり ます が そう 単純 に 考える わけ に も いき ませ ん 
39	たとえば 処理 し たい データ は 1 行 のみ で ある と し ます 
39	データ バッファ に キャッシュ さ れ て いる ブロック に その 行 データ が 格納 さ れ て い ない 場合 に は 物理 ディスク から 該当 データ を データ バッファ に 読み取っ て こ なけれ ば なり ませ ん 
39	しかし 読み取り の 単位 は ブロック です 行 データ の サイズ が 小さい 場合 は 同じ ブロック 内 に 他 の 行 データ も 多数 含ま れ て い ます 
39	この 場合 処理 し たい データ は 1 行 のみ な のに 処理 に 不要 な 行 データ も キャッシュ し て しまう こと に なり ます 
39	したがって 大きな ブロック サイズ の 場合 は ブロック 内 に 含ま れる 余分 な データ 量 も 大きく なり その 分 メモリー 領域 が 無駄 と なり ます 
39	また 複数 の トランザクション を 同時 実行 さ せる 場合 ブロック 競合 が 発生 し やすく なり ます 
39	したがって データ 処理 の 特性 に 応じ て 適切 な ブロック サイズ を 決定 し なけれ ば なり ませ ん 一般 的 に は オンライン トランザクション 処理 中心 の 場合 に は 小さな ブロック サイズ 集計 分析 処理 中心 の 場合 に は 大きな ブロック サイズ を 選択 し ます 
39	バッファ ヒット 率 
39	バッファ ヒット 率 と は 処理 に 必要 な ブロック が データ バッファ 内 に 存在 し た 割合 です 
39	ある 処理 を 行う ため に 必要 な データ が データベース 内 3 ブロック にわたって 格納 さ れ て いる と し ます 
39	2 ブロック は 処理 開始 時 他 の 処理 の ため データ バッファ に 既に キャッシュ さ れ て い た と し ます 
39	この 場合 残り の 1 ブロック を ディスク から 読み取っ て くる ので ヒット 率 は 2 ÷ ( 2 ＋ 1 ) × 100 ＝ 67 %　 と なり ます 
39	ヒット 率 が 高い ほど 効率 的 に 処理 が 行わ れ て いる と 判断 でき ます 
39	バッファ ヒット 率 は データベース 性能 評価 の ため の 指標 と なり ます 
39	「 ヒット 率 の 目標 は 90 % 以上 」 と やみくも に その 数値 に こだわる こと なく 大切 な こと は 「 目標 と する 性能 を 確保 する こと 」 で あり ヒット 率 は その ため の 指標 と とらえ て ください 
39	バッファ ヒット 率 を 得る ため の モニタリング ツール も DBMS は 提供 し て い ます が コマンド や 使用 方法 は DBMS ごと に 異なり ます 
39	表 領域 （ 表 スペース ） 
39	DBMS は 表 や 索引 の ブロック を 格納 する 単位 として 表 領域 （ 表 スペース ） という 概念 を とりいれ て い ます 
39	表 領域 は 表 や 索引 を 格納 する ため の 器 です 
39	器 の 実体 は OS 上 の ファイル ディレクトリ など 使用 する DBMS によって 様々 な 形態 を とり ます 
39	表 領域 の 容量 は その 表 領域 に 格納 する 表 の 1 行 当たり の （ 平均 サイズ ） × （ 見積もり 行 数 ） を もと に 算出 し ます 
39	忘れ て は なら ない の は 索引 容量 も 容量 見積もり し て おく こと です 
39	索引 は DBMS によって 実装 が 異なる ため 容量 見積もり は 使用 する DBMS が 提供 する 見積もり 式 を 使用 し ます 
39	表 領域 は バックアップ の 単位 と なる 場合 も あり ます 
39	物理 設計 時 に は 表 領域 に 格納 する 表 索引 へ の アクセス 頻度 バックアップ 運用 など を 検討 し 表 領域 構成 を 決定 後 物理 ディスク 上 へ の 適切 な 配置 を 決定 し ます 
39	索引 と 表 を 別 の 表 領域 に 分割 可能 な DBMS を 使用 する 場合 に は 性能 を 考慮 し て 索引 と 表 を 別 の 表 領域 に 配置 する こと も あり ます 
39	さらに 表 領域 ごと に データ バッファ を 割り当てる こと が 可能 な DBMS を 使用 する 場合 に は 索引 用 の 表 領域 に対して データ バッファ を 優先 的 に 割り当てる こと も 検討 し ます 
39	データディクショナリ 
39	データベース に は どの よう な 表 が 定義 さ れ て いる か 
39	表 は どの よう な 列 で 構成 さ れ て いる か 
39	索引 は どの 表 の どの 列 に 定義 さ れ て いる か 
39	ビュー は どの よう に 定義 さ れ て いる か 
39	表 に は どの よう な 制約 が 定義 さ れ て いる か 
39	など の スキーマ 定義 情報 を DBMS は データディクショナリ という 領域 に 格納 し ます 通常 データディクショナリ は 専用 の 独立 し た 表 領域 で 提供 さ れ ます 
39	データディクショナリ に は スキーマ 定義 情報 の ほか に 権限 設定 情報 など も 格納 さ れ ます 
39	データディクショナリ の 情報 に 直接 アクセス する こと は でき ませ ん が 参照 の ため の ビュー が 提供 さ れ て い ます 
39	また データディクショナリ の こと を システム カタログ と 呼ぶ 場合 も あり ます 
40	ロギング 
40	ログ と は 
40	DBMS は トランザクション が データベース に対して 行っ た 更新 内容 を すべて ログ として 取得 し ます 
40	この ログ 取得 操作 の こと を ロギング と 呼び ます 
40	表 に 行 を 挿入 する 場合 に は 更新 後 データ を ロギング し ます 
40	表 から 行 を 削除 する 場合 に は 更新 前 データ を 行 を 更新 する 場合 に は 更新 前 データ と 更新 後 データ の 両方 を ロギング し ます 
40	また 表 や 索引 の 作成 や 削除 を 行っ た 場合 に も DBMS は その 内容 を ロギング し ます 
40	取得 し た ログ は トランザクション や システム に 障害 が 発生 し た 場合 に 実行 する 「 障害 回復 」 の ため に 使用 し ます 
40	この ため DBMS は 更新 データ だけ で は なく 更新 は コミット さ れ た か ロール バック さ れ た か 更新 を 行っ た の は どの トランザクション か など 回復 処理 に 必要 と なる トランザクション 情報 も ロギング し ます 
40	DBMS が ロギング する 情報 に は 主 に 以下 の よう な もの が あり ます 
40	以下 トランザクション が ある 表 の 行 データ を 更新 する こと を 例 に ロギング の 仕組み について 学習 を 進め て いき ます 
40	ロギング の 仕組み 
40	トランザクション が ある 表 の 行 データ の 値 を 101 → 501 に 更新 する 場合 DBMS は まず 対象 の データ 101 が 格納 さ れ て いる ブロック を 物理 ディスク 上 の データベース の 表 領域 から 物理 メモリー 上 の データ バッファ 領域 に 読み込ん で き ます 
40	この とき 対象 の ブロック が 既に データ バッファ に キャッシュ さ れ て いれ ば それ を 使用 し ます 
40	次に 示す よう に 読み込ん で き た ブロック 内 の 行 データ 101 を データ バッファ 上 で 501 に 更新 し ます 
40	また この 更新 の ログ として 更新 前 データ 101 と 更新 後 データ 501 を 物理 メモリー 上 の ログ バッファ という 別 の 領域 に 記録 し ます 
40	なお 複数 の トランザクション が 同時に データ を アクセス する 環境 で は ログ バッファ は すべて の トランザクション 共有 の 資源 と なり ます 
40	DBMS は ログ バッファ に 複数 の トランザクション による 更新 内容 を 更新 発生 順 に 記録 し て いき ます 
40	トランザクション が 更新 を コミット する と DBMS は ログ バッファ に 記録 し た 更新 ログ を 物理 ディスク 上 の ログ ファイル に 同期 的 に 書き出し ます 
40	この 操作 を 示し ます 
40	データ 101 を 501 に 更新 し て コミット し た 場合 に は ログ バッファ 上 の 更新 前 データ 101 と 更新 後 データ 501 を ログ ファイル に 書き出し ます が その 際 トランザクション を コミット し た こと を 記す ため の コミット データ （ コミット レコード ） を 付加 し ます 
40	複数 の トランザクション が 同時に 動作 し て いる 環境 で は いずれ か の トランザクション が コミット を 行う と まだ コミット し て い ない トランザクション の 更新 ログ も ログ ファイル に 書き出し ます 
40	また ログ バッファ 領域 が 一 杯 に なっ て も ログ ファイル へ の ログ の 書き出し 処理 は 行わ れ ます が ログ バッファ の 使用 率 に 応じ ログ ファイル へ の 書き出し タイミング を 制御 できる パラメータ を 提供 し て いる DBMS も あり ます 
40	更新 主体 の 処理 の 場合 ログ バッファ の サイズ が 小さ すぎる と 頻繁 に ログ ファイル へ の 書き込み 操作 が 発生 する ため 全体 の 処理 性能 が 低下 する こと も あり ます 
40	この ため 物理 設計 テスト 時 に は ログ バッファ 領域 の 設定 調整 に関する 考慮 も 必要 に なり ます 
40	ログ ファイル の 配置 パス 個数 サイズ は 一般 的 に DBMS の 構成 パラメータ で 設定 調整 可能 です が その 既定 値 や 調整 方法 は DBMS ごと に 異なり ます 
40	ログ ファイル は 初期 データベース 作成 時 複数個 用意 し 循環 上書き 再 利用 する こと を 既定 の 方式 として 提供 し て いる もの が 多数 です 
40	また 更新 前 データ について は ログバッファログファイル と は 別 の 領域 に 格納 し トランザクション が コミット する と 削除 し て いく という 方式 を とっ て いる DBMS も あり ます 
40	更新 ブロック の 書き込み 
40	コミット が 完了 する と ログ は ログ ファイル に は 書か れ て い ます が データ バッファ 上 で 更新 さ れ た ブロック が 物理 ディスク 上 の データベース に 書き 戻さ れ て いる 保証 は あり ませ ん 
40	コミット 単位 で 毎回 更新 ブロック を 物理 ディスク に 書き 戻す 処理 を 行う と 入出力 の ため の オーバヘッド により データベース 処理 全体 の 性能 が 低下 し て しまい ます 
40	この ため DBMS は データ バッファ 上 の 更新 ブロック を コミット と は 別 の タイミング で 書き 戻し ます この 書き 戻し 対象 に は 未 コミット の 更新 ブロック も 含ま れ ます 
40	したがって DBMS 稼働 中 は 物理 ディスク 上 の データベース の 表 領域 に は 常時 コミット さ れ た 更新 ブロック や 未 コミット の 更新 ブロック が 混在 し た 状態 に なっ て い ます 
40	どの よう な タイミング で 更新 ブロック を 書き 戻す か は DBMS によって 相違 が あり ます が 主 に は 以下 の よう な 場合 です 
40	チェックポイント 
40	DBMS が 定期 的 に データ バッファ 上 の すべて の 更新 ブロック を コミット 未 コミット に かかわら ず 一括 し て データベース に 書き 戻す 処理 の こと を チェックポイント と いい ます 
40	チェックポイント 実行 時 DBMS は その 時点 で 実行 中 の トランザクション の 一覧 を チェックポイント データ （ チェックポイント レコード ） として ロギング し ます 
40	その 動作 を 示し ます データ 101 → 501 へ の 更新 を コミット し て も 501 の データ は データベース に 書き 戻さ れ ませ ん が チェックポイント で は 必ず 書き 戻さ れ ます 
40	チェックポイント 時 別 の トランザクション が データ 700 を 800 に 更新 し て まだ コミット し て い なかっ た 場合 に は 未 コミット の 800 の データ を データベース に 書き 戻し ます 
40	また 同時に 800 の 更新 を 実行 中 の トランザクション 情報 を チェックポイント データ として ロギング し ます 
40	DBMS は 「 障害 回復 」 を 実行 する とき に ロギング さ れ た チェックポイント データ を 参照 し ます 
40	チェックポイント は 実行 中 の トランザクション 処理 を いったん 中断 し て コミット 未 コミット に かかわら ず データ バッファ 上 の 更新 ブロック を すべて 物理 ディスク に 書き込む 処理 を 行う ため サーバ に 非常 に 負荷 の かかる 処理 です 
40	その ため 実際 の 多く の DBMS で は その 実行 制御 を 構成 パラメータ で 指定 できる よう に し て い ます 
40	頻繁 に チェックポイント を 実行 する よう に 構成 する と 通常 時 の 入出力 頻度 は 高まり ます が 障害 から の 回復 処理 に かかる 時間 は 短縮 でき ます 
40	逆 に チェックポイント の 間隔 を 長く 設定 する と 通常 時 の 入出力 頻度 は 減少 し ます が 1 回 の チェックポイント で の システム 負荷 が 高まり ます 
40	また 障害 から の 回復 時間 が 長く なり ます 
40	したがって 物理 設計 テスト 時 に は チェックポイント 間隔 の 検討 調整 も 必要 です 
41	障害 回復 
41	WAL プロトコル 
41	DBMS は 障害 から の 復旧 時 ログ ファイル に 記録 さ れ た ログ を 使用 し て データベース の 回復 処理 を 行い ます 
41	コミット し た 更新 データ を 含む ブロック が 物理 ディスク に 書き 戻さ れる 前 に DB サーバ が 電源 断 や サーバ OS の 異常 など なんらかの 原因 で 突然 システム ダウン し た と し ます 
41	この 場合 DBMS は 再 起動 時 ログ ファイル に 記録 し た チェックポイント データ 更新 前 データ 更新 後 データコミットデータ を もと に 物理 ディスク 上 の データベース の 回復 処理 を 行い ます 
41	回復 処理 の 中 で コミット し た トランザクション による 更新 内容 は データベース に 反映 し 未 コミット の トランザクション による 更新 内容 は データベース から 取り除き ます 
41	ログ を もと に し た 障害 回復 機能 を 実現 する ため に は DBMS は WAL プロトコル （ Write Ahead Log Protocol ） を 守る 必要 が あり ます 
41	この 規約 は 「 データ バッファ 上 の 更新 ブロック を データベース へ 書き込む 際 に は その 更新 ログ は 先 に ログ ファイル に 書き込み を 完了 し て いる こと 」 を 要求 する もの です 
41	この 規約 を 守ら なけれ ば ログ を 使用 し た 回復 処理 は 行え なく なっ て しまい ます 
41	以下 この 規約 の 必要 性 を 学習 し ます 
41	ある トランザクション が ある 表 の 行 データ 201 を 301 に 更新 し ます （ 未 コミット ） 
41	この 場合 DBMS は 更新 前 データ 201 と 更新 後 データ 301 を 更新 ログ として ログ バッファ に 記録 し ます 
41	次に ログ バッファ 上 の 更新 ログ を ログ ファイル に 書く より 前 に データ バッファ 上 の 更新 ブロック を 未 コミット の まま ディスク 上 の データベース に 書き 戻し た と し ます 
41	ここ で DB サーバ が システム ダウン し たら どう なる でしょ う か 
41	ディスク 上 の データベース に は 未 コミット の データ 301 が 保存 さ れ て い ます が ログ バッファ 内 に 保持 さ れ て い た 更新 前 データ 201 は 障害 とともに 消え て しまい ます 
41	この 場合 ログ を もと に し た 回復 処理 を 実行 でき なく なっ て しまい ます 
41	この よう な 状況 を 発生 さ せ ない ため データ バッファ 上 の 更新 ブロック と ログ バッファ 上 の 更新 ログ の どちら を 先 に ディスク に 書き出す か について の 規約 として WAL プロトコル が あり ます 
41	この 規約 に 従え ば 更新 ブロック 書き込み 時 に は まず ログ バッファ 内 の 更新 ログ を ログ ファイル に 書き込み その後 データ バッファ の 更新 ブロック を 書き込む という 手順 で 操作 を 行う こと に なり ます 
41	この 場合 に は 電源 断 など で 物理 メモリー の 内容 が 失わ れ て も ログ ファイル に 記録 し た 更新 ログ から データベース を 障害 前 の 状態 に 回復 する こと が 可能 に なり ます 
41	したがって 更新 ブロック 書き込み の 際 に は チェックポイント で 書き込む 場合 に も DBMS は WAL プロトコル に もとづき 先 に 書き込み 対象 の 更新 ブロック に対する 更新 ログ の ログ ファイル へ の 書き込み を 完了 し て おか ね ば なり ませ ん 
41	前進 復帰 後退 復帰 
41	ロギング し た 更新 前 データ を もと に DBMS が 行う 回復 処理 の こと を 後退 復帰 （ ロールバック UNDO ） 更新 後 レコード を もと に 行う 回復 処理 の こと を 前進 復帰 （ ロールフォワード REDO ） と いい ます 
41	ここ で は これら の 回復 処理 について 学習 し ます 
41	なお 時間 は 左 から 右 へ 経過 し て いき ます T 1 T 2 T 3 は トランザクション ○ は トランザクション の 開始 ● は トランザクション が コミット し て 終了 する こと を 表現 し て い ます 
41	また チェックポイント は 時刻 tc で 発生 し 時刻 td で 障害 により DB サーバ が システム ダウン し た と 想定 し て い ます 
41	DBMS は 再 起動 時 ログ ファイル に 記録 さ れ て いる チェックポイント データ の トランザクションリストコミットデータ 更新 前 データ 更新 後 データ を もと に 以下 の よう な 回復 処理 を 実行 し ます 
41	T 1 の 処理 
41	T 1 は チェックポイント 発生 前 に 処理 を 開始 し システム ダウン が 発生 する 前 に 処理 を コミット し て 終了 し て い ます 
41	T 1 が チェックポイント まで に 行っ た 更新 は チェックポイント により 物理 ディスク 上 の データベース に 書き込ま れ て い ます 
41	したがって チェックポイント 以降 T 1 が コミット し て 終了 し た 時点 まで 前進 復帰 し ます 
41	T 2 の 処理 
41	T 2 は システム ダウン 発生 時 まだ 実行 中 です 
41	データベース へ の 書き込み は チェックポイント だけ で 発生 する わけ で は あり ませ ん 
41	T 2 が チェックポイント 以降 に 行っ た 未 コミット の 更新 は データベース に 書き込ま れ て いる こと も あり え ます 
41	したがって システム ダウン 直前 から T 2 が 開始 し た 時点 まで 後退 復帰 し ます 
41	T 3 の 処理 
41	T 3 は チェックポイント 以降 に 処理 を 開始 し て い ます 
41	したがって T 3 が 開始 し た 時点 から コミット し て 終了 し た 時点 まで 前進 復帰 し ます 
41	なお 時刻 tc の チェックポイント より も 前 に 処理 を 終了 し て いる トランザクション について は チェックポイント により その 更新 内容 が 物理 ディスク 上 の データベース に 反映 さ れる こと が 保証 さ れる ため 回復 処理 の 必要 は あり ませ ん 
41	障害 回復 の 種類 
41	データベース で 発生 する 障害 は トランザクション 障害 システム 障害 媒体 障害 の 3 つ に 大別 でき ます 
41	DBMS は いずれ の 障害 に対して も ログ を 利用 し て 回復 処理 を 行い ます 
41	トランザクション 障害 
41	個々 の トランザクション が 実行 中 に なんらかの 要因 により 異常 終了 する こと を トランザクション 障害 と いい ます 
41	処理 実行 中 に ゼロ 除算 が 発生 制約 違反 が 発生 管理 コマンド により 強制 終了 が かかっ た あるいは デッドロック が 発生 し た 場合 など が これ に 相当 し ます 
41	この 場合 DBMS は ロギング し た 更新 前 データ を 使用 し て 後退 復帰 を 行い ます 
41	後退 復帰 により 異常 終了 し た トランザクション の 未 コミット 更新 データ を データベース から 取り除き ACID の 原子 性 （ Atomicity ） を 実現 し て い ます 
41	システム 障害 
41	突然 の 電源 断 や OS の 障害 DBMS の 障害 あるいは それら の 障害 から の 回復 の 過程 で 物理 メモリー が 初期 化 さ れ て しまい データ バッファ や ログ バッファ の 更新 データ を 失っ て しまう 状況 を システム 障害 と いい ます 
41	システム 障害 が 発生 し た 場合 DBMS は 再 起動 時 未 コミット の データ が データベース に 書き込ま れ て いる 場合 に は 後退 復帰 し ます 
41	また コミット 済み の データ が まだ データベース に 書き込ま れ て い なかっ た 場合 は 前進 復帰 し ACID の 耐久 性 ( Durability ) を 実現 し て い ます 
41	媒体 障害 
41	データベース を 配置 し て いる 物理 ディスク 領域 が 損傷 し て しまう こと を 媒体 障害 と いい ます 
41	この 場合 は 事前 に 取得 し て おい た データベース の バックアップ を リストア （ 復元 ） し バックアップ 取得 以降 の ログ を 利用 し て 障害 発生 前 まで の 前進 復帰 を 行い ます 
41	回復 の ため の コマンド や その 実行 手順 は 使用 する DBMS 固有 の もの と なり ます 
42	バックアップ 
42	媒体 障害 が 発生 し た 場合 に は バックアップ を リストア （ 復元 ） し て から ログ ファイル を 使用 し た 前進 復帰 で 回復 処理 を 行い ます が ログ ファイル が 循環 し て 上書き さ れる よう な 運用 モード で は 任意 の 時点 まで の 回復 処理 を 行う こと は でき ませ ん 
42	バックアップ 取得 以降 の 任意 の 時点 まで の 回復 を 可能 と する ため に は ログ ファイル の 運用 モード を アーカイブ モード に 設定 する 必要 が あり ます 
42	アーカイブ モード と は ログ ファイル を 循環 上書き する の で は なく 蓄積 し て いく モード です 
42	上書き さ れ ず に 蓄積 さ れ た ログ ファイル の こと を アーカイブログファイル と いい ます 
42	ログ ファイル の 循環 モード 運用 を アーカイブ モード 運用 を イメージ し た もの を 示し ます 
42	なお アーカイブ モード の 設定 方法 は DBMS ごと に 異なり ます 
42	また アーカイブ モード へ の 切り替え を 必要 と せ ず ログ の バックアップ を 取得 する まで は ログ ファイル を 物理 的 に 拡張 さ せ て いく という 方式 で ログ の 上書き を 防止 し て いる もの も あり ます す 
42	バックアップ の 取得 方法 
42	バックアップ は 物理 ディスク 上 や テープ 装置 に OS コマンド や DBMS が 提供 する バックアップ 用 の ユーティリティ コマンド で 取得 し ます 
42	DBMS を 正常 に 停止 し て 取得 する もの を オフライン バックアップ （ コールド バックアップ ） DBMS を 稼働 状態 の まま 取得 する もの を オンライン バックアップ （ ホット バックアップ ） と いい ます 
42	オフライン バックアップ に 含ま れる データ は 整合 性 が とれ た 状態 です が オンライン バックアップ に は 未 コミット の 更新 データ が 含ま れ て いる 可能 性 が あり ます 
42	オンライン バックアップ 中 に データ 700 が 800 に 更新 が かかり 未 コミット の まま データベース へ の 書き 戻し が 行わ れ て いる と し ます 
42	この タイミング で バックアップ による 該当 データ の コピー が 行わ れる こと も あり え ます 
42	この ため オンライン バックアップ は バックアップ 中 の ログ が ある こと により はじめて 意味 の ある もの と なり ます 
42	未 コミット の 更新 が バックアップファイル に 書き込ま れ た 後 に この 更新 を トランザクション が ロール バック し て い た として も バックアップ の リストア 後 ログ の 更新 情報 を もと に データ の 整合 性 を とる こと が 可能 と なり ます 
42	したがって オンライン で 取得 し た バックアップファイル は バックアップ 取得 中 に 出力 さ れ た ログ ファイル とともに 保存 管理 する こと が 必要 に なり ます 
42	なお 表 領域 の データブロック を 格納 イメージ の まま コピー する バックアップ を イメージ コピー と 呼ぶ こと も あり ます が DBMS によって は 異なる 意味 の 場合 も ある ので 注意 し て ください 
42	バックアップ の 種類 
42	データベース の バックアップ の 種類 に は フルバック アップ 増 分 バックアップ 差分 バックアップ が あり ます 
42	フルバック アップ 
42	データベース で 使用 し て いる 領域 の コピー です その ため 規模 の 大きな データベース で は バックアップ 取得 に は 多く の 時間 を 必要 と し ます しかし リストア の 手順 は 容易 です 
42	増分 バックアップ 
42	増分 バックアップ は 累積 バックアップ とも いい ます 
42	増分 バックアップ で は 前回 取得 し た フルバック アップ から の 変更 部分 のみ を 取得 し ます 
42	バックアップ 取得 に かかる 時間 は フルバック アップ より は 短縮 でき ます が 徐々に 増し て いき ます 
42	差分 バックアップ 
42	差分 バックアップ で は 前回 取得 し た フルバック アップ または 差分 バックアップ から の 変更 部分 のみ を 取得 し ます 
42	バックアップ 取得 に かかる 時間 は 短縮 でき ます が リストア の 手順 は 煩雑 に なり 回復 まで の 時間 も かかり ます 
42	増分 差分 いずれ の バックアップ も 最初 は フルバック アップ の 取得 が 必要 です 
42	データベース の 状態 を 木曜日 の バックアップ 取得 時点 に 復元 し たい 場合 に は まず 日曜日 に 取得 し た フルバック アップ を リストア し ます 
42	次 の よう な 運用 の 場合 に は 木曜日 の 増分 バックアップ を リストア し ます 
42	運用 の 場合 は フルバック アップ の リストア に 続け て 月曜日 → 火曜日 → 水曜日 → 木曜日 の 順 に 差分 バックアップ を リストア し ます 
42	増分 バックアップ 差分 バックアップ は 日々 の バックアップ 時間 を 短縮 する ため の もの です 
42	表 領域 単位 で の バックアップ を 取得 可能 な DBMS を 使用 する 場合 に は 日々 の バックアップ 対象 表 領域 を スケジューリング し て バックアップ 時間 の 短縮 を 行う こと も あり ます 
42	なお 増分 差分 の 用語 の 意味 および リストア の 手順 について は DBMS によって は 異なる 場合 も あり ます ので 注意 し て ください 
42	再 編成 
42	データ の 更新 削除 を 繰り返す と データベース の 領域 を 構成 する ブロック は 断片 化 （ フラグメンテーション ） し て いき ます 
42	断片 化 が 進む と データ の 処理 効率 は 低下 し パフォーマンス は 悪化 し て いき ます 
42	この ため 定期 的 な 断片 化 解消 の 処理 が 必要 に なり ます 
42	断片 化 解消 の ため に 行う 処理 の こと を 再 編成 と いい ます 
42	再 編成 は 表 索引 の 単位 で 行い ます 
42	ある 表 の データ が 再 編成 前 に は 4 ブロック に またがっ て 格納 さ れ て い まし た が 再 編成 後 は 2 ブロック に 格納 さ れる こと を 示し て い ます データ は ブロック 単位 で データ バッファ に 読み込ま れ て 処理 さ れる わけ です から 全 件 処理 する 場合 の 物理 読み取り 回数 は これ だけ で も 半分 に する こと が でき ます 
42	また 完全 に 中身 が 空い た 2 ブロック を 他 の 表 の データ 格納 に 使用 する こと も 可能 と なり ます 
42	更新 削除 を 頻繁 に 行う 表 に対して は 定期 的 な 再 編成 処理 が 必要 です 
42	また 再 編成 時 索引 を 指定 すれ ば 指定 し た 索引 の キー 順 に 行 データ を 格納 し 直す こと を 可能 と し て いる DBMS も あり ます 
42	索引 キー 値 の 範囲 を 指定 し て の 検索 を 主体 に 行う 場合 に は この 機能 は パフォーマンス 上 有効 です 
42	統計 情報 
42	DBMS は SQL の コンパイル 時 アクセス プラン を 作成 し ます 
42	アクセス プラン は 実行 計画 アクセス パス アクセス 経路 と も 呼ば れ ます 
42	アクセス プラン に は 表 ごと の 索引 探索 表 探索 など の アクセス 方式 や 表 の 結合 方式 など ひとつ の SQL 実行 で も 複数 の 組み合わせ が 存在 し ます 
42	SQL コンパイル の 最終 工程 で 実行 さ れる オプティマイザ は 複数 の アクセス プラン の 中 で 最適 な もの を 選択 し ます 
42	オプティマイザ に も いくつ か 種類 が あり ます が 通常 使用 さ れ て いる の は コストベースオプティマイザ と 呼ば れる もの です 
42	コストベースオプティマイザ は 統計 情報 （ オプティマイザ 統計 ） を もと に 最適 な アクセス プラン を 決定 し ます 
42	統計 情報 と は 処理 対象 の 表 や 索引 の 物理 サイズ 各 列 の 値 は どの よう な 分布 に なっ て いる か など の 実 格納 データ に 基づく 情報 です 
42	統計 情報 は 統計 情報 取得 コマンド を 実行 する こと により データディクショナリ （ システム カタログ ） に 記録 さ れ ます 
42	この ため 表 に 格納 さ れる データ の 内容 や 件数 が 変わっ て いく よう な 特性 の 表 で は 適宜 統計 情報 取得 を 行い オプティマイザ に 正確 な 判断 を さ せる こと が 必要 です 
43	透過 性 
43	物理 的 に 複数 の サイト に 分散 さ れ た データベース を 連携 さ せ 仮想 的 に 一つ の データベース として 利用 できる よう に し た システム を 分散 データベース と いい ます 
43	分散 データベース を 構成 する 目的 に は 危険 分散 （ 災害 対策 ） 負荷 分散 データベース の 拡張 性 の 向上 など が あり ます 
43	ここ で 重要 な こと は 利用 者 に は 実際 の データベース は 物理 的 に 分散 さ れ て いる もの で ある という こと を 意識 さ せ ない こと です 
43	これ を 分散 データベース の 透過 性 と いい ます 
43	分散 データベース は 透過 性 を 満足 する よう に 設計 構築 し なけれ ば なり ませ ん 考慮 す べき 主 な 透過 性 を 以下 に 示し ます 
43	分散 データベース の 透過 性 
43	位置 に対する 透過 性 
43	利用 者 は データベース の 位置 を 意識 する 必要 が ない こと 
43	移動 に対する 透過 性 
43	データ の 格納 サイト （ 拠点 ） が 変更 さ れ て も アプリケーション や 操作 に 影響 が ない こと 
43	複製 （ 重複 ） に対する 透過 性 
43	同じ データ が 複数 の サイト に 格納 さ れ て い て も それ を 意識 せ ず に 利用 できる こと 
43	分割 （ 分散 ） に対する 透過 性 
43	一つ の 表 の データ が 複数 の サイト に 分割 さ れ て 格納 さ れ て い て も それ を 意識 せ ず に 利用 できる こと 
43	障害 に対する 透過 性 
43	分散 データベース を 構成 する いずれ か の サイト で 障害 が 発生 し て も それ を 意識 せ ず に 利用 できる こと など 
43	分散 結合 
43	分散 データベース で は 例えば 商品 マスター データ は 東京 本社 の データベース に 商品 の 注文 実績 データ は 各 拠点 の データベース に 配置 し これら の 分散 さ れ た 表 を 結合 し て 処理 を 行う と いう こと も 可能 です 
43	その 場合 留意 す べき は サイト 間 の 通信 負荷 を いかに 小さく する か という こと です 
43	複数 の サイト に 分散 配置 さ れ た 表 を 結合 する ため の 方式 として は 入れ子 ループ 法 セミジョイン 法 など いくつ か あり ます が 最も 通信 負荷 を 小さく できる の は セミジョイン 法 です 
43	ここ で は その 仕組み を 入れ子 ループ 法 と の 比較 により 学習 し ます 
43	例 として サイト A に 注文 明細 表 サイト B に 商品 表 を 配置 し これら の 表 を 共通 の 属性 商品 番号 で 結合 する こと を 想定 し て 進め ます 
43	なお 結合 の ため の SQL は サイト A で 発行 する もの と し ます 
43	入れ子 ループ 法 
43	結合 対象 の 一方 の 表 から 1 行 ずつ 抽出 し て 相手 サイト に 送り 結合 結果 を 相手 から 受信 する 方式 です 
43	結合 処理 は 相手 サイト で 行わ れ ます 
43	送信 結合 受信 の 操作 を 1 行 ずつ 繰り返し ます 
43	サイト A の 注文 明細 表 と サイト B の 商品 表 を 入れ子 ループ 法 で 結合 する 場合 の 処理 手順 を 示し ます 
43	この よう に 入れ子 ループ 法 で は 処理 を 1 行 ずつ 繰り返す ため 結合 対象 の データ 量 が 多い 場合 に は 通信 回数 が 増え 通信 負荷 コスト は 増大 し ます 
43	セミジョイン 法 
43	セミジョイン 法 は 分散 データベース の 結合 演算 で の 通信 量 を 減らす ため に 考案 さ れ た 方法 です 
43	結合 条件 と する 列 の データ を 射影 し て 相手 サイト に 送信 し 結合 条件 に 合致 し た データ のみ を 相手 から 送り返し て もらい 最終 的 な 結合 処理 は 自 サイト で 行う という 方式 です 
43	サイト A の 注文 明細 表 と サイト B の 商品 表 を セミジョイン 法 で 結合 する 場合 の 処理 手順 を 示し ます 
43	セミジョイン 法 処理 手順 
43	サイト A の 注文 明細 表 から 結合 列 「 商品 番号 」 の データ を 射影 抽出 し サイト B に 送信 
43	サイト B で 商品 表 と 結合 
43	サイト B で の 結合 結果 を サイト A で 受信 
43	受信 データ と 注文 明細 表 を サイト A で 結合 
43	この よう に セミジョイン 法 の 場合 結合 処理 は 相手 サイト と 自 サイト で 行う こと に なり ます が 送受信 する データ 量 を 削減 できる ので 通信 負荷 を 全体 的 に 低減 でき ます 
43	2 相 コミット プロトコル 
43	分散 データベース で トランザクション 処理 を 行う に は コミット や ロールバック の 際 に 分散 し た データベース 間 で データ の 整合 性 を とる よう に 管理 する 仕組み が 必要 です 
43	これ を 実現 する ため の 規約 として 2 相 コミット プロトコル が あり ます 
43	2 相 コミット プロトコル で は 第 1 相 と 第 2 相 に 分け て コミットロールバック 処理 を 行い ます 
43	第 1 相 　 ユーザ から の コミット 要求 は 調停 者 と なっ た DBMS が 受け 参加 者 と なっ た 他 の すべて の DBMS に コミット 可能 か どう か の 「 準備 要求 」 の メッセージ を 送信 し ます 
43	「 準備 要求 」 を 受け取っ た 参加 者 は コミット する こと に 問題 が なけれ ば OK （ 準備 完了 ） を 返答 し ます 
43	自 サイト で の 更新 を コミット する こと に 問題 が ある 場合 は NG （ アボート 要求 ） を 返答 し ます 
43	第 2 相 　 第 1 相 の 「 準備 要求 」 に対して いずれ か 一つ の 参加 者 から でも NG （ アボート 要求 ） の 応答 を 受け取っ た 場合 または 応答 が 返っ て こ ない 参加 者 が あっ た 場合 調停 者 は コミット を 中止 し すべて の 参加 者 に 「 ロールバック 指示 」 を 送信 し ます 
43	「 ロールバック 指示 」 を 受け取っ た 参加 者 は 自 サイト で の 更新 を ロール バック し ます 
43	第 1 相 の 「 準備 要求 」 に対して すべて の 参加 者 から OK （ 準備 完了 ） が 返っ て き た 場合 調停 者 は すべて の 参加 者 に対して 「 コミット 指示 」 の メッセージ を 送信 し ます 
43	「 コミット 指示 」 を 受け取っ た 参加 者 は 自 サイト で の 更新 を コミット 後 OK （ コミット 完了 ） を 返し ます 
43	調停 者 が すべて の 参加 者 から OK （ コミット 完了 ） メッセージ を 受け取っ た 時点 で 分散 トランザクション の コミット 処理 は 完了 し ます 
43	セキュア 状態 
43	第 1 相 で 「 コミット 準備 完了 」 を 返し て から 第 2 相 で 調停 者 から 「 コミット 指示 」 または 「 ロールバック 指示 」 を 受け取る まで の 間 参加 者 は コミット も ロールバック も でき ない 状態 （ セキュア 状態 ） と なり ます 
43	この 状態 で 調停 者 が システム 障害 で ダウン する と 参加 者 は 調停 者 の 回復 を 待ち ます 
44	データ 活用 概要 
44	企業 で の データベース 利用 は 基幹 業務 を 中心 に 行わ れ て き まし た 
44	データ を 正規 化 （ 重複 を 排除 ） し て 保存 利用 する という こと は 帳票 間 の 転記 作業 や その チェック など の 無駄 な 作業 を なくし 業務 効率 化 に つながり ます 
44	しかし 1990 年 に W . H . Inmon 氏 が 「 データウェアハウス 」 の 概念 を 提唱 し て 以来 単なる 業務 効率 化 に とどまら ず 企業 活動 で 発生 し た データ を 時 系列 に 蓄積 し 新た な 経営 戦略 の 策定 や 意思 決定 の ため に 利用 する こと も 活発 に 行わ れ て き て い ます 
44	これら 情報 活用 分野 で の 代表 的 な データベース 利用 に 焦点 を 当て データウェアハウス OLAP データ マイニング について 以下 で 順に 学習 し て いき ます 
44	データウェアハウス 
44	データウェアハウス と は データ を 蓄積 一元 的 に 管理 し 分析 処理 を 行う ため の データベース です 
44	この ため 更新 削除 は 行わ ず データ は 時 系列 で 追記 し て いく という 特徴 を 持っ て い ます 
44	データ は 蓄積 さ れる 一方 の ため データウェアハウス は 時間 の 経過 とともに 肥大 化 し 性能 上 の 問題 に 悩まさ れる こと に なり ます 
44	この ため データウェアハウス を セントラルウェアハウス と データマート に 分け て 構成 する 場合 も あり ます 
44	この 場合 セントラルウェアハウス に は 基幹 系 システム から 抽出 し た 生 データ を 蓄積 し て いき ます 
44	データマート に は 部門 毎 地域 毎 など 分析 の 目的 に 応じ た データ を セントラルウェアハウス から 抽出 必要 に 応じ て 要約 処理 を 行い 格納 し ます 
44	そして 分析 処理 に 使用 し ます セントラルウェアハウス は 企業 全体 の データウェアハウスデータマート は 部門 毎 の データウェアハウス と 考える こと が でき ます 
44	セントラルウェアハウス の 構築 運用 に は 多大 な コスト を 必要 と し ます 
44	したがって データマート のみ で データウェアハウス を 構成 する 場合 も あり ます 
44	スター スキーマ 
44	検索 分析 処理 に 重点 を 置く ため 一般 的 に データウェアハウス の データモデル は スター スキーマ と 呼ば れる 構造 が よく 利用 さ れ ます 
44	スター スキーマ と は 図表 1 に 示す よう に 中心 に データ を 蓄積 し て いく ファクト 表 （ ファクト テーブル ） を 配置 し 周辺 に 次元 表 （ ディメンション テーブル ） を 配置 し た 構造 の データモデル の 名称 です 
44	次元 表 は ファクト 表 に 比べる と 容量 は 小さく 業務 で 使用 する 各 コード の 意味 を 記述 し た データ （ マスター データ ） を 格納 し ます 
44	ファクト 表 に は 日々 の 業務 で 発生 する データ （ トランザクション データ ） を 蓄積 し て いく ため 容量 は 非常 に 大きく なり ます 
44	明細 表 と 呼ば れる よう な 表 が ファクト 表 に 該当 し ます 
44	例えば 各 支店 が 扱う 商品 の 販売 実績 を 月次 で 分析 する 場合 図表 1 の よう に ファクト 表 として は 「 販売 実績 」 次元 表 として は 「 支店 」 「 商品 」 「 時間 」 を 構成 し ます 次元 表 と ファクト 表 と は 「 支店 コード 」 「 商品 コード 」 など の コード によって 関連付け ます 
44	ファクト 表 は これら の コード と 販売 数量 など の 実績 値 だけ を もち 「 支店 名 」 「 商品 名 」 といった 各 次元 表 が もつ 属性 に関する データ は もち ませ ん 
44	ETL 
44	基幹 系 の 複数 の データベース から データウェアハウス に は 一般 的 に 以下 の 作業 順 で データ を 投入 し ます 
44	基幹 系 の トランザクション データ を 抽出 （ Extract ) 
44	必要 に 応じ て 外部 データ を 統合 データ 変換 （ Transform ） 
44	データ 投入 （ Loading ） 
44	これら 一連 の 作業 を 各 作業 の 頭文字 を とっ て ETL と いい ます 
44	ETL を 行う ため の ソフトウェア ツール は 多数 提供 さ れ て おり ETL ツール と 呼ば れ て い ます 
44	データ 属性 や コード 体系 を 統一 する 処理 の こと を データクレンジング と いい ます が 一般 の ETL ツール に は データクレンジング の 機能 も 含ま れ て い ます 
44	OLAP 
44	W . H . Inmon 氏 が データウェアハウス の 概念 を 提唱 し て 3 年 後 の 1993 年 データウェアハウス に 蓄積 さ れ た データ を さまざま な 視点 から 自由 に 切り口 を 変え て 多次元 的 に 分析 する テクノロジー と 概念 を E . F . Codd 氏 は OLAP （ Online Analytical Processing ） として 提唱 し まし た 
44	蓄積 し た データ を 戦略 的 に 活用 する うえ で この 概念 は きわめて 有効 で あり OLAP 実現 の ツール （ 以下 OLAP ツール と 記し ます ） が 各 ベンダ から 提供 さ れ 情報 活用 分野 で 利用 さ れ て い ます 
44	なお OLAP を OLTP （ Online Transaction Processing ） の 対極 を なす 概念 で ある と 広範囲 に 考える と 混乱 を 招き ます OLAP は 多次元 データ 分析 処理 の こと です 
44	OLAP で は スター スキーマ の ファクト 表 は 次元 表 を 次元 軸 と し た 多次元 キューブ に 相当 し ます 
44	ファクト 表 内 に 格納 さ れる 実績 値 は 多次元 キューブ を 構成 する 個々 の セル の 値 に 相当 し ます 
44	したがって 分析 対象 データ を スター スキーマ で 設計 し て おけ ば OLAP ツール を 使用 する こと により 以下 の よう な 分析 操作 を 対話 形式 で 容易 に 行う こと が でき ます 
44	スライシング （ スライス ） 
44	多次元 キューブ の 一 面 を 切り取り データ を 2 次元 イメージ で 取り出す 
44	ダイシング （ ダイス ） 
44	多次元 キューブ の 分析 視点 （ 分析 軸 ） を サイコロ を 転がす よう に 変える 
44	ドリル ダウン 
44	全国 集計 データ → 東日本 集計 データ → 支店 別 データ の よう に データ の 集計 単位 を 小さく する 
44	ロールアップ 
44	支店 別 データ → 東日本 集計 データ → 全国 集計 データ の よう に データ の 集計 単位 を 大きく する 
44	現在 活用 さ れ て いる OLAP ツール は MOLAP 系 の もの と ROLAP 系 の もの に 分類 でき ます 
44	MOLAP （ Multi - dimensional OLAP ） で は 分析 対象 データ と その 事前 集計 結果 を 多次元 データベース という 特殊 な 格納 構造 を もつ データベース 内 に 格納 し ます 
44	これ により 多次元 の 分析 操作 を 高速 化 し て い ます 
44	ROLAP （ Relational OLAP ） で は 分析 対象 データ と 集計 データ は RDB 内 に 格納 さ れ 利用 者 の 操作 に 応じ て 分析 用 の SQL が 発行 さ れ ます 
44	つまり SQL により データ の 多次元 の 分析 操作 が 行わ れ ます 
44	データ マイニング 
44	OLAP で は 分析 次元 軸 は 利用 者 が 決定 し ます 
44	また データ を 多次元 で 見 て 顧客 の 動向 や 業務 改善 の 方向 に対する なんらかの 法則 を 見出す こと も 利用 者 の 判断 で 行い ます 
44	これ に対し 膨大 な 蓄積 データ の 中 から なんらかの 法則 を 見出す こと を システム が 提供 する アルゴリズム 主導 で 行う の が データ マイニング です 
44	マイニング （ mining ） を 直訳 する と 鉱山 の 「 採掘 」 です 
44	膨大 な データ という 鉱山 から 新た な 価値 を 採掘 し て いく ため の 技術 が データ マイニング です 
44	データ マイニング で は 統計 学 人工 知能 認知 科学 など さまざま な 技術 分野 で の データ 分析 手法 を 使用 し ます 
44	代表 的 な 分析 手法 を とりそろえ て 利用 者 が データ マイニング を 行う こと を 支援 する ツール を データマイニングツール と いい ます 
45	補助 記憶 装置 
45	補助 記憶 装置 の 種類 
45	補助 記憶 （ ストレージ ） 装置 に は 磁気 ディスク 装置 や テープ 装置 光ディスク 装置 など が あり ます 磁気 ディスク 装置 は データベース を 格納 する ため に テープ 装置 や 光ディスク 装置 は データベース の バックアップ を 格納 保管 する ため に 用い ます 
45	( 補助 記憶 装置 の インタフェース 
45	補助 記憶 装置 と コンピュータ を 接続 する ため の インタフェース を 一覧 で 示し ます 
45	インタフェース は 使用 する 製品 や 求める 速度 および 信頼 性 など によって 決定 し ます 
45	RAID （ Redundant Arrays of Inexpensive Disks または Redundant Arrays of Independent Disks ） 
45	RAID は 複数 の 磁気 ディスク を 組み合わせ て 一つ の 仮想 的 な ディスク に する 技術 です 
45	RAID を 使う 利点 として 大 容量 化 耐 障害 性 の 向上 入出力 速度 の 向上 が 挙げ られ ます 
45	RAID に は データ の 分割 方式 や 冗長 化 方式 によって いくつ か の レベル が 定義 さ れ て い ます 
45	主 な RAID レベル と その 特徴 を 一覧 で 示し ます なお RAID 2 は 使用 さ れ ない ため 省略 し て い ます 
45	高度 な 補助 記憶 装置 の 機能 
45	高度 な 補助 記憶 装置 の 機能 として 下記 の よう な もの が あり ます 
45	SAN ( Storage Area Network ) 
45	FC や iSCSI など を 用い て 作っ た ストレージ 専用 の ネットワーク 一つ の ディスク 装置 に 複数 の サーバ を 同時に 接続 し て 使用 できる 
45	NAS ( Network Attached Storage ) 
45	ファイル サーバ 専用 の ストレージ 装置 独自 の OS を 搭載 し NFS （ Network File System ） や CIFS （ Common Internet File System ） など の ネットワーク ファイル 共有 プロトコル により コンピュータ から ファイル 単位 で データ 共有 が できる 
45	補助 記憶 装置 における プロビジョニング 
45	仮想 的 な 磁気 ディスク 装置 を コンピュータ へ 見せる 技術 
45	これ により 磁気 ディスク 装置 の 物理 容量 を 超え た 仮想 ディスク を コンピュータ へ 割り当てる こと が できる 
45	磁気 ディスク 装置 内部 で は 実際 に 書き込ん だ データ だけ を 動的 に 物理 ディスク へ 割り当て て いく 
45	補助 記憶 装置 の 新 技術 
45	近年 磁気 ディスク （ ハードディスク ） に 変わる ストレージ として フラッシュ メモリ を 使用 し た ソリッドステート ドライブ （ SSD ） が 登場 し 注目 さ れ て い ます 
45	SSD は ハードディスク に 比べ 平均 アクセス 時間 が 短い ため 高速 に データ を 読み書き できる という 特徴 が あり ます 
45	この ため SSD を 用いる こと によって 今 まで コンピュータ の ボトルネック で あっ た 補助 記憶 装置 の ランダム 書き込み 性能 を 大きく 向上 さ せる こと が でき ます 
45	一方 SSD の 難点 として は 容量 単価 が 高い こと と 書き換え 可能 な 回数 が 限ら れ て いる こと が 挙げ られ ます 
45	なお 最近 で は ハードディスク と SSD を 組み合わせ た ハイブリッド ドライブ も 登場 し て き て い ます 
45	システム 構成 方式 
45	高信頼 性 の ため の システム 構成 方式 として 以下 の 二つ が あり ます 
45	デュアル システム 
45	稼動 する システム を 二つ 用意 し て 常に 同じ 処理 を さ せる 方式 
45	処理 結果 を 互いに 照合 し 合い 差異 を 見つけ た 場合 は 処理 を 再 実行 する 
45	デュプレックス システム 
45	システム を 2 系統 用意 する が 片方 を 待機 さ せ て おく 方式 稼動 さ せる 側 を 稼動 系 待機 さ せ て おく 側 を 待機 系 と 呼ぶ 
45	デュプレックス システム は 待機 系 の 状態 に 応じ て さらに 以下 の 三つ に 分類 でき ます 
45	ホット スタンバイ 　 業務 システム を 待機 系 で も 起動 さ せ て おく 方式 稼動 系 から 待機 系 へ メッセージ を 送り 稼動 し て いる こと を 確認 し 障害 を 検知 し た 際 は 自動的 に 切り替わる 
45	ウォーム スタンバイ 　 待機 系 で は OS のみ 起動 さ せ て おく 方式 
45	コールド スタンバイ 　 待機 系 は 電源 を 停止 さ せ て おく もしくは 他 の 用途 に 使用 し て おく 方式 
45	データベース サーバ で は 信頼 性 向上 の ため の 構成 として レプリケーション 技術 を 使用 し た ホット スタンバイ や 高信頼 性 クラスタ 技術 を 使用 し た ウォーム スタンバイ といった 構成 が 多く 用い られ ます 
45	情報 セキュリティ 
45	情報 セキュリティ と は 情報 や システム を 安全 な 状態 で 維持 する こと を いい JIS Q 27002 （ ISO / IEC 27002 ） で は 機密 性 完全 性 可用性 を 維持 する こと と 定義 さ れ て い ます 
45	情報 セキュリティ を 脅かす もの を 脅威 と 呼び ます 
45	脅威 によって 起こり うる 損失 の 可能 性 が リスク で あり これ を 組織 で コントロール する こと が 重要 です 
45	脅威 
45	情報 セキュリティ の 脅威 として 攻撃 （ 不正 アクセス ） や 機器 や データ の 盗難 や 紛失 自然 災害 など が あり ます 
45	主 な 攻撃 手法 を 示し ます 
45	攻撃 は 今 と 昔 で は 変化 し て い ます 
45	昔 の 攻撃 の 目的 は 主 に 技術 的 興味 や 自己 顕示 の ため 行わ れ て い まし た が 近年 で は 金銭 や 機密 情報 の 入手 など 営利 を 目的 と し た もの へ と 変化 し て い ます 
45	これ に 伴い 攻撃 対象 も 不 特定 多数 から 特定 の 組織 や 個人 を 狙っ た もの へ と 変化 し て い ます 
45	情報 セキュリティマネジメントシステム 
45	組織 で の セキュリティ の 対策 は 組織 全体 の セキュリティポリシ を 作成 し それ に 基づき 対策 を 実施 する こと が 重要 です 
45	セキュリティポリシ の 作成 を 含め た 組織 で の 情報 セキュリティ 管理 における 仕組み の 枠組み として 情報 セキュリティマネジメントシステム （ ISMS ） が あり ます 
45	ISMS に は 標準 が あり JIS Q 27001 （ ISO / IEC 27001 ） で は 認証 基準 が JIS Q 27002 （ ISO / IEC 27002 ） で は ガイドライン が 規定 さ れ て い ます 
45	日本 で は ISMS の 認定 制度 として JIS Q 27001 を 基準 と し た ISMS 適合 性 評価 制度 が あり ます 
46	暗号 化 
46	盗聴 や 盗難 紛失 など へ の 主要 な 対策 方法 として 暗号 化 が あり ます 
46	暗号 化 によって もと の データ （ 平文 ） を 解読 でき ない データ に 変換 でき ます 
46	また 暗号 化 さ れ た データ を もと の 平文 に 戻す こと を 復号 と いい ます 
46	暗号 化 で は 選択 する 暗号 化 アルゴリズム および 鍵 長 に 強固 な もの を 選択 する こと と 鍵 の 管理 を 厳格 に 行う こと が 特に 重要 です 
46	暗号 化 方式 
46	主 な 暗号 方式 を 示し ます 
46	通信 の 暗号 化 
46	通信 の 暗号 化 は 盗聴 に対する 主要 な 対策 です 
46	通信 の 暗号 化 プロトコル に は SSL / TLS （ Secure Socket Layer / Transport Layer Security ） や IPsec （ IP Security ） など が あり ます 
46	以下 に それら の 概要 を 示し ます 
46	SSL / TLS 　 TCP を 使用 し て いる HTTP や SMTP など を 暗号 化 する ため の プロトコル 
46	暗号 化 機能 の ほか に も サーバクライアント 認証 や 改ざん 検知 機能 も もつ 
46	なお TLS は SSL を 標準 化 し た プロトコル で ある 暗号 化 アルゴリズム で ある AES は TLS だけ で 使用 する こと が できる 
46	IPsec 　 IP パケット を 暗号 化 する ため の プロトコル 
46	主 に インターネット を 使い 仮想 的 な 専用 線 を 作る VPN （ Virtual Private Network ） を 構築 する 際 に 使用 さ れる 暗号 化 の ほか に も 認証 や 改ざん 防止 機能 も もつ 
46	データベース の 暗号 化 
46	機器 の 盗難 や ファイル の 盗難 に対する 主要 な 対策 として データベース の 暗号 化 が あり ます 
46	暗号 化 機能 は DBMS によって 対象 や 方法 が 異なり ます が 主 に 関数 による 列 の 単位 で の 暗号 化 データファイル の 暗号 化 バックアップ データ の 暗号 化 など が 提供 さ れ て い ます 
46	なお 関数 を 使用 する 方式 で は SQL 内 で 関数 を 呼び出す 必要 が あり ます 
46	その ため 既存 の アプリケーション が 使用 し て いる データベース の 暗号 化 を 行う に は アプリケーション の 変更 が 必要 に なり ます 
46	データベース の 監査 
46	外部 から の 不正 アクセス や 組織 の 内部 犯 により 情報 が 流出 し た 際 は 具体 的 に どの よう な もの が 流出 し た の か を 把握 する こと が 重要 です 
46	監査 機能 （ ログ ） を 使う こと により データベース へ の アクセス が い つ だれ によって どこ から 何 に対して 行わ れ その 結果 は どう だっ た の か を 記録 でき ます 
46	DBMS の 多く は 暗号 化 機能 と 同様 に 監査 機能 も 提供 し て おり ユーザ の アクセス の 履歴 を 監査 ログ として 記録 でき ます 
46	なお 監査 ログ を 取得 する 際 は データベース の 性能 が 低下 する ため 監査 対象 を 厳選 する など の 検討 が 必要 です 
47	ビッグ データ 
47	ビッグ データ の 定義 は 明確 に 示さ れ て い ませ ん が 「 従来 の 技術 で は 処理 し きれ ない ほど 膨大 で 多様 な データ 」 を 表す 言葉 として 使わ れ て い ます 
47	また その 膨大 な データ の 中 から 有用 な 情報 を 引き出し ビジネス や サービス に 活用 する こと を 含め て 使わ れる 場合 も あり ます 
47	一般 的 に ビッグ データ に は 3 つ の V で 表さ れる 特性 （ 3 V ） が ある と さ れ て い ます 
47	3 V 特性 を もつ データ が 急激 に 増え て き た 主 な 要因 は スマート フォン や 携帯 端末 など の モバイル デバイス の 普及 ソーシャルメディア の 発展 GPSIC カード など の センサ 情報 の 増大 によります 
47	また 情報 通信 技術 や ソフトウェア 技術 が 進展 し データ の 収集 蓄積 分析 が 従来 と 比べ て 容易 に なっ て き た こと クラウドコンピューティング が 普及 し 高価 な 設備 を もた なく て も 大量 の データ 処理 を 実現 できる よう に なっ て き た こと が ビッグ データ 活用 の 追い風 に なっ て い ます 
47	ビッグ データ の 活用 
47	膨大 な データ を さまざま な 視点 で 分析 する と 異変 の 察知 に 利用 できる データ や 近 未来 の 予測 に 使える 有用 な データ を 引き せる 場合 が あり ます 
47	その 有用 な データ を 用い て 消費 者 の ニーズ に 即し た サービス を 提供 する といった 新しい ビジネス を 創出 する こと に ビッグ データ の 意義 が ある と 考え られ て い ます 
47	それでは 具体 的 な ビッグ データ の 活用 例 を 見 て いき ましょ う 
47	消費 者 向け サービス の 向上 
47	最近 の Web の ショッピング サイト で は 消費 者 の 購買 履歴 を 分析 し て 最適 な 商品 を 推奨 する レコメンデーション が 行わ れ て い ます 
47	この レコメンデーション と 電子 看板 （ デジタルサイネージ ） を 組み合わせる と 自動 販売 機 の 付加 価値 を 向上 する こと が でき ます 
47	カメラ や センサ を 利用 し て 検出 し た 消費 者 の 属性 （ 性別 や 年齢 ） を 元 に 同じ 属性 の 過去 の 購買 履歴 を 分析 し 消費 者 の 好み に 合っ た もの を お薦め の 商品 として 電子 看板 に 表示 し ます 
47	新 発売 や キャンペーン 情報 と 合わせ て 表示 すれ ば 消費 者 の 意思 決定 を 支援 する サービス として 実現 でき ます 
47	企業 で の 事業 戦略 や リスク 対策 
47	顧客 の 声 の 中 に は 予想 も し なかっ た 良い 評価 も あれ ば 風評 被害 に つながる よう な 悪い イメージ を 与える もの も 含ま れ て いる 場合 が あり ます 
47	この ため 企業 で は ソーシャルネットワーキングサービス （ SNS ） で の 書き込み や ｅ コマースサイト の 口コミ 情報 つぶやき に 含ま れる 顧客 の 生 の 声 を 活用 しよ う という 取り組み が 始まっ て い ます 
47	これ により 自社 の 製品 や サービス に関する 評判 を いち早く 把握 し 新た な 事業 戦略 を 策定 する こと が できる よう に なり ます 
47	また 事業 に 影響 を 与え かね ない よう な 悪い うわさ が 広まっ て いる 場合 も いち早く 対策 を 講じる こと が できる よう に なり ます 
47	社会 インフラ へ の 活用 
47	政府 で は 電力 需給 の 安定 化 を 目標 に スマート メータ の 導入 を 進め て い ます 
47	スマート メータ と は 通信 機能 を 備え た 電力 メータ で 電力 会社 と 需要 者 の 間 を つない で 電力 使用 量 など の データ を やり取り し たり 需要 者 の 家電 製品 など と 接続 し 制御 し たり できる もの です 
47	これ により 電力 会社 で は 電力 需要 の 全体 を 予測 できる よう に なり 需給 バランス や 電力 使用 の 変化 に 合わせ て 料金 を 逐一 変更 する といった こと も 検討 できる よう に なり ます 
47	その ほか の 活用 として 交通 渋滞 の 緩和 犯罪 の 未然 防止 災害 回避 を 目的 と し た もの など さまざま な 分野 で の 取り組み が 進め られ て い ます 
47	ビッグ データ を 支える 技術 
47	ビッグ データ を 活用 する うえ で データ の 形式 や 種類 を 問わ ず 大量 の データ を すばやく 処理 する 基盤 技術 が 必要 です 
47	そして その 膨大 な データ の 中 から 価値 の ある 情報 を 見つける ため の 分析 技術 が 特に 重要 と 考え られ て い ます 
47	また 刻々 と 発生 する データ を リアルタイム で 処理 する 技術 も 必要 に なり ます 
47	データ 処理 基盤 
47	多様 な 大量 の データ を すばやく 処理 する ため に は 従来 の 関係 データベース 技術 を 補完 する ため の 異なる データベース 技術 が 必要 に なり ます 
47	これ は NoSQL （ Not only SQL ） と 総称 さ れ て い ます NoSQL の 中 に は キー と それ に 対応 する 値 の 組み合わせ だけ の データ 構造 を とり 大量 データ の 高速 な 検索 処理 を 実現 し て いる もの が あり ます 
47	また NoSQL で は 総じて 「 データ の 一貫 性 を 厳密 に 維持 でき ない 側面 が ある が スケール アウト が 容易 で パフォーマンス の 低下 が 少ない 」 という 特徴 が あり ます 
47	この 他 に も 大 規模 な データ 処理 を 分割 し て 並列 に 処理 する オープン ソース の ソフトウェア が あり 性能 や コスト 面 で 注目 さ れ て い ます 
47	高度 な 分析 技術 
47	膨大 な データ の 中 から 有用 な 情報 を 効率 的 に 引き出す という 点 で 重要 に なる の が 機械 学習 や 統計 解析 など の 技術 です 
47	口コミ 情報 や つぶやき の 分析 において は 言葉 の 意味 を 正しく 解釈 し 情報 を 発信 し た 人 の 感情 を とらえる 技術 が 必要 です 
47	ビッグ データ の 分析 で 使わ れる 技術 の 一部 を 記載 し ます 
47	ストリーム データ 処理 
47	次々 と 流れ て くる 大量 の データ （ ストリーム データ ） を リアルタイム に 処理 する 技術 は ストリーム データ 処理 複合 イベント 処理 （ CEP ： Complex Event Processing ） など と 呼ば れ て い ます 
47	CEP は メモリ 上 で 処理 する ため 非常 に 高速 に 動作 し ます 
47	また データ を すべて 処理 する の で なく 前回 の 処理 結果 と の 差分 のみ を 計算 する ため イベント の 発生 と 同時に 結果 を 出力 する こと が 可能 です 
47	ある 店舗 の 周辺 に いる 会員 顧客 に 向け て 商品 の 特価 情報 を メール で 通知 する 仕組み の 例 です 
47	事前 に データ マイニング や 統計 解析 で 会員 顧客 の 好み を 分析 し て おき その 分析 データ を ストリーム データ 処理 に 適用 する こと で 効率 的 に 情報 提供 できる よう に なり ます 
1	データベース スペシャリスト が 主 に 従事 する 業務 は どちら でしょ う か データベース の 企画 要件 定義 設計 構築 運用 管理 を おこなう プロジェクト マネジメント 計画 書 を 主導 的 立場 で 作成 する 
1	以下 の 記述 の うち 正しい もの は どれ でしょ う か DA （ データ 管理 者 ） は システム 開発 で は 上流 の 分析 ・ 設計 を 担当 する DBA （ データベース 管理 者 ） は データベース の 設計 を 担当 し システム 開発 で は 論理 設計 から 実装 まで の 中流 フェース を 担当 する データ モデリング 技法 に関する 知識 は DB スペシャリスト に は 求め られ て い ない 
1	以下 の 記述 の うち 正しい もの は どれ でしょ う か DA は データベース 管理 システム の 管理 業務 を 担当 する DBA と は 特定 の 目的 で 集約 し た データ を 検索 ・ 再 利用 できる よう に し た 仕組み の こと で ある DB スペシャリスト は DA の 役割 のみ を 担当 する 情報 システム における リポジトリ と は 情報 システム で 発生 する あらゆる 情報 を 一元 的 に 管理 する 仕組み の こと で ある 
2	以下 の 説明 の うち 正しい もの は どれ でしょ う か JIS X 0160 は ISO / IEC 12207 を もと に 日本 国内 の 組織 固有 の 文化 を 織り込ん で 作成 さ れ た ソフトウェア ライフサイクル は システム の 構想 から 開発 運用 保守 最終 的 に 破棄 さ れる まで の 過程 全体 を 示す 概念 で ある 共通 フレーム は 日本 版 SLCP を もと に 産業 界 で 必要 と さ れる プロセス や 作業 項目 を 追加 し た もの で ある 
2	データ 中心 アプローチ の 説明 で 適切 な もの は どれ でしょ う か システム 化 対象 と なる 業務 で 取り扱う データ （ 実体 エンティティ ） と 相互 の 関連 を 中心 に 詳細 化 する 進め方 で ある プログラム や データ その 組み合わせ など を オブジェクト （ もの 部品 ） として 捉え オブジェクト を 組み合わせ て システム を 構築 する 進め方 で ある 
2	データ 中心 アプローチ について 誤っ て いる もの は どれ でしょ う か E - R 図 が 使用 さ れる 事 が 多い UML の クラス 図 で は E - R 図 に 相当 する 表現 が でき ない 業務 で 取り扱う データ と 相互 の 関連 を 中心 に 設計 を すすめる E - R 図 に は 様々 な 表記 法 が 存在 し て いる 
3	データベース スペシャリスト が 作成 する 計画 は どれ でしょ う か データベース の 全体 計画 要員 配置 計画 
3	概念 CDM に関する 説明 の うち 正しい もの は どれ でしょ う か 概念 CDM は システム 開発 プロジェクト に 参加 する メンバ しか 参照 し ない 概念 CDM を 作成 し て おけ ば 重複 に なる ため 組織 全体 の 用語 集 は 不要 で ある 概念 CDM は 1 度 作成 すれ ば 良い システム 開発 プロジェクト にて 概念 CDM を もと に 概念 PDM を 作成 し ない 場合 が ある 
3	データベース スペシャリスト が 標準 化 を 行う 対象 は どれ でしょ う か 社員 評価 基準 コード 体系 契約 書 
4	現状 調査 における DB スペシャリスト の 役割 について 正しい 説明 は どれ でしょ う か 現状 調査 や 課題 分析 など で は 問題 分析 手法 の ファシリテータ といった 枠組み を 超え た 範囲 の 作業 も 担当 する データ 管理 に関する 現状 調査 以外 は 一切 おこなわ ない 
4	データベース の 要件 定義 の 際 に 収集 対象 と なら ない もの は どれ でしょ う か サービス 時間 帯 プロジェクト 計画 書 で 使用 する 文字 コード アプリケーション で 使用 する 文字 コード 
4	非 機能 要求 グレード について 正しい 説明 は どれ でしょ う か 非 機能 要件 を 漏れ なく 収集 する ため に 非 機能 要求 グレード を 活用 する プロジェクト の 予実 差分 を 把握 し 是正 措置 を 取る 際 の 判断 材料 の ため の ツール で ある 確定 し た システム の 境界 に対して ハードウェア を 含め た システム 全体 の アーキテクチャ を 決定 する ため の もの で ある 組織 に 存在 する データベース の 中長期 的 な 運用 移行 計画 を 立案 する ため の もの で ある 
5	関係 DB の 特徴 について の 記述 は どれ でしょ う か テキスト 画像 映像 音声 など の データ を 格納 する こと が できる DB で ある データ 集合 の 関連 を 階層 構造 で 表現 管理 する DB で ある データ と 手続き を カプセル 化 し 一体 として 扱う こと が できる DB で ある データ 集合 を テーブル 構造 で あらわし テーブル 間 の 関連 を 1 対 11 対 多 （ 多 対 1 ） の 関係 で あらわす こと が できる DB で ある 
5	以下 の うち データ 中心 アプローチ で データ モデリング を 行う 際 の 正しい 設計 順序 は どれ でしょ う か 階層 型 データモデル → 関係 データモデル → オブジェクト 指向 データモデル 概念 スキーマ → 外部 スキーマ → 内部 スキーマ 概念 データモデル → 論理 データモデル → 物理 データモデル 
5	ANSI / SPARC 3 層 スキーマ の 要素 として 正しい もの は どちら でしょ う か 概念 スキーマ 外部 スキーマ 内部 スキーマスキーマサブスキーマ 記憶 スキーマ 
6	以下 の 用語 の うち すべて 同じ もの を 表し て いる もの は どれ でしょ う か カラム アトリビュート 組 タプル 属性 ドメイン 列 定義 域 関係 リレーション 表 テーブル 
6	NULL に関する 以下 の 記述 の うち 正しい もの は どれ でしょ う か 整数 型 の NULL は 数字 の ゼロ “ 0 “ を 使用 する 一般 の ユーザ が データ の 属性 値 として NULL を 格納 する こと は でき ない NULL は 対象 値 が 不明 未知 もしくは 適用 不能 で ある 場合 に 使用 する 真偽 値 型 以外 の 属性 に NULL を 格納 する こと が でき ない 
6	論理 データモデル について の 記述 の うち 正しい もの は どれ でしょ う か 完成 し た 論理 データモデル は データベース 上 で 実現 可能 な モデル で ある 論理 データモデル を 作成 する 際 に は データベース の 種類 が 確定 し て い ない 
7	候補 キー の 説明 として 正しい もの は どちら でしょ う か 候補 キー は 一つ だけ しか 存在 し ない 候補 キー は 複数 存在 する 場合 が ある 
7	以下 の 項目 の うち 主 キー で は ない もの は どれ でしょ う か 一意 で ある 属性 値 は NULL で も よい 複合 キー で あっ て も よい 
7	以下 の 組み合わせ の うち 同じ 意味 で は ない もの は どれ でしょ う か 代理 キー と 2 次 キー 代替 キー と 代理 キー 代理 キー と 代用 キー 代替 キー と 2 次 キー 
8	属性 「 学籍 番号 」 の 値 が 決まる と 属性 「 氏名 」 の 値 が 決まる とき 以下 の どちら の 記述 が 正しい でしょ う か 「 学籍 番号 」 は 「 氏名 」 に 関数 従属 する 「 氏名 」 は 「 学籍 番号 」 に 関数 従属 する 
8	関係 従属 性 の 公理 で は ない もの は 以下 の うち どれ でしょ う か 反射 律 添加 律 追加 律 
8	以下 の 関数 従属 性 に関する 規則 の うち 正しい もの は どれ でしょ う か ただし XYZ は ある 関係 の 属性 集合 X → Y は 関数 従属 性 を 表し ます X → Z かつ Y → Z が 成立 する なら ば X → Y が 成立 する { X Z }→{ Y Z } が 成立 する なら ば X → Y が 成立 する X が Y の 部分 集合 で ある なら ば X → Y が 成立 する X →{ Y Z } が 成立 する なら ば X → Y かつ X → Z が 成立 する 
9	正規 化 について の 記述 の うち 誤っ て いる もの は どれ でしょ う か 定め られ た ルール に したがっ て 表 を 設計 する こと データ の 一貫 性 と 整合 性 を 維持 可能 な 構造 に 変換 する 正規 化 は 必ず 実施 し なく て は なら ない 
9	非 正規 形 に関する 記述 の うち 誤っ て いる もの は どれ でしょ う か 非 正規 形 で ある 表 は データ が 重複 し て 存在 する 場合 が 多い 非 正規 形 で ある 表 を 扱う アプリケーション は 複雑 に なる 場合 が 多い 非 正規 形 で ある 表 は 更新 時 異状 を 発生 さ せる 可能 性 が 高い 非 正規 形 で ある 表 は 繰り返し 属性 が ない 
9	第 1 正規 形 は どちら でしょ う か 繰り返し 属性 の ある 表 繰り返し 属性 の ない 表 
10	第 2 正規 形 の 定義 について 正しい 記述 は どちら でしょ う か 部分 関数 従属 性 が 存在 し ない 第 1 正規 形 で ある 表 を 第 2 正規 形 という 部分 関数 従属 性 が 存在 する 第 1 正規 形 で ある 表 を 第 2 正規 形 という 
10	部分 関数 従属 性 の 説明 の うち 正しい もの は どれ でしょ う か 候補 キー の 一部 に 関数 従属 する 非 キー 属性 が 存在 する 場合 その 表 は 部分 関数 従属 し て いる という 候補 キー に 関数 従属 する 非 キー 属性 の 一部 が 存在 する 場合 その 表 は 部分 関数 従属 し て いる という 非 キー 属性 の 一部 に 関数 従属 する 候補 キー が 存在 する 場合 その 表 は 部分 関数 従属 し て いる という 非 キー 属性 に 関数 従属 する 候補 キー の 一部 が 存在 する 場合 その 表 は 部分 関数 従属 し て いる という 
10	第 2 正規 化 に関する 記述 の うち 正しい もの は どれ でしょ う か 第 2 正規 化 を おこなう に は 表 から 部分 関数 従属 性 を 排除 する 第 2 正規 化 を おこなう に は 表 から 完全 関数 従属 性 を 排除 する 第 2 正規 化 を おこなう に は 表 から 推移 的 関数 従属 性 を 排除 する 
11	第 3 正規 形 の 定義 として 正しい 記述 は どちら でしょ う か 第 2 正規 形 で あり すべて の 非 キー 属性 が いかなる 候補 キー に も 推移 的 に 関数 従属 し ない 表 を 第 3 正規 形 という 第 2 正規 形 で あり すべて の 非 キー 属性 が いかなる 候補 キー の 一部 に も 推移 的 に 関数 従属 し ない 表 を 第 3 正規 形 という 
11	以下 の どの 条件 を 満たす 場合 「 Z は X に 推移 的 に 関数 従属 する 」 と いえる でしょ う か X → YY → X で ある が Y → Z を 満たさ ない 属性 X Y （ X Y の 一部 で は ない ） Z が 存在 する X → YX → Z で ある が Y → Z を 満たさ ない 属性 （ Y Z の 一部 で は ない ） X Y Z が 存在 する X → YY → Z で ある が Y → X を 満たさ ない 属性 X Y （ Y の 一部 で は ない ） Z が 存在 する 
11	第 3 正規 化 作業 で 実施 する こと は 以下 の うち どれ でしょ う か 繰り返し 属性 を 排除 する 部分 関数 従属 性 を 排除 する 完全 関数 従属 性 を 排除 する 推移 的 関数 従属 性 を 排除 する 
12	ボイス・コッド 正規 形 で ある 表 の 条件 として 正しい 記述 は どちら でしょ う か 表 の 中 の すべて の 関数 従属 性 が 自明 な 関数 従属 性 で ある か 決定 項 が スーパー キー か の どちら か 表 の 中 の すべて の 関数 従属 性 が 自明 で は ない 関数 従属 性 で ある か 決定 項 が スーパー キー か の どちら か 
12	自明 な 関数 従属 性 に関する 記述 の うち 正しい もの は どれ でしょ う か XYZ は 属性 もしくは 属性 の 集合 と し X → Y は 「 Y は X に 関数 従属 」 し て いる こと を 表し ます Y が X の 部分 集合 で ある 関数 従属 X → Y の こと X が Y の 部分 集合 で ある 関数 従属 X → Y の こと X → Y かつ Y → Z が 成立 する とき X → Z の こと 
12	第 4 正規 化 作業 で 実施 する こと は 以下 の うち どれ でしょ う か 部分 関数 従属 性 を 排除 する 推移 的 関数 従属 性 を 排除 する 自明 で ない 関数 従属 性 を 排除 する 自明 で ない 多値 従属 性 を 排除 する 
13	関係 代数 における 差 演算 について 正しい 記述 は どちら でしょ う か 演算 記号 として 「 ∩」 を 使用 する 一方 の 表 から 他方 の 表 に ある 同じ 行 を 取り除く 演算 の こと で ある 左辺 と 右辺 を 入れ替え て も 結果 は 同じ で ある 
13	関係 代数 における 和 演算 について 正しい 記述 は どちら でしょ う か 二つ の 表 の いずれ か に 含ま れる もの を すべて まとめる 演算 の こと で ある 両方 の 表 に 存在 する 行 を 取り出す 演算 の こと で ある 
13	以下 の 二つ の 表 （ 関係 スキーマ ） に対し 直積 演算 （ 注文 × 商品 ） を 実行 し た 結果 の 属性 の 順序 は 左 から どの よう に 並ぶ か 以下 の 選択肢 から 一つ 選ん で 下さい 選択肢 は 同じ 属性 名 の 場合 表 の 名称 と 属性 名 の 間 に 「.」 を つけ て 表現 し て い ます 注文 （ 注文 番号 顧客 番号 商品 番号 数量 ） 商品 （ 商品 番号 商品 名 ） 注文 番号 顧客 番号 数量 注文 番号 顧客 番号 商品 番号 数量 商品 名 注文 番号 顧客 番号 注文 . 商品 番号 数量 商品 . 商品 番号 商品 名 注文 注文 番号 顧客 番号 注文 . 商品 番号 数量 商品 商品 . 商品 番号 商品 名 
14	関係 代数 の 射影 演算 に関する 記述 の うち 正しい もの は どれ でしょ う か 一つ の 表 の 中 から 指定 し た 列 を 取り出す 演算 で ある 一つ の 表 の 中 から 指定 し た 比較 条件 を 満たす 行 を 取り出す 演算 で ある 
14	関係 代数 の 選択 に関する 記述 の うち 正しい もの は どれ でしょ う か 演算 結果 は 指定 し た 属性 のみ で 構成 さ れる 属性 名 を 使っ た 比較 条件 は 指定 でき ない 演算 対象 の 表 の 中 に 比較 条件 に 合致 する 行 が ない 場合 結果 は 0 件 と なる 
14	以下 の 二つ の 表 （ 関係 スキーマ ） に対し 商 演算 （ 注文 ÷ 商品 ） を 実行 し た 結果 の 属性 の 順序 は 左 から どの よう に 並ぶ か 以下 の 選択肢 から 一つ 選ん で 下さい 選択肢 は 同じ 属性 名 の 場合 表 の 名称 と 属性 名 の 間 に 「.」 を つけ て 表現 し て い ます 注文 （ 注文 番号 顧客 番号 商品 番号 数量 ） 引当 商品 （ 商品 番号 数量 ） 商品 番号 数量 注文 番号 顧客 番号 注文 番号 顧客 番号 商品 番号 数量 注文 番号 顧客 番号 注文 . 商品 番号 注文 . 数量 引当 商品 . 商品 番号 引当 商品 . 数量 
15	関係 代数 における θ 結合 （ 結合 内部 結合 内 結合 ） の 説明 の うち 正しい 記述 は どちら でしょ う か 二つ の 表 を 一つ に 結びつけ 指定 し た 比較 条件 を 満たす 行 を 取り出す 演算 の こと 一つ の 表 の 中 から 指定 し た 比較 条件 を 満たす 行 を 取り出す 演算 の こと 
15	以下 の 二つ の 表 （ 関係 スキーマ ） 「 注文 」 と 「 商品 」 に対し 「 商品 番号 が 等しい 」 という 比較 条件 で 自然 結合 を 実行 し た 結果 の 属性 の 順序 は 左 から どの よう に 並ぶ か 以下 の 選択肢 から 一つ 選ん で 下さい 選択肢 は 同じ 属性 名 の 場合 表 の 名称 と 属性 名 の 間 に 「.」 を つけ て 表現 し て い ます 注文 （ 注文 番号 顧客 番号 商品 番号 数量 ） 商品 （ 商品 番号 商品 名 ） 注文 番号 顧客 番号 商品 番号 数量 注文 番号 顧客 番号 商品 番号 数量 商品 名 注文 番号 顧客 番号 注文 . 商品 番号 数量 商品 . 商品 番号 商品 名 
15	関係 代数 における 左 外部 結合 の 説明 の うち 正しい 記述 は どれ でしょ う か 左 外部 結合 の 結果 の 件数 は 左辺 表 の 件数 と 同じ に なる 左 外部 結合 の 結果 の 件数 は 右辺 表 の 件数 と 同じ に なる 左 外部 結合 の 結果 の 件数 は 左辺 表 と 右辺 表 の 積 演算 結果 と 同じ 件数 と なる 左 外部 結合 の 結果 の 件数 は 左辺 表 と 右辺 表 の 直積 演算 結果 と 同じ 件数 と なる 
16	データベース の 分析 ・ 設計 における 概念 設計 論理 設計 物理 設計 それ それ で 作成 する スキーマ の 組み合わせ の うち 正しい もの は どれ でしょ う か コロン 「 ： 」 の 前 が 設計 の 段階 右側 が 設計 対象 と なる スキーマ の 名称 です 概念 設計 ： 概念 スキーマ → 論理 設計 ： 概念 スキーマ 内部 スキーマ → 物理 設計 ： 概念 スキーマ 外部 スキーマ 内部 スキーマ 概念 設計 ： 概念 スキーマ → 論理 設計 ： 概念 スキーマ 外部 スキーマ → 物理 設計 ： 概念 スキーマ 外部 スキーマ 内部 スキーマ ・ 概念 設計 ： 外部 スキーマ → 論理 設計 ： 外部 スキーマ 内部 スキーマ → 物理 設計 ： 概念 スキーマ 外部 スキーマ 内部 スキーマ 概念 設計 ： 外部 スキーマ → 論理 設計 ： 概念 スキーマ 外部 スキーマ → 物理 設計 ： 概念 スキーマ 外部 スキーマ 内部 スキーマ 
16	データ モデリング における トップダウン アプローチ に関する 以下 の 記述 の うち 正しい もの は どれ でしょ う か 具体 的 な 画面 や 帳票 など 個々 の 詳細 な データ 項目 を 洗い出し データ 項目 の まとまり を 検討 し て 段階 的 に 抽象 化 し て いく 方法 の こと で ある システム 化 対象 範囲 全体 の 大まか な データ 構造 を 検討 し 必要 な データ の まとまり へ と 細分 化 し 保持 する データ 項目 へ 更に 詳細 化 し て いき データモデル を 構築 し て いく 方法 の こと で ある プログラム や データ その 組み合わせ など を オブジェクト （ もの 部品 ） として 捉え オブジェクト を 組み合わせ て システム を 構築 する 進め方 の こと で ある 
16	システム の 機能 と データ 操作 を 対応付け データ の ライフサイクル に 矛盾 が ない か を 確認 する データベース 検証 方法 は 以下 の うち どちら でしょ う か ロバストネス 分析 CRUD 分析 
17	「 データ 間 の 関連 を モデル 化 し た 図 もしくは その 手法 の 総称 」 は どちら でしょ う か UMLE - R 図 
17	一方 の エンティティ タイプ の ある インスタンス から 見 て 他方 の エンティティ タイプ に 対応 する インスタンス が 必ず 存在 する 場合 リレーションシップ を あらわす 線 の 対応 先 側 （ 他方 側 ） に つける E - R 図 の 記号 は 以下 の どちら でしょ う か 本 設問 で は DB 試験 に 使用 さ れる E - R 図表 記法 を 用いる こと と し ます ○ ● △ 
17	DB 試験 における E - R 図 の 表記 法 について 正しい もの は どれ でしょ う か エンティティ タイプ の 長方形 内 を 上下 二 段 に 分割 し 上段 に “ エンティティ タイプ 名 “ 下段 に “ 属性 名 の 並び “ を 記入 する 外部 キー を あらわす 場合 は 外部 キー を 構成 する 属性 名 または 属性 名 の 組 に “ 実線 “ の 下線 を つける “ スーパー タイプ “ の 切り口 の 単位 に △ を 記入 し “ サブ タイプ “ から △ に 1 本 の 線 を 引く 1 対 多 の リレーションシップ を あらわす 線 は “ 1 “ 側 に 矢 を つける 
18	他 の 表 の 行 データ が どの よう な 値 で あっ て も 自身 の 行 データ が 存在 可能 な 表 （ エンティティ ） の 呼び 方 として 誤っ て いる もの は どれ でしょ う か 強 実体 弱 実体 正 実体 通常 実体 
18	最終 的 な データモデル に は 多 対 多 の 構造 は あまり 現れ ませ ん その 理由 として 正しい 記述 は どちら でしょ う か 多 対 多 構造 を 関係 データベース の 機能 を 用い て 実現 する こと が でき ない ため システム 化 対象 範囲 の ルール は すべて 1 対 多 の 関係 で 表す こと が できる ため 
18	ある 塾 で は 一 人 の 生徒 に対し 一 人 の 講師 を 割り当てる 個人 指導 を 行っ て いる この とき の 生徒 と 講師 の 関係 は 以下 の うち どれ でしょ う か 1 対 11 対 多多 対 多 
19	データモデル 上 に 多 対 多 構造 が 表れ た 場合 リレーションシップ の 中間 に エンティティ を 作成 し て 1 対 多 対 1 の 構造 に 変換 し ます この 時 作成 する エンティティ の 名称 を 何と 呼ぶ でしょ う か 関連 エンティティ 連関 エンティティ 
19	ある フィットネスクラブ の 会員 に は 男性 会員 女性 会員 が い ます 会員 男性 会員 女性 会員 という 三つ の エンティティ を スーパー タイプ ・ サブ タイプ の リレーションシップ で 表現 する 場合 スーパー タイプ と なる エンティティ は どれ でしょ う か 会員 男性 会員 女性 会員 
19	ある 企業 の 販売 する 商品 に は 個人 向け と 法人 向け の 二 種類 が あり ます 個人 向け 商品 法人 向け 商品 以外 の 商品 は 存在 し ませ ん が 個人 向け 商品 で あり かつ 法人 向け 商品 は 存在 し ます 以下 の 記述 の うち 正しい もの は どれ でしょ う か 個人 向け 商品 法人 向け 商品 は 排他 的 で あり 完全 で ある 個人 向け 商品 法人 向け 商品 は 排他 的 で あり 不完全 で ある 個人 向け 商品 法人 向け 商品 は 共存 的 で あり 完全 で ある 個人 向け 商品 法人 向け 商品 は 共存 的 で あり 不完全 で ある 
19	ある 企業 の サービス は 有料 サービス と 無料 サービス の 二つ に 分類 する こと が できる データモデル を 作成 する 場合 有料 サービス 無料 サービス を 表現 する 方法 は どちら でしょ う か サービス の サブ タイプ として 有料 サービス 無料 サービス を 定義 する 個別 に エンティティ を 作成 し サービス と は リレーションシップ を 結ば ない 
20	ある エンティティ に対して 分類 を あらわす エンティティ を サブ タイプ として 表現 し まし た 以下 の 記述 の うち 正しい もの は どれ でしょ う か ただし データモデル の 作成 は 初期 段階 で 今後 リレーションシップ が 増える 可能 性 が ある 状態 と し ます 表記 し た 分類 に対して 排他 的 か 共存 的 か を 分析 する 必要 は ある が 完全 か 不完全 か を 分析 する 必要 は ない 表記 し た 分類 に対して 完全 か 不完全 か を 分析 する 必要 は ある が 排他 的 か 共存 的 か を 分析 する 必要 は ない 表記 し た 分類 に対して 排他 的 か 共存 的 か 完全 か 不完全 か を 分析 し て おき リレーションシップ を 張る 際 に 最適 な エンティティ を 選択 できる よう に する 
20	データモデル の 作成 に関する 以下 の 記述 の うち 誤っ て いる もの は どれ でしょ う か 企業 の 部署 構造 など データモデル 上 に 頻出 する モデル の パターン を 理解 し て おけ ば 今後 データモデル 作成 の 際 に 活用 できる 可能 性 が ある データ モデリング は 過去 の 経験 が もっとも 重要 で ある ため 未 経験 者 は 作業 に 参加 し て は なら ない よく データモデル 上 に 登場 する パターン を 学習 し て おけ ば 今後 データモデル 作成 の 際 に 活用 できる 可能 性 が ある 過去 の 経験 習得 し た 知識 や パターン を 活用 する こと で より 早く 正確 な モデル を 作成 する こと が できる 
21	SELECT は DMLDDL どちら に 属する SQL でしょ う か DMLDDL 
21	関係 演算 の 選択 に 対応 する SELECT 文 内 の 句 は 次 の うち どれ でしょ う SELECT 句 FROM 句 WHERE 句 
21	SELECT 文 の SELECT 句 内 で 指定 でき ない もの は 次 の うち どれ でしょ う か 文字 列 * 関数 % 
22	CASE 式 の 説明 の うち 適切 な の は 次 の うち どれ でしょ う か 条件 分岐 が できる 繰り返し が できる 
22	DISTINCT の 説明 の うち 適切 な の は 次 の うち の どちら でしょ う か ユニーク な 値 を 取得 できる NULL を 文字 列 や 数値 に 置き換え られる 別名 を つけ られる 
22	「 A 」 表 の 「 個数 」 列 の 値 が 556 NULL 7889 の とき SELECT COUNT ( DISTINCT 個数 ) FROM A の 結果 の うち 正し も は どれ でしょ う か 876 5 
23	比較 演算 子 の うち 「 <>」 の 意味 は 次 の うち どれ でしょ う か 等しい 等しく ない 
23	WHERE A BETWEEN 10 AND 20 　 と 同じ 結果 に なる もの は 次 の うち ど でしょ う か WHERE A >= 10 AND A <= 20 WHERE A > 10 AND A < 20 WHERE A < 10 AND A > 20 
23	次 の うち ① NOT ② AND ③ OR の 評価 の 優先 順 で 正しい もの は 次 の うち どれ でしょ う か ① NOT →② AND →③ OR ① NOT →③ OR →② AND ② AND →③ OR →① NOT ③ OR →② AND →① NOT 
24	各行 の 値 が １ 735 の 列 A に対して 「 ORDER BY A 」 を 実行 し た 結果 は 次 の うち どれ でしょ う か 753117531357 
24	次 の SQL の うち 各 句 の 並び方 で 誤っ て いる もの は どれ でしょ う か SELECTFROMWHEREGROUP BYHAVINGSELECTFROMORDER BYGROUP B Y S E L E C TFROMSELECTFROMWHEREORDER BY 
24	HAVING で 行える こと は 次 の うち どれ でしょ う か グループ 単位 の 集計 結果 に対して 条件 による 絞り込み を 行う グループ を 作成 する 
25	次 の SELECT 文 の うち 実行 でき ない もの は どれ でしょ う か SELECT * FROM A B WHERE A . X = B . YSELECT * FROM A A WHERE A . X = A . ZSELECT * FROM A FULL OUTER JOIN B ON A . X = B . YSELECT * FROM A INNER JOIN B ON A . Y = B . Z 
25	LEFT OUTER JOIN を 使用 し て 結合 し た とき の 結果 について 正しい もの は どれ でしょ う か 左側 に 指定 し た 表 が 結合 条件 に 一致 し ない 行 も 残す 表 に なる 結合 条件 に 指定 し た 列 の 値 が 互い の 表 に 一致 する 行 だけ が 取り出さ れる 
25	自己 結合 の 説明 の うち 正しい もの は どれ でしょ う か 内部 結合 （ INNER JOIN ） で のみ 使用 できる 結合 列 の 記述 を 省き 結合 列 の 重複 を 除い た 形 で 結合 できる 同じ 表 同士 を 結合 する こと で ある 
26	副 問合せ の 説明 の うち 最も 適切 な の は どれ でしょ う か INSERT 文中 に SELECT 文 を 記述 し た もの FROM 句 に 複数 の 表 を 指定 し た もの 
26	次 の SELECT 文 の うち 相関 副 問合せ を 使用 し て いる もの は どれ でしょ う か SELECT X . A FROM X WHERE X . A = ( SELECT SUM ( Y . A ) FROM Y WHERE Y . B = X ) SELECT X . A FROM X WHERE X . A IN ( SELECT Y . A FROM Y WHERE Y . B = X . B ) SELECT X . A FROM X WHERE EXISTS ( SELECT * FROM Y WHERE Y . B = X ) 
26	属性 （ XY ） を 持つ A 表 が 存在 し ます A 表 の 値 が （ 1 ぶどう ） （ ２ いちご ） （ ３ りんご ） の 3 件 の とき 次 の SELECT 文 の うち 結果 が （ 1 ぶどう ） （ ２ いちご ） と なる もの は どれ でしょ う か SELECT A 1 . X A 1 . Y FROM A A 1 WHERE A 1 . Y IN ( SELECT A 2 . Y FROM A A 2 WHERE A 2 . X > 2 ) SELECT A 1 . X A 1 . Y FROM A A 1 WHERE EXISTS ( SELECT * FROM A A 2 WHERE A 1 . Y = A 2 . Y ) SELECT A 1 . X A 1 . Y FROM A A 1 WHERE A 1 . X <= ( SELECT AVG ( A 2 . X ) FROM A A 2 ) SELECT A 1 . X A 1 . Y FROM A A 1 WHERE A 1 . X <= ( SELECT A 2 . X FROM A A 2 WHERE A 2 . Y = りんご ) 
27	UNION ALL の 説明 の うち 正しい もの は どれ でしょ う か 重複 する 行 は 排除 さ れ た 形 で 連結 さ れる 重複 する 行 は 残し た まま 連結 さ れる 
27	次 の SQL の うち 正しい SQL は どれ でしょ う か SELECT A FROM X ORDERY BY ASC UNION SELECT A FROM Y ORDERY BY ASCINSERT INTO X ( SELECT * FROM Y WHRE Y . A = X ) SELECT A FROM X ORDERY BY EXCEPT SELECT A FROM YDELETE FROM X ( SELECT * FROM Y WHRE Y . A = X ) 
27	SQL に関する 説明 の うち 正しく ない もの は どれ でしょ う か SQL で 表 と 表 の 直積 を 行う に は CROSS JOIN を 用いる UPDATE 文 内 で は SELECT が 使用 できる DELETE 文 は 必ず WHERE 句 を 記述 し なけれ ば なら ない 
28	埋込み SQL において 「 プログラム 実行 前 に あらかじめ SQL を 解析 し て おく 方式 」 は どれ でしょ う か 動的 SQL 静的 SQL 
28	カーソル を 定義 する 正しい 操作 は どれ でしょ う か CURSOR _ 1 OPENDECLARE CURSOR _ 1 CURSOR FOR < SELECT 文 > DECLARE CURSOR CURSOR _ 1 FOR < SELECT 文 > DECLARE CURSOR FOR CURSOR _ 1 < SELECT 文 > 
28	ストアドプロシージャ の 説明 の うち 正しく ない もの は どれ でしょ う か ネットワーク 通信 量 の 低減 が 行える セキュリティ の 向上 が 図れる DBMS の 障害 を 抑止 できる 
29	CREATE DOMAIN 文 で 作成 する ドメイン について 正しい もの は 次 の うち どれ でしょ う か 表 の 列 定義 に 使用 できる 表 の 列 の デフォルト 値 を 定義 できる 
29	マテリアライズドビュー の 説明 の うち 正しい もの は どれ でしょ う か マテリアライズドビュー は データ （ 実体 ） を 持た ない 同期 の タイミング を リアルタイム に 近づける ほど 基底 表 に対する 更新 処理 は 遅く なる あらかじめ 通常 の ビュー を 作成 し て おく 必要 が ある 
29	ビュー の 説明 の うち 正しく ない もの は どれ でしょ う か ビュー は 他 の ビュー を 基 に 作成 できる ビュー を 作成 する こと により ユーザ の 操作 を 容易 化 できる ビュー を 作成 する こと により 表 の 特定 の データ だけ を ユーザ に 提供 できる ビュー を 作成 する こと により SQL の 実行 を 高速 化 できる 
30	GRANT 文 の WITH GRANT OPTION の 説明 の うち 正しい もの は どれ でしょ う か 与え られ た 権限 を 他 の ユーザ に 付与 できる 複数 の オブジェクト に まとめ て 権限 を 付与 する 際 指定 する 
30	権限 の 説明 の うち 誤っ て いる の は どれ でしょ う か 付与 できる 権限 は 対象 の オブジェクト によって 異なる PUBLIC は すべて の ユーザ を 示す 特別 な ユーザ で ある 表 の データ へ の 詳細 な アクセス 制御 を 行う に は ビュー を 用いる ビュー に し て SELECT を 実行 する に は 基底 表 に対する SELECT 権限 と ビュー に対する SELECT 権限 が 必要 で ある 
30	ロール を ユーザ へ 紐 づける ため の GRANT 文 の うち 正しい もの は どれ でしょ う か GRANT < ロール > TO < ユーザ > GRANT TO < ロール > < ユーザ > GRANT < 権限 > ON < ユーザ > TO < ロール > 
31	表 TBL _ A の COL 1 列 に 主 キー 制約 を 設定 し まし た 表 TBL _ A の COL 1 列 に データ 321 の 3 件 が 格納 さ れ て いる とき 次 の SQL の うち 実行 が 成功 する もの は どれ でしょ う か INSERT INTO TBL _ A ( COL 1 ) VALUES ( NULL ) UPDATE TBL _ A SET COL 1 = 2 WHERE COL 1 = 3 UPDATE TBL _ A SET COL 1 = 4 WHERE COL 1 = 1 INSERT INTO TBL _ A ( COL 1 ) VALUES ( 3 ) 
31	一意 性 制約 の 説明 うち 正しい もの は どれ でしょ う か 重複 値 と NULL の 格納 を 禁止 する 重複 値 の 格納 を 禁止 し NULL の 格納 は 禁止 し ない 
32	表 TBL _ A の COL 1 列 に データ 321 の 3 件 が 格納 さ れ て い ます TBL _ B 表 の COL 1 列 に TBL _ A 表 の COL 1 列 に対する 参照 制約 を 設定 し た とき TBL _ B 表 の COL 1 列 に 挿入 でき ない もの は どれ でしょ う か NULL 14 
32	「 社員 明細 」 表 の 「 社員 番号 」 列 に 「 社員 」 表 の 「 社員 番号 」 列 に対する 参照 制約 を 設定 し ます 「 社員 」 表 の データ が 削除 さ れ た 際 「 社員 明細 」 表 の 関連 する データ も 削除 さ れる よう に し ます この とき SQL 文 に 指定 する キーワード として 適切 な もの は 次 の うち どれ でしょ う か CASCADEINTERSECTSET NULLDECLARE 
32	表明 の 説明 の うち 正しい もの は どれ でしょ う か CREATE ASSERTION 文 で 作成 する REFERENCES を 使い 設定 する 
33	B + TREE 索引 の 特徴 として 正しい の は どれ でしょ う か 範囲 検索 と 完全 一致 検索 で 使用 できる 完全 一致 検索 で だけ 使用 できる 
33	B + TREE 索引 の 説明 の うち 誤っ て いる の は どれ でしょ う か 木 構造 の 索引 で ある 対象 列 の データ の 種類 は 少ない 方 が 検索 速度 は 速く なる 特定 の データ を 取得 する 場合 データ 量 が 多い ほど 表 を 直接 読み込む より 索引 を 使用 し た 検索 の 方 が 高速 に なる 表 データ へ の ポインタ は リーフ ノード だけ が 持つ 
33	ビット マップ 索引 の 説明 の うち 誤っ て いる の は どれ でしょ う か データ 量 が 多く データ の 種類 が 少ない 列 に 有効 索引 を 使い ビット 演算 が 行える 1 つ の 表 に １つ だけ 作成 できる 
34	ACID の 説明 として 正しい もの は どれ でしょ う か SQL 実行 の ため の 規約 で ある トランザクション が 満足 す べき 特性 の こと で ある 業務 アプリケーション 作成 時 の コーディング ルール で ある 
34	ACID の 独立 性 ( Ｉsolation ) に関する 記述 として 適切 な もの は どれ でしょ う か どの よう な 場合 において も データ の 整合 性 （ 一貫 性 ） を 保た ね ば なら ない 実行 完了 後 に 何らかの 障害 が 発生 し た として も 一旦 コミット し た データ は 失っ て は なら ない 一連 の 処理 は すべて 行わ れる か まったく 行わ れ ない か いずれ か の 観点 から 実行 さ れ ね ば なら ない 複数 同時に 実行 さ せ た 場合 に も 互い の 処理 が 影響 を 与え ず 逐次 実行 さ れ た か の よう な 結果 を 得る 
34	トランザクション 処理 を 取り消す ため の SQL は どれ でしょ う か ROLLBACKDELETE 
35	トランザクション を 順番 に 実行 し た 場合 と 同じ 結果 が 得 られる よう に 並列 実行 する スケジュール を 何と いう でしょ う か 並列 化 可能 スケジュール 直列 化 可能 スケジュール 
35	同時 実行 制御 の 方式 として データ 参照 時刻 更新 時刻 を 競合 判定 の ため の データ として 記録 し トランザクション 開始 時刻 と 比較 し て 判定 する 方式 は どれ でしょ う か 時刻 印 方式 楽観 的 方式 ロック 方式 
35	トランザクション T 1 が データ D を ロック し て いる 状態 で トランザクション T 2 が 同じ データ D に ロック を かけ に いき ます この 時 T 1 T 2 が なり うる 状態 として 適切 な もの は どれ でしょ う か ？ T 1 は ロールバック T 2 が D を ロック T 1 は D を ロック し た まま T 2 は ロールバック T 1 は D を ロック し た まま T 2 は ロック 待ち T 1 は コミット T 2 が D を ロック 
36	データ の 書き込み を 行う 場合 に 使用 する ロック は どれ でしょ う か 共有 ロック 占有 ロック 
36	ロック の 粒 度 が 小さい 場合 の 記述 として 適切 な もの は どれ でしょ う か ロック 待ち や デッドロック が 発生 する 頻度 が 増大 する 大量 の 更新 を 行っ た 場合 でも ロック を 管理 する ため の DBMS の 負荷 は 減少 する ロック 待ち や デッドロック が 発生 する 頻度 は 減少 する 
36	2 相 ロッキング プロトコル について 正しい 記述 は どれ でしょ う か ロック 待ち を 抑制 する ため の 規約 で ある 共有 ロック 占有 ロック の 使い方 に関する 規約 で ある デッドロック を 抑制 する ため の 規約 で ある トランザクション の 直列 化 可能 性 を 保証 する ため の ロック 操作 に関する 規約 で ある 
37	デッドロック に関する 記述 で 正しい もの は どれ でしょ う か 複数 の トランザクション が お互い の ロック 解放 を 待ち あっ て 処理 が 進ま なく なる 現象 で ある 複数 の トランザクション が お互い に ロールバック を 行う 現象 で ある 
37	DBMS が 待ち グラフ を 使用 する 目的 について 適切 な 記述 は どれ でしょ う か ロック 待ち し て いる トランザクション を ロール バック する ため に 使用 する デッドロック 検出 の ため に 使用 する ロック 待ち と なっ た トランザクション の ロック 解除 順 を 決定 する ため に 使用 する 
37	デッドロック を 抑制 する ため に 有効 な 方法 は どれ でしょ う か ロック の 粒 度 を 大きく する 2 相 ロッキング プロトコル に 従う データ の 更新 順 を ルール 化 する ロック の 保持 期間 を 長く する 
38	ノンリピータブルリード ( Non - Repeatable Read ) について の 説明 で 正しい もの は どれ でしょ う か 同 一 トランザクション 内 で 同じ データ を 複数 回 読み取っ た 場合 異なる 結果 を 得る 別 トランザクション の 未 コミット データ を 読み取っ て しまう 
38	ファントムリード が 発生 し ない 隔離 性 水準 は どれ でしょ う か READ COMMITTEDSERIALIZABLEREAD UNCOMMITTED 
38	トランザクション を 同時に 複数 実行 し た 場合 最も スループット の 高い 隔離 性 水準 は どれ でしょ う か READ COMMITTEDREAD U N C O M M I T TEDSERIALIZABLEREPEATABLE READ 
39	データベース の データ バッファ について 誤っ て いる 記述 は どれ でしょ う か DBMS は 表 の データ を ブロック 単位 で データ バッファ 内 に 読み取り 処理 を 行う DBMS は 表 の データ を 行 単位 で データ バッファ 内 に 読み取り 処理 を 行う ブロック サイズ を 大きく する と 一 度 に 大量 の データ を データ バッファ に 読み取る こと が できる 
39	データベース の 記憶 域 管理 に関する 記述 で 正しい もの は どれ でしょ う ブロック の 物理 読み取り 回数 が 少なく なれ ば バッファ ヒット 率 は 向上 する データディクショナリ は 文書 データ や 画像 など の 非 構造 化 データ を 格納 する ため の 領域 で ある バッファ ヒット 率 は 90 ％ 以上 に し なけれ ば なら ない オンライン トランザクション 処理 を 行う 場合 ブロック サイズ を 選択 可能 な DBMS で は 大きな ブロック サイズ を 選択 する 
39	データベース で 表 や 索引 の 定義 情報 を 格納 する 領域 の こと を 何と 呼ぶ でしょ う か データバッファデータディクショナリ 
40	データベース で の 更新 内容 を 順番 に 記録 し た ファイル を 何と いう でしょ う か データファイルログファイル 
40	トランザクション が 更新 を コミット し た 時 に DBMS が 行う 動作 は どれ でしょ う か データ バッファ 上 の 更新 ブロック を データベース に 書き込む チェックポイント を 行う ログバッファ の 内容 を ログ ファイル に 同期 的 に 書き込む 
40	データベース で の チェックポイント 動作 について 正しい 記述 は どれ でしょ う か データ バッファ 上 の 未 更新 ブロック を すべて データベース に 書き 戻す データ バッファ 上 の 未 コミット の 更新 ブロック のみ を データベース に 書き 戻す データ バッファ 上 の コミット 済 の 更新 ブロック のみ を データベース に 書き 戻す データ バッファ 上 の 更新 ブロック を コミット 未 コミット に 関わら ず すべて データベース に 書き 戻す 
41	データベース で 更新 を 行っ た 場合 ログ ファイル へ の 更新 ログ 書き込み と データベース へ の 更新 データ 書き込み 順 を 定め た 規約 を 何と いう でしょ う か WAL プロトコル 2 相 ロッキング プロトコル 
41	ある トランザクション が 更新 を 実行 中 に チェックポイント が 発生 し まし た チェックポイント 後 に その トランザクション は 更新 を コミット し まし た その後 システム 障害 が 発生 し まし た システム 障害 から の 回復 時 DBMS が この トランザクション が コミット し た 更新 データ を 回復 する ため に 行う 処理 は どれ でしょ う か チェックポイント 時点 から トランザクション が 処理 を 開始 し た 時点 まで 後退 復帰 チェックポイント 時点 から トランザクション が コミット し た 時点 まで 前進 復帰 システム 障害 発生 時点 から チェックポイント 時点 まで 後退 復帰 トランザクション が 処理 を 開始 し た 時点 から コミット し た 時点 まで 前進 復帰 
41	データベース で 発生 する 障害 の うち 回復 の ため に バックアップ の リストア を 必要 と する もの は どれ でしょ う か トランザクション 障害 媒体 障害 システム 障害 
42	常に 前回 取得 し た フルバック アップ から の 累積 変更 部分 を 取得 する バックアップ を 何と 呼ぶ でしょ う か フルバック アップ 増 分 バックアップ 差分 バックアップ 
42	データベース で データ 格納 領域 の 断片 化 を 解消 する ため に 行う べき 処理 は どれ でしょ う か 統計 情報 の 取得 再 編成 ログ の 運用 モード を アーカイブ モード に する バックアップ 
42	コストベースオプティマイザ が SQL の 最適 な アクセス プラン を 決定 する ため に 参照 する もの は 何 でしょ う か ログ ファイル 統計 情報 
43	分散 データベース の 移動 に対する 透過 性 について 正しい 記述 は どれ でしょ う か 同じ データ が 複数 の サイト に 格納 さ れ て い て も それ を 意識 せ ず に 利用 できる こと 分散 データベース を 構成 する いずれ か の サイト で 障害 が 発生 し て も それ を 意識 せ ず に 利用 できる こと 一つ の 表 の データ が 複数 の サイト に 分割 さ れ て 格納 さ れ て い て も それ を 意識 せ ず に 利用 できる こと データ の 格納 サイト が 変更 さ れ て も アプリケーション や 操作 に 影響 が ない こと 
43	分散 データベース で の 結合 処理 で 通信 負荷 の 少ない もの は どちら でしょ う か 入れ子 ループ 法 セミジョイン 法 
43	2 相 コミット プロトコル の 第 1 相 で 調停 者 から 全て の 参加 者 に 送信 さ れる メッセージ は どれ でしょ う か コミット 指示 準備 要求 ロール バック 指示 
44	以下 に あげ た もの の 中 で OLAP 操作 で は ない もの は どれ でしょ う か ダイシン グスライシングドリルダウンデータクレンジング 
44	分析 対象 データ を 関係 データベース に 格納 し て SQL で 多次元 分析 を 行う 技術 を 何と いう でしょ う か MOLAPROLAP 
44	膨大 な 蓄積 データ の 中 から 何らかの 法則 を 見つけ出し 新た な 価値 を 採掘 する 技術 を 何と いう でしょ う か データウェアハウス OLAP データ マイニング 
45	SAN （ ストレージエリアネットワーク ） を 構築 する ため の インタフェース として 正しい もの は どれ でしょ う か FC ( Fibre Channel ) USB 
45	RAID 4 の 説明 の うち 正しい もの は どれ でしょ う か 構成 する 磁気 ディスク 装置 の うち 一つ で も 故障 する と データ が すべて 失わ れる 複数 の ディスク 装置 に 同じ データ を 書き込む 方式 パリティ は 専用 の ディスク に 格納 さ れる 
45	ホット スタンバイ の 説明 の うち 正しい もの は どれ でしょ う か 稼働 する システム を 二つ 用意 し て 常に 同じ 処理 を さ せる 方式 業務 システム を 待機 系 で も 起動 さ せ て おく 方式 待機 系 で は OS のみ 起動 さ せ て おく 方式 稼働 系 に 障害 発生 時 他 の 用途 で 使用 し て い た システム を 稼働 系 として 使う 
45	情報 セキュリティ （ JIS Q 27002 ） で 維持 す べき 特性 と さ れ て いる もの は 次 の うち どれ でしょ う か 信頼 性 可用性 保守 性 機密 性 安全 性 可用性 
46	暗号 方式 の 説明 の うち 正しい もの は どれ でしょ う か 共通 鍵 暗号 方式 で 使う 鍵 は 公開 鍵 と 秘密 鍵 で ある ハイブリッド 方式 は SSL と IPsec を 組み合わせ た もの で ある AES は 共通 鍵 暗号 方式 の アルゴリズム で ある 公開 鍵 暗号 方式 は JIS Q 27002 で 標準 化 さ れ て いる 
46	データベース の 監査 機能 を 使用 する 場合 に 注意 す べき 点 は どれ でしょ う か 性能 が 低下 する 鍵 の 管理 を 厳密 に 行う 必要 が ある 毎日 データベース の バックアップ を 取得 する 
47	ビッグ データ の 説明 として 適切 な もの は どちら でしょ う か 従来 の 技術 で は 処理 し きれ ない ほど 膨大 で 多様 な データ を 表す 言葉 大量 に 蓄積 さ れ た 構造 化 データ の 集合 を 表す 言葉 
47	ビッグ データ の 特性 を 表す もの として 誤っ て いる もの は どれ でしょ う か Variety （ 多様 性 ） Volume （ 量 ） Viability （ 実行 可能 性 ） Velocity （ 速 さ 頻度 ） 
47	顧客 の 属性 （ 性別 年齢 など ） 趣味 嗜好 購買 履歴 など に 基づい て 適切 な 商品 を 自動的 に 判断 し て 薦める システム もしくは その 仕組み を なんと いう でしょ う か デジタル サイ ネージレコメンデーションクラウドコンピューティング 
1	情報 システム における リポジトリ に関する 記述 の うち 誤っ て いる もの は どれ でしょ う か 特定 の 目的 で 利用 者 が 共有 できる よう に 集約 し 登録 ・ 更新 し た データ を 検索 ・ 再 利用 できる よう に し た 仕組み の こと で ある あらゆる 情報 （ 組織 人 データ 成果 物 メタデータ など ） を 一元 的 に 管理 する 仕組み の こと で ある データ 管理 に関する 組織 全体 の 標準 化 を 担当 する 役割 の こと で ある データベース の システム 開発 業務 プロセス の こと で ある 
2	システム 開発 で 行わ れる ソフトウェア 適格 性 確認 テスト について その テスト 要求 事項 が 定義 さ れる アクティビティ は 次 の うち どれ でしょ う か ソフトウェア 要件 定義 ソフトウェア 方式 設計 ソフトウェア 詳細 設計 ソフトウェア 構築 
3	以下 の 概念 CDM について 正しい 記述 は どれ でしょ う か 概念 CDM は いかなる 場合 でも E - R 図 や UML の クラス 図 で 記述 し なく て は なら ない システム 開発 が 完了 し たら 概念 CDM へ 反映 し 可能 な 限り 最新 の 状態 に 保つ 組織 全体 で 管理 し て いる 用語 集 が あっ て も 概念 CDM 上 の データ や 関連 について は 一切 したがわ なく て 良い 概念 CDM は 経営 者 や 利害 関係 者 が 参照 する 可能 性 は 全く ない 
4	以下 の データベース の 要件 定義 に関する 記述 の うち 正しい もの は どれ でしょ う か 具体 的 な データベース 管理 システム 製品 名 を 決定 する ため の 要件 は 収集 し ない データベース 要件 は データ 量 や 運用 量 といった 非 機能 要件 のみ で 構成 さ れ て いる データベース 要件 に は トランザクション に対する 制約 など 一部 機能 要件 に 関わる もの も 含ま れる データベース 要件 に は セキュリティ 要件 は 含ま れ ない 
5	ANSI / SPARC 3 層 スキーマ に関する 記述 として 適切 で ない もの は どれ か ANSI / SPARC 3 層 スキーマ の 意義 は 物理 的 データ 独立 性 及び 論理 的 データ 独立 性 を 確保 する こと で ある 外部 スキーマ は 概念 スキーマ が 変化 し て も 応用 プログラム が できる だけ 影響 を 受け ない よう に する ため の 考え方 で ある 関係 データベース の ビュー や ネットワーク データベース の サブスキーマ は 概念 スキーマ に 相当 する 内部 スキーマ は 概念 スキーマ を コンピュータ 上 に 実装 する ため の 記述 で ある 
6	関係 データモデル に関する 記述 の うち 適切 な もの は どれ でしょ う か ドメイン は オブジェクト 指向 アプローチ で 用いる 概念 で あり データ 中心 アプローチ を 採用 する 場合 使用 し ない 属性 など の 集合 の 取り うる 値 の 範囲 を ドメイン と よぶ 表 の 列 にあたる 部分 を タプル （ 組 ） という 関係 データモデル において すべて の 属性 の 初期 値 は NULL で ある 
7	以下 の キー に関する 説明 の うち 誤っ て いる もの は どれ か スーパー キー は 主 キー および 候補 キー を 包含 する 候補 キー は スーパー キー を 包含 する が 主 キー を 包含 し ない 代用 キー で 置き換え られ た 後 の 元 の キー は 代替 キー と なる 代用 キー で 置き換え られ た 後 の 元 の キー は 代理 キー と なる 
7	関係 データベース の 代用 キー に関する 記述 の うち 正しい もの は どれ でしょ う か 主 キー 以外 の 候補 キー を 代用 キー と よぶ 行 を 一意 に 識別 できる 属性 もしくは 属性 の 組 の うち 極小 の もの を 代用 キー と よぶ 一意 な 属性 を 一つ 作成 し て 複合 キー の 代わり に 使用 する キー を 代用 キー と よぶ 同じ ドメイン を もつ 他 の 表 の 主 キー を 参照 する 属性 もしくは 属性 の 組 を 代理 キー と よぶ 
8	関数 従属 性 に関する 記述 の うち 正しい もの は どれ でしょ う か 属性 集合 X が 属性 集合 Y の 部分 集合 で ある 場合 Y は X に 関数 従属 する 属性 集合 Y が 属性 集合 X に 関数 従属 し て かつ 属性 集合 Z が Y に 関数 従属 し て いる 場合 X は Z に 関数 従属 する 属性 集合 Y が 属性 集合 X に 関数 従属 し て いる なら ば 任意 の 属性 集合 Z と する と Y と Z の 和 集合 は X と Z の 和 集合 に 関数 従属 する 関数 従属 性 の 公理 は 反射 律 追加 律 推移 律 の 三つ で ある 
8	関係 R の 関係 スキーマ が R （ A B C D E ） で あり 関数 従属 A → BCCD → E が 成立 する これら の 関数 従属 から 決定 できる R の 候補 キー は どれ か ここ で A B C D E は 属性 集合 で あり XY は X と Y の 和 集合 を あらわす 
9	データベース 正規 化 の 目的 の うち 適切 な もの は どれ でしょ う か 検索 速度 の 向上 I / O 回数 の 削減 データ の 重複 排除 対 障害 性 の 向上 
9	以下 の 正規 化 に関する 記述 の うち 誤っ て いる もの は どれ でしょ う か 非 正規 形 から 第 1 正規 形 へ の 変換 作業 において 情報 を 損失 する こと なく 作業 を おこなう こと が できる 第 1 正規 形 から 第 2 正規 形 へ の 変換 作業 において 情報 を 損失 する こと なく 作業 を おこなう こと が できる 第 2 正規 形 から 第 3 正規 形 へ の 変換 作業 において 情報 を 損失 する こと なく 作業 を おこなう こと が できる 第 3 正規 形 から ボイス・コッド 正規 形 へ の 変換 作業 において 情報 を 損失 する こと なく 作業 を おこなう こと が できる 
10	以下 の 記述 の うち 誤っ て いる もの は どれ でしょ う か 関数 従属 X → Y を 満たす 属性 集合 X Y が 存在 する 時 いかなる X の 真 部分 集合 X に対して も 関数 従属 X → Y が 成立 し ない 場合 Y は X に 完全 関数 従属 し て いる という 関数 従属 X → Y を 満たす 属性 集合 X Y が 存在 する 時 いかなる X の 真 部分 集合 X に対して も 関数 従属 X → Y が 成立 する 場合 Y は X に 完全 関数 従属 し て いる という 関数 従属 X → Y を 満たす 属性 集合 X Y が 存在 する 時 関数 従属 X → Y 場合 を 満たす 部分 集合 X が 存在 する 場合 Y は X に 完全 関数 従属 し て いる という 完全 関数 従属 で ある 関係 は 第 3 正規 形 で ある 
11	属性 x の 値 によって 属性 y の 値 が 一意 に 定まる こと を { x } → { y } で あらわす 図 に 示さ れる 関係 を 第 3 正規 形 の 表 として 正しく 定義 し て いる もの は どれ か ここ で { x } の 中 括弧 内 に 複数 の 属性 が 入っ て いる もの は それら 複数 の 属性 すべて の 値 によって 属性 y の 値 が 一意 に 定まる こと を 示す { a } → { b } { a } → { c } { a } → { d } { a } → { e } { b } → { f g } { b c } → { h } 表 1 { a } 表 2 { b c d e } 表 3 { f g h } 表 1 { a b c d e } 表 2 { a c } 表 3 { b e f g h } 表 1 { a b c d e } 表 2 { b c f g h } 表 3 { b c h } 表 1 { a b c d e } 表 2 { b f g } 表 3 { b c h } 
11	属性 間 の 従属 関係 を 次 の よう に 表記 する とき 属性 a ～ e で 構成 さ れる 関係 を 第 3 正規 形 に し た もの は どれ か 
13	和 集合 互換 （ 和 両立 ） で ある 関係 X Y が あり ます X と 等しい もの は どれ でしょ う か ここ で - は 差 演算 を 表し ます X -( Y - X ) Y -( Y - X ) X -( X - Y ) Y -( X - Y ) 
13	関係 代数 における 直積 に関する 記述 として 適切 な もの は どれ か ある 属性 の 値 に 条件 を 付加 し その 条件 を 満たす 全て の タプル の 集合 で ある ある 一つ の 関係 の 指定 さ れ た 属性 だけ を 残し て ほか の 属性 を 取り去っ て 得 られる 属性 の 集合 で ある 二つ の 関係 における あらかじめ 指定 さ れ て いる 二つ の 属性 の 2 項 関係 を 満たす 全て の タプル の 組み合わせ の 集合 で ある 二つ の 関係 における 全て の タプル の 組み合わせ の 集合 で ある 
14	以下 の “ 注文 “ 表 と “ 商品 “ 表 において 「 注文 ÷ 引当 商品 」 の 結果 は どれ でしょ う か ここ で ÷ は 商 演算 を あらわし ます 
15	商品 表 と “ 納品 “ 表 を 商品 番号 で 等 結合 し た 結果 表 は どれ か 
15	自然 結合 演算 と 同等 の 演算 を 実現 できる 演算 の 組み合わせ は どれ でしょ う か 直積 と 射影 直積 と 選択 と 射影 和 と 選択 と 射影 積 と 選択 と 射影 
16	データベース の 分析 ・ 設計 における 概念 設計 論理 設計 物理 設計 の うち 論理 設計 で 作成 する スキーマ の 組み合わせ の うち 正しい もの は どれ でしょ う か 概念 スキーマ と 内部 スキーマ 論理 スキーマ 概念 スキーマ と 外部 スキーマ 概念 スキーマ と 論理 スキーマ 
17	以下 の 関係 スキーマ の データモデル を E - R 図 で 表記 し た もの は どれ でしょ う か 関係 スキーマ および E - R 図 の 表記 法 は DB スペシャリスト 試験 の 表記 法 に 従う こと と し ます 
18	次 の 概念 データモデル を 関係 データベース 上 に 実装 する こと に し 実装 レベル の データモデル を 作成 し た 適切 な 多 重度 が 指定 さ れ て いる もの は どれ か ここ で データモデル の 表記 法 に UML の クラス 図 を 用いる 
19	図 は 選手 と 球団 と の 契約 を 概念 データモデル で 表し た もの です 球団 が なくなれ ば 契約 は 存在 でき なく なり 選手 が い なく なれ ば 契約 は 存在 でき なく なる と し ます この よう な 契約 エンティティ を 何と よぶ でしょ う か 
20	概念 レベル の データモデル 中 の エンティティ “ 会計 取引 “ に対する 制約 の 意味 について 適切 な 説明 は どれ か ここ で モデル の 表記 に は UML を 用いる 会計 取引 に 対応 する 仕分 記入 の 金額 が 今後 も 変化 し ない こと を 保証 する 勘定 間 を 移動 する 金額 が その 会計 取引 において 一致 する こと を 保証 する 勘定 の 残高 が その 会計 取引 を 記録 する ごと に 計算 さ れる こと を 保証 する 同一 の 勘定 同士 で 会計 取引 が 行わ れ ない こと を 保証 する 
22	社員 表 に対して 次 の 集約 関数 の 実行 結果 は それぞれ 何 件 に なる でしょ う か 正しい 件数 の 組み合わせ を 答え て ください ここ で 表 中 “ －” は 値 が NULL で ある こと を 示し ます SELECT COUNT (*) FROM 社員 SELECT COUNT ( 自宅 電話 ) FROM 社員 SELECT COUNT ( DISTINCT ( 職種 )) FROM 社員 
22	部品 表 に対する SQL の 実行 結果 の うち 正しい もの は どれ でしょ う か SELECT 部品 区分 MAX ( 購入 金額 ) AS 購入 金額 1 MIN ( 購入 金額 ) AS 購入 金額 2 FROM 部品 GROUP BY 部品 区分 HAVING SUM ( 在庫 数 ) >= 700 ORDER BY 部品 区分 
23	A 社 で は 社員 教育 の 一環 として 全 社員 を 対象 に 英会話 研修 を 行っ て い た が 本年度 （ 2005 年度 ） から は 4 月 時点 で 入社 3 年 を 経過 し て いる に も かかわら ず 初級 システム アドミニストレータ （ 初級 シスアド ） 試験 に 合格 し て い ない 技術 職種 の 社員 に対して 英会話 の 代わり に 初級 シスアド 研修 を 受講 さ せる こと に し た 本 年度 の 英会話 研修 を 受講 さ せる 社員 の 一覧 を 出力 する ため の SQL 文 は どれ か なお A 社 で は 社員 は すべて 4 月 1 日 入社 で あり 事業 年度 の 始まり は 4 月 1 日 で ある また ここ で 使用 する データベース に は 2005 年 4 月 1 日 時点 で の データ が 格納 さ れ て いる もの と する SELECT 社員 FROM 社員 テーブル WHERE ( 入社 年度 <= ( 2005 - 3 ) AND 職種 = 技術 ) AND 初級 シスアド 合格 = NOSELECT 社員 FROM 社員 テーブル WHERE ( 入社 年度 <= ( 2005 - 3 ) AND 職種 = 技術 ) OR 初級 シスアド 合格 = YESSELECT 社員 FROM 社員 テーブル WHERE NOT ( 入社 年度 <= ( 2005 - 3 ) AND 職種 = 技術 ) AND 初級 シスアド 合格 = NOSELECT 社員 FROM 社員 テーブル WHERE NOT ( 入社 年度 <= ( 2005 - 3 ) AND 職種 = 技術 ) OR 初級 シスアド 合格 = YES 
23	“ 学生 ” 表 に対し 次 の SELECT 文 を 実行 し た 結果 導出 さ れる 表 は どれ か ここ で 表 中 “ －” は 値 が NULL で ある こと を 示す SELECT 学生 番号 氏名 FROM 学生 WHERE 住所 = 東京 都 AND 自宅 電話 IS NOT NULL AND クラブ <> テニス 
24	社員 表 と “ 人事 異動 “ 表 から 社員 ごと の 勤務 成績 の 平均 を 求める 適切 な SQL 文 は どれ か ここ で 求める 項目 は 社員 コード 社員 名 勤務 成績 （ 平均 ） の 3 項目 と する SELECT 社員 . 社員 コード 社員 名 AVG ( 勤務 成績 ) AS “ 勤務 成績 （ 平均 ） “ FROM 社員 人事 異動 WHERE 社員 . 社員 コード = 人事 異動 . 社員 コード GROUP BY 勤務 成績 SELECT 社員 . 社員 コード 社員 名 AVG ( 勤務 成績 ) AS “ 勤務 成績 （ 平均 ） “ FROM 社員 人事 異動 WHERE 社員 . 社員 コード = 人事 異動 . 社員 コード GROUP BY 社員 . 社員 コード 社員 . 社員 名 SELECT 社員 . 社員 コード 社員 名 AVG ( 勤務 成績 )/ COUNT ( 勤務 成績 ) AS “ 勤務 成績 （ 平均 ） “ FROM 社員 人事 異動 WHERE 社員 . 社員 コード = 人事 異動 . 社員 コード GROUP BY 社員 . 社員 コード 社員 . 社員 名 SELECT 社員 . 社員 コード 社員 名 MAX ( 勤務 成績 )/ COUNT (*) AS “ 勤務 成績 （ 平均 ） “ FROM 社員 人事 異動 WHERE 社員 . 社員 コード = 人事 異動 . 社員 コード GROUP BY 社員 . 社員 コード 社員 . 社員 名 
24	“ 社員 ” 表 から “ 技術 ” を 担当 し て いる 社員 が 5 人 以上 在籍 する 所属 を 取得 する SQL は 次 の うち どれ でしょ う か なお 下図 中 下線 は 主 キー を 示し ます SELECT 所属 FROM 社員 WHERE 担当 = 技術 ORDER BY 所属 HAVING COUNT ( 所属 ) >= 5 SELECT 所属 FROM 社員 WHERE 担当 = 技術 GROUP BY 所属 HAVING COUNT ( 所属 ) >= 5 SELECT 所属 FROM 社員 WHERE 担当 = 技術 AND COUNT ( 所属 ) >= 5 SELECT 所属 FROM 社員 HAVING 担当 = 技術 AND COUNT ( 所属 ) >= 5 
25	「 社員 」 表 と 「 部門 」 表 に対して 次 の SQL 文 を 実行 し た 結果 として 正しい もの は どれ でしょ う か 結果 の 表 中 の 「 -」 は NULL を 示し ます SELECT 部門 名 手当 FROM 部門 LEFT OUTER JOIN 社員 ON 所属 = 部門 番号 WHERE 部門 番号 <> 4 
25	「 製品 」 表 に対して 次 の SQL 文 を 実行 し た 結果 として 正しい もの は どれ でしょ う か SELECT 製品 1 . 製品 名 製品 名 製品 2 . 製品 名 親 製品 名 FROM 製品 製品 1 製品 製品 2 WHERE 製品 1 . 親 製品 番号 = 製品 2 . 製品 番号 AND 製品 1 . グループ 番号 = 製品 2 . グループ 番号 AND NOT 製品 1 . 製品 番号 = 製品 1 . 親 製品 番号 
26	次 の SQL 文 と 同じ 検索 結果 が 得 られる SQL 文 は どれ か SELECT DISTINCT TBL 1 . COL 1 FROM TBL 1 WHERE COL 1 IN ( SELECT COL 1 FROM TBL 2 ) SELECT DISTINCT TBL 1 . COL 1 FROM TBL 1 UNION SELECT TBL 2 . COL 1 FROM TBL 2 SELECT DISTINCT TBL 1 . COL 1 FROM TBL 1 WHERE EXISTS ( SELECT * FROM TBL 2 WHERE TBL 1 . COL 1 = TBL 2 . COL 1 ) SELECT DISTINCT TBL 1 . COL 1 FROM TBL 1 WHERE TBL 1 . COL 1 = TBL 2 . COL 1 AND TBL 1 . COL 2 = TBL 2 . COL 2 SELECT DISTINCT TBL 1 . COL 1 FROM TBL 1 LEFT OUTER JOIN TBL 2 ON TBL 1 . COL 1 = TBL 2 . COL 1 
28	SQL で 使用 する カーソル の 説明 の うち 適切 な もの は どれ でしょ う か 動的 SQL で は 使用 する こと は でき ない カーソル 定義 の 書式 は DECLARE CURSOR FOR CURSOR _ 1 で ある 親言語 と SQL の 実行 結果 の 受け渡し に 使用 する COBOL や C 言語 で は 使用 する こと が でき ない 
29	関係 データベース の 利用 において 仮想 の 表 （ ビュー ） を 作る 目的 として 適切 な もの は どれ か 記憶 容量 を 節約 する ため 処理 速度 を 向上 さ せる ため セキュリティ を 向上 さ せる ため や 表操作 を 容易 に する ため デッドロック の 発生 を 減少 さ せる ため 
30	権限 の 説明 の うち 正しい もの は 次 の うち どれ でしょ う か ロール を ユーザ に 付与 する こと は でき ない ビュー は 仮想 の 表 な ので 権限 を 設定 する こと は でき ない 付与 さ れ た 権限 は 他 の 人 に 付与 でき ない ロール は 権限 を まとめる の に 使用 する 
31	DBMS の 制約 の うち 条件 として 設定 し た 特定 の 値 の 範囲 に 収まら ない データ の 格納 を 禁止 する もの は 次 の うち どれ でしょ う か ユニーク 制約 検査 制約 参照 制約 一意 性 制約 
32	参照 制約 を 設定 する ため の キーワード として 誤っ て いる もの は 次 の うち どれ でしょ う か REFERENCESCASCADEON INSERTFOREIGN KEY 
33	関係 データベース の 表 において 検索 速度 を 向上 さ せる ため に 列 Z に インデックス を 付与 する ア ～ エ は 列 Z の 値 が 等しい 行 の 数 を 示し た もの で ある インデックス を 付与 する こと によって 1 行 当たり の 平均 検索 速度 が 最も 向上 する もの は どれ か ここ で 各行 は 等 頻度 で 検索 さ れる もの と する 
36	以下 の 図表 は 先行 トランザクション が ある データ に ロック を かけ て いる 場合 同じ データ に対して 他 の トランザクション が ロック を 要求 に いく 時 の 競合 関係 を 示し た もの です 〇 は 共存 可能 X は 排他 的 で ある こと を 意味 し て い ます 図表 中 ①～④ に 入れる 組み合わせ で 正しい もの は どれ でしょ う か ① 共有 ロック 　② 占有 ロック ③ 占有 ロック ④ 共有 ロック ① 共有 ロック 　② 占有 ロック ③ 共有 ロック ④ 占有 ロック ① 占有 ロック 　② 共有 ロック ③ 占有 ロック ④ 共有 ロック ① 占有 ロック 　② 共有 ロック ③ 共有 ロック ④ 占有 ロック 
36	二つ の トランザクション T 1 T 2 が データ ab を 並行 し て アクセス する T 1 T 2 の 組み合わせ の うち 直列 可能 性 が 保証 できる もの は どれ か ここ で トランザクション の 各 操作 の 意味 は 次 の とおり と する LOCK x ： データ x を ロック する READ x ： データ x を 読み込む STORE x ： データ x を 書き出す UNLOCK x ： データ x を アン ロック する 
37	三つ の トランザクション T 1 T 2 T 3 が ①～⑪ の 順序 で データ ab に対する 処理 を 行っ た 場合 デッドロック に なる の は どの 時点 か ここ で DBMS は READ の 直前 の 共有 ロック UPDATE の 直前 に 占有 ロック を かけ ROLLBACK 又は COMMIT で すべて の ロック を 解除 する 
37	トランザクション T 1 T 2 T 3 T 4 が 同時に 実行 さ れ て い ます これら の トランザクション の 「 待ち グラフ 」 が 以下 の よう に なり まし た この 「 待ち グラフ 」 に関する 正しい 記述 は どれ でしょ う か デッドロック が 発生 し て いる T 1 は T 2 と T 3 が ロック を 解放 する の を 待っ て いる T 2 と T 3 は T 1 が ロック を 解放 する の を 待っ て いる T 1 が ロック を 解放 する と T 2 T 3 T 4 は ロック 待ち から 解放 さ れる 
38	トランザクション の 隔離 性 水準 に関する 記述 で 正しい もの は どれ でしょ う か トランザクション の 原子 性 （ Atomicity ） の 度合い を 示す もの で ある 隔離 性 水準 を READ UNCOMMITTED に 設定 する と ロスト アップデート （ Lost Update ） が 発生 する 可能 性 が ある 隔離 性 水準 を READ COMMITTED に 設定 する と ノンリピータブルリード ( Non - Repeatable Read ) が 発生 する 可能 性 が ある トランザクション を 同時に 複数 実行 し た 場合 最も スループット の 高い 隔離 性 水準 は SERIALIZABLE で ある 
39	DBMS が 管理 する データディクショナリ 領域 に 格納 さ れ ない もの は 表 や 索引 の 定義 情報 表 や 索引 の データ 表 や 索引 の 統計 情報 ビュー の 定義 情報 の うち どれ でしょ う か 
40	システム 障害 発生 時 に は データベース の 整合 性 を 保ち かつ 最新 の データベース 状態 に 復旧 する 必要 が ある この ため に DBMS が トランザクション の コミット 処理 終了 と みなす タイミング として 適切 な もの は どれ か すべて の 更新 データ の 実 更新 完了 時点 チェックポイント 処理 完了 時点 ログ バッファ へ の 書き込み 完了 時点 ログ ファイル へ の 書出し 完了 時点 の なか から 一つ 選べ 
41	チェックポイント を 取得 する DBMS において 図 の よう な 時間 経過 で システム 障害 が 発生 し た 前進 復帰 （ ロールフォワード ） によって 障害 回復 できる すべて の トランザクション は T 1 T 2 と T 3 T 4 と T 5 T 5 の うち どれ か 
42	データベース の 障害 回復 処理 に関する 記述 の うち 適切 な もの は どれ でしょ う か トランザクション 障害 が 発生 し た 場合 バックアップ の リストア が 必要 で ある システム 障害 が 発生 し た 場合 チェックポイント 後 に 終了 し た トラザクション について は 回復 処理 は 不要 で ある 媒体 障害 が 発生 し た 場合 バックアップ の リストア が 必要 で ある 障害 回復 処理 は DBMS が 実行 し て くれる ので データベース の バックアップ は 不要 で ある 
43	分散 データベース で 調停 者 と 参加 者 の 間 に 図 の よう な メッセージ 通信 が 発生 し まし た 調停 者 が ( A ) で 参加 者 に対して 発行 し た メッセージ は COMMIT 指示 ROLLBACK 指示 チェックポイント 指示 準備 要求 の うち どれ でしょ う か 
44	関係 データベース を 利用 し て データウェアハウス を スター スキーマ 構造 で 作成 する こと が ある この とき 分析 の 対象 と する トランザクション データ を 格納 する テーブル は どれ か ディ メン ジョン テーブル デシジョンテーブルハッシュテーブルファクトテーブル の 中 から １つ 選べ 
44	OLAP ( OnLine Analytical Processing ) で データ の 分析 視点 （ 分析 軸 ） を 変更 する 操作 の こと を 何と いう でしょ う か スライシングダイシングドリルダウンロールアップ の 中 から 選べ 
45	ディスク アレイ の 構成 方式 の 一つ で ある RAID に関する 記述 の うち 適切 な もの は どれ か RAID 1 RAID 2 RAID 3 は 非 冗長 構成 で あり RAID 4 RAID 5 は 冗長 構成 で ある RAID 1 は ディスク アレイ の うち 数 台 を 更新 ログ の 格納 に 用いる RAID 4 は ミラー ディスク を 使用 し た 構成 方式 で ある RAID 5 は パリティ ディスク を ディスク アレイ 内 に 分散 さ せる 方式 で ある 
46	公開 鍵 暗号 方式 の 記述 として 正しい の は どれ でしょ う か 共通 鍵 暗号 方式 より 高速 に 暗号 化 できる 公開 鍵 で 暗号 化 し た データ は 秘密 鍵 と 公開 鍵 で 復号 できる 暗号 化 アルゴリズム として RSA が ある 暗号 化 アルゴリズム として AES が ある 
47	機械 学習 に関する 説明 として 適切 な もの は どれ でしょ う か 人間 が 日常 的 に 使っ て いる 自然 言語 を 解析 し て 利用 する 一連 の 技術 統計 学 人工 知能 など の データ 解析 の 技法 を 大量 の データ に 網羅 的 に 適用 し て 知識 を 取り出す 技術 何 を 求め て 検索 を 行っ た か という 意味 を コンピュータ が 理解 し それ に 即し た 検索 結果 を 提供 する 技術 人間 が 自然 に 行っ て いる 学習 能力 と 同様 の 機能 を コンピュータ で 実現 さ せる ため の 技術 や 手法 
